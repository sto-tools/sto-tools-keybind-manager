const e="v2025.06.22-beta-1",t={};function a(e,a){if(t[e])for(const i of t[e])try{i(a)}catch(e){console.error(e)}}var i={on:function(e,a){t[e]||(t[e]=new Set),t[e].add(a)},off:function(e,a){t[e]&&t[e].delete(a)},emit:a,onDom:function(e,t,i,n){if("string"==typeof e&&(e=document.getElementById(e)),!e||!e.addEventListener)return()=>{};if("function"==typeof i&&(n=i,i=t),i||(i=t),n){const o=e=>{try{n(e)}catch(e){console.error(e)}a(i,e)};return e.addEventListener(t,o),()=>{e.removeEventListener(t,o)}}{const n=e=>a(i,e);return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}}};const n={commands:{targeting:{name:"Targeting",icon:"fas fa-crosshairs",description:"Target selection and management",commands:{target:{name:"Target by Name",command:"Target",description:"Target entity by name (requires quotes)",syntax:'Target "EntityName"',icon:"🎯",customizable:!0,parameters:{entityName:{type:"text",default:"EntityName",placeholder:"Enter entity name"}}},target_enemy_near:{name:"Target Nearest Enemy",command:"Target_Enemy_Near",description:"Target the nearest enemy in view",syntax:"Target_Enemy_Near",icon:"🎯"},target_friend_near:{name:"Target Nearest Friend",command:"Target_Friend_Near",description:"Target the nearest friendly entity",syntax:"Target_Friend_Near",icon:"🤝"},target_self:{name:"Target Self",command:"Target_Self",description:"Target your own ship/character",syntax:"Target_Self",icon:"👤"},target_clear:{name:"Clear Target",command:"Target_Clear",description:"Remove current target lock",syntax:"Target_Clear",icon:"❌"},target_teammate_1:{name:"Target Teammate 1",command:"Target_Teammate 1",description:"Target first team member",syntax:"Target_Teammate 1",icon:"👥"},target_teammate_2:{name:"Target Teammate 2",command:"Target_Teammate 2",description:"Target second team member",syntax:"Target_Teammate 2",icon:"👥"},target_teammate_3:{name:"Target Teammate 3",command:"Target_Teammate 3",description:"Target third team member",syntax:"Target_Teammate 3",icon:"👥"},target_teammate_4:{name:"Target Teammate 4",command:"Target_Teammate 4",description:"Target fourth team member",syntax:"Target_Teammate 4",icon:"👥"}}},combat:{name:"Combat",icon:"fas fa-fire",description:"Weapon firing and combat actions",commands:{fire_all:{name:"Fire All Weapons",command:"FireAll",description:"Fire all weapons",syntax:"FireAll",environment:"space",icon:"🔥",warning:"Not recommended on spam bars as it interferes with firing cycles"},fire_phasers:{name:"Fire Energy Weapons",command:"FirePhasers",description:"Fire all Energy Weapons",syntax:"FirePhasers",environment:"space",icon:"⚡",warning:"Not recommended on spam bars as it interferes with firing cycles"},fire_torps:{name:"Fire Torpedoes",command:"FireTorps",description:"Fire all Torpedos",syntax:"FireTorps",environment:"space",icon:"🚀",warning:"Not recommended on spam bars as it interferes with firing cycles"},fire_mines:{name:"Fire Mines",command:"FireMines",description:"Fire all Mines",syntax:"FireMines",environment:"space",icon:"💣",warning:"Not recommended on spam bars as it interferes with firing cycles"},fire_phasers_torps:{name:"Fire Phasers & Torpedoes",command:"FirePhasersTorps",description:"Fire phasers & torpedos",syntax:"FirePhasersTorps",environment:"space",icon:"💥",warning:"Not recommended on spam bars as it interferes with firing cycles"},fire_projectiles:{name:"Fire Projectiles",command:"FireProjectiles",description:"Fire torpedos & mines",syntax:"FireProjectiles",environment:"space",icon:"🎯",warning:"Not recommended on spam bars as it interferes with firing cycles"},aim:{name:"Aim/Scope",command:"aim",description:"Toggle scope on/off. In scope mode the player does more damage. Can either be used as a toggle or a press and hold",syntax:"aim",environment:"ground",icon:"🎯"},holster:{name:"Holster Weapon",command:"Holster",description:"Attempt to holster your active weapon",syntax:"Holster",environment:"ground",icon:"🔫"},holster_toggle:{name:"Holster Toggle",command:"HolsterToggle",description:"Attempt to holster or draw your weapons",syntax:"HolsterToggle",environment:"ground",icon:"🔄"},unholster:{name:"Unholster Weapon",command:"Unholster",description:"Attempt to draw your active weapon",syntax:"Unholster",environment:"ground",icon:"🔫"},toggle_shooter_mode:{name:"Toggle Shooter Mode",command:"ToggleShooterMode",description:"Toggle shooter mode on/off",syntax:"ToggleShooterMode",environment:"ground",icon:"🎮"},shooter_primary:{name:"Shooter Primary",command:"ShooterPrimary",description:"Primary shooter mode action",syntax:"ShooterPrimary",environment:"ground",icon:"🎯"},shooter_secondary:{name:"Shooter Secondary",command:"Shootersecondary",description:"Secondary shooter mode action",syntax:"Shootersecondary",environment:"ground",icon:"🎯"},shooter_tertiary:{name:"Shooter Tertiary",command:"Shootertertiary",description:"Tertiary shooter mode action",syntax:"Shootertertiary",environment:"ground",icon:"🎯"},shooter_clear_offset_tray_binds:{name:"Shooter Clear Offset Tray Binds",command:"ShooterClearOffsetTrayBinds",description:"Clear the starting location and movement of the yellow action box that appears on the tray while in shooter mode",syntax:"ShooterClearOffsetTrayBinds",environment:"ground",icon:"🧹"},shooter_clear_overlay_tray_binds:{name:"Shooter Clear Overlay Tray Binds",command:"ShooterClearOverlayTrayBinds",description:"Clear overlay tray bindings for shooter mode",syntax:"ShooterClearOverlayTrayBinds",environment:"ground",icon:"🧹"},shooter_set_offset_tray_binds:{name:"Shooter Set Offset Tray Binds",command:"ShooterSetOffsetTrayBinds",description:"Set the starting location and movement of the yellow action box that appears on the tray while in shooter mode",syntax:"ShooterSetOffsetTrayBinds",environment:"ground",icon:"⚙️"},shooter_set_overlay_tray_binds:{name:"Shooter Set Overlay Tray Binds",command:"ShooterSetOverlayTrayBinds",description:"Set overlay tray bindings for shooter mode",syntax:"ShooterSetOverlayTrayBinds",environment:"ground",icon:"⚙️"}}},cosmetic:{name:"Cosmetic",icon:"fas fa-palette",description:"Character appearance and customization",commands:{setactivecostume:{name:"Set Active Costume",command:"setactivecostume",description:"Sets current active costume. Requires two modifiers.",syntax:"setactivecostume <modifier1> <modifier2>",environment:"ground",icon:"👕",customizable:!0,parameters:{modifier1:{type:"text",default:"modifier1",placeholder:"First modifier"},modifier2:{type:"text",default:"modifier2",placeholder:"Second modifier"}}}}},bridge_officer:{name:"Bridge Officer",icon:"fas fa-user-friends",description:"Ground bridge officer control commands",commands:{setrallypoint:{name:"Set Rally Point",command:"Setrallypoint",description:"Set a rally point for your current target",syntax:"Setrallypoint",environment:"ground",icon:"📍"},setrallypointconsole:{name:"Set Rally Point (Console)",command:"Setrallypointconsole",description:"Set a rally point for your current target (console variant)",syntax:"Setrallypointconsole",environment:"ground",icon:"🖥️"},clearrallypoint:{name:"Clear Rally Point",command:"Clearrallypoint",description:"Clear the rally point for your current target",syntax:"Clearrallypoint",environment:"ground",icon:"❌"},clearallrallypoints:{name:"Clear All Rally Points",command:"Clearallrallypoints",description:"Clear all the rally points",syntax:"Clearallrallypoints",environment:"ground",icon:"🧹"},assist:{name:"Assist",command:"Assist",description:'Assist "<name>": Assists the Entity with the matching name. If no name is given, assists your current target.',syntax:"Assist <name>",environment:"ground",icon:"🤝",customizable:!0,parameters:{name:{type:"text",default:"",placeholder:"Entity name (optional)"}}}}},tray:{name:"Tray Execution",icon:"fas fa-th",description:"Execute abilities from action trays",commands:{custom_tray:{name:"Tray Execution",command:"+STOTrayExecByTray 0 0",description:"Execute specific tray slot",syntax:"+STOTrayExecByTray <tray> <slot>",icon:"⚡",customizable:!0,parameters:{tray:{type:"number",min:0,max:9,default:0},slot:{type:"number",min:0,max:9,default:0},command_type:{type:"select",options:["STOTrayExecByTray","TrayExecByTray"],default:"STOTrayExecByTray"}}},tray_with_backup:{name:"Tray Execution with Backup",command:"TrayExecByTrayWithBackup 1 0 0 0 0",description:"Execute specific tray slot with backup ability",syntax:"TrayExecByTrayWithBackup <active> <tray> <slot> <backup_tray> <backup_slot>",icon:"⚡",customizable:!0,parameters:{active:{type:"number",min:0,max:1,default:1},tray:{type:"number",min:0,max:9,default:0},slot:{type:"number",min:0,max:9,default:0},backup_tray:{type:"number",min:0,max:9,default:0},backup_slot:{type:"number",min:0,max:9,default:0}}},tray_range:{name:"Tray Range Execution",command:"+STOTrayExecByTray 0 0",description:"Execute a range of tray slots",syntax:"+STOTrayExecByTray <tray> <slot> $$ ... (range)",icon:"⚡",customizable:!0,parameters:{start_tray:{type:"number",min:0,max:9,default:0},start_slot:{type:"number",min:0,max:9,default:0},end_tray:{type:"number",min:0,max:9,default:0},end_slot:{type:"number",min:0,max:9,default:0},command_type:{type:"select",options:["STOTrayExecByTray","TrayExecByTray"],default:"STOTrayExecByTray"}}},tray_range_with_backup:{name:"Tray Range with Backup",command:"TrayExecByTrayWithBackup 1 0 0 0 0",description:"Execute a range of tray slots with backup abilities",syntax:"TrayExecByTrayWithBackup <active> <tray> <slot> <backup_tray> <backup_slot> $$ ... (range)",icon:"⚡",customizable:!0,parameters:{active:{type:"number",min:0,max:1,default:1},start_tray:{type:"number",min:0,max:9,default:0},start_slot:{type:"number",min:0,max:9,default:0},end_tray:{type:"number",min:0,max:9,default:0},end_slot:{type:"number",min:0,max:9,default:0},backup_start_tray:{type:"number",min:0,max:9,default:0},backup_start_slot:{type:"number",min:0,max:9,default:0},backup_end_tray:{type:"number",min:0,max:9,default:0},backup_end_slot:{type:"number",min:0,max:9,default:0}}},whole_tray:{name:"Whole Tray Execution",command:"+STOTrayExecByTray 0 0",description:"Execute all slots in a tray",syntax:"+STOTrayExecByTray <tray> <slot> $$ ... (all slots)",icon:"⚡",customizable:!0,parameters:{tray:{type:"number",min:0,max:9,default:0},command_type:{type:"select",options:["STOTrayExecByTray","TrayExecByTray"],default:"STOTrayExecByTray"}}},whole_tray_with_backup:{name:"Whole Tray with Backup",command:"TrayExecByTrayWithBackup 1 0 0 0 0",description:"Execute all slots in a tray with backup tray",syntax:"TrayExecByTrayWithBackup <active> <tray> <slot> <backup_tray> <backup_slot> $$ ... (all slots)",icon:"⚡",customizable:!0,parameters:{active:{type:"number",min:0,max:1,default:1},tray:{type:"number",min:0,max:9,default:0},backup_tray:{type:"number",min:0,max:9,default:0}}}}},power:{name:"Shield Management",icon:"fas fa-shield-alt",description:"Shield power and distribution management",commands:{distribute_shields:{name:"Distribute Shields",command:"+power_exec Distribute_Shields",description:"Evenly distributes shields as if clicking in the middle of the ship and shields icon",syntax:"+power_exec Distribute_Shields",environment:"space",icon:"🛡️",warning:"Not recommended on spam bars as it interferes with firing cycles"},reroute_shields_rear:{name:"Reroute Shields Rear",command:"+power_exec reroute_shields_rear",description:"Route shield power to rear facing",syntax:"+power_exec reroute_shields_rear",environment:"space",icon:"🛡️"},reroute_shields_left:{name:"Reroute Shields Left",command:"+power_exec reroute_shields_left",description:"Route shield power to left side",syntax:"+power_exec reroute_shields_left",environment:"space",icon:"🛡️"},reroute_shields_right:{name:"Reroute Shields Right",command:"+power_exec reroute_shields_right",description:"Route shield power to right side",syntax:"+power_exec reroute_shields_right",environment:"space",icon:"🛡️"},reroute_shields_forward:{name:"Reroute Shields Forward",command:"+power_exec reroute_shields_forward",description:"Route shield power to forward facing",syntax:"+power_exec reroute_shields_forward",environment:"space",icon:"🛡️"}}},movement:{name:"Movement",icon:"fas fa-arrows-alt",description:"Ship movement and navigation",commands:{full_impulse:{name:"Full Impulse",command:"+fullimpulse",description:"Engage full impulse drive",syntax:"+fullimpulse",environment:"space",icon:"🚀"},reverse:{name:"Reverse",command:"+reverse",description:"Reverse engines",syntax:"+reverse",icon:"⬅️"},throttle_adjust:{name:"Throttle Adjust",command:"ThrottleAdjust",description:"Increase or decrease the throttle by amount",syntax:"ThrottleAdjust <amount>",icon:"⚡",customizable:!0,parameters:{amount:{type:"number",min:-1,max:1,default:.25,step:.05}}},throttle_set:{name:"Throttle Set",command:"ThrottleSet",description:"Set the throttle to a specific position (negative = reverse, 0 = stop)",syntax:"ThrottleSet <position>",icon:"🎛️",customizable:!0,parameters:{position:{type:"number",min:-1,max:1,default:1,step:.1}}},throttle_toggle:{name:"Throttle Toggle",command:"ThrottleToggle",description:"Alternates between full throttle and full stop",syntax:"ThrottleToggle",icon:"🔄"},turn_left:{name:"Turn Left",command:"+turnleft",description:"Turn ship left (continuous while held)",syntax:"+turnleft",icon:"↪️"},turn_right:{name:"Turn Right",command:"+turnright",description:"Turn ship right (continuous while held)",syntax:"+turnright",icon:"↩️"},pitch_up:{name:"Pitch Up",command:"+up",description:"Pitch ship nose up (space altitude change)",syntax:"+up",icon:"⬆️"},pitch_down:{name:"Pitch Down",command:"+down",description:"Pitch ship nose down (space altitude change)",syntax:"+down",icon:"⬇️"},strafe_left:{name:"Strafe Left",command:"+left",description:"Strafe ship left",syntax:"+left",icon:"⬅️"},strafe_right:{name:"Strafe Right",command:"+right",description:"Strafe ship right",syntax:"+right",icon:"➡️"},forward:{name:"Forward",command:"+forward",description:"Move forward",syntax:"+forward",icon:"⬆️"},backward:{name:"Backward",command:"+backward",description:"Move backward",syntax:"+backward",icon:"⬇️"},auto_forward:{name:"Auto Forward",command:"autoForward",description:"Character moves forward until given new movement commands",syntax:"autoForward",environment:"ground",icon:"🏃"},follow:{name:"Follow Target",command:"Follow",description:"Follow the targeted entity",syntax:"Follow",icon:"👥"},follow_cancel:{name:"Cancel Follow",command:"Follow_Cancel",description:"Stop following and forget about the target",syntax:"Follow_Cancel",icon:"❌"}}},camera:{name:"Camera",icon:"fas fa-video",description:"Camera control and view management",commands:{zoom_in:{name:"Zoom In",command:"Camzoomin",description:"Zoom the camera in",syntax:"Camzoomin",icon:"🔍"},zoom_out:{name:"Zoom Out",command:"Camzoomout",description:"Zoom the camera out",syntax:"Camzoomout",icon:"🔎"},zoom_in_small:{name:"Zoom In Small",command:"Camzoominsmall",description:"Zoom the camera in slightly",syntax:"Camzoominsmall",icon:"🔍"},zoom_out_small:{name:"Zoom Out Small",command:"Camzoomoutsmall",description:"Zoom the camera out slightly",syntax:"Camzoomoutsmall",icon:"🔎"},cam_distance:{name:"Set Camera Distance",command:"camdist",description:"Sets the camera distance from the player",syntax:"camdist <distance>",icon:"📏",customizable:!0,parameters:{distance:{type:"number",min:1,max:500,default:50}}},cam_reset:{name:"Reset Camera",command:"CamReset",description:"Reset the camera position to default",syntax:"CamReset",icon:"🔄"},cam_target_lock:{name:"Lock Camera to Target",command:"Camsetlocktotarget",description:"Lock or unlock the camera to the target",syntax:"Camsetlocktotarget",icon:"🎯"},cam_cycle_distance:{name:"Cycle Camera Distance",command:"camCycleDist",description:"Cycle the camera distance between several preset values",syntax:"camCycleDist",icon:"🔄"},cam_mouse_look:{name:"Mouse Look",command:"+camMouseLook",description:"Enable mouse look camera control",syntax:"+camMouseLook",icon:"🖱️"},cam_turn_to_face:{name:"Turn to Face Camera",command:"+camTurnToFace",description:"Turn ship to face camera direction",syntax:"+camTurnToFace",icon:"↪️"},look_up:{name:"Look Up",command:"lookUp",description:"Change point of view to look straight up",syntax:"lookUp",icon:"⬆️"},look_down:{name:"Look Down",command:"lookDown",description:"Change point of view to look straight down",syntax:"lookDown",icon:"⬇️"}}},communication:{name:"Communication",icon:"fas fa-comments",description:"Chat and team communication",commands:{team_message:{name:"Team Message",command:"team",description:"Send message to team",syntax:"team message",icon:"💬",customizable:!0,parameters:{message:{type:"text",default:"Message text here"}}},local_message:{name:"Local Message",command:"say",description:"Send message to local area",syntax:"say message",icon:"📢",customizable:!0,parameters:{message:{type:"text",default:"Message text here"}}},zone_message:{name:"Zone Message",command:"zone",description:"Send message to zone",syntax:"zone message",icon:"📡",customizable:!0,parameters:{message:{type:"text",default:"Message text here"}}}}},system:{name:"System",icon:"fas fa-cog",description:"UI and system commands",commands:{toggle_hud:{name:"Toggle HUD",command:"+GenToggleHUD",description:"Toggle HUD visibility",syntax:"+GenToggleHUD",icon:"👁️"},screenshot:{name:"Screenshot",command:"screenshot",description:"Take a screenshot",syntax:"screenshot",icon:"📷"},screenshot_jpg:{name:"Screenshot JPG",command:"screenshot_jpg",description:"Save a screenshot as JPG",syntax:"screenshot_jpg",icon:"📷"},autofire_toggle:{name:"Toggle Autofire",command:"+GenToggleAutofire",description:"Toggle weapon autofire",syntax:"+GenToggleAutofire",icon:"🔁"},bind_save_file:{name:"Save Binds to File",command:"bind_save_file",description:"Save all your binds to a text file",syntax:"bind_save_file <filename>",icon:"💾",customizable:!0,parameters:{filename:{type:"text",default:"my_binds.txt"}}},bind_load_file:{name:"Load Binds from File",command:"bind_load_file",description:"Load a bind file into the client",syntax:"bind_load_file <filename>",icon:"📁",customizable:!0,parameters:{filename:{type:"text",default:"my_binds.txt"}}},combat_log:{name:"Toggle Combat Log",command:"CombatLog",description:"Turn combat log recording on/off (1=on, 0=off)",syntax:"CombatLog <1/0>",icon:"📊",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},chat_log:{name:"Toggle Chat Log",command:"ChatLog",description:"Turn chat log recording on/off (1=on, 0=off)",syntax:"ChatLog <1/0>",icon:"💬",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},missions:{name:"Show/Hide Missions",command:"missions",description:"Show/hide the mission journal",syntax:"missions",icon:"📋"},inventory:{name:"Show/Hide Inventory",command:"Inventory",description:"Show/hide your inventory",syntax:"Inventory",icon:"🎒"},map:{name:"Show/Hide Map",command:"Map",description:"Show/hide the map window",syntax:"Map",icon:"🗺️"},logout:{name:"Logout",command:"logout",description:"Log out the current character",syntax:"logout",icon:"🚪"},quit:{name:"Quit Game",command:"quit",description:"Close the window",syntax:"quit",icon:"❌"},goto_character_select:{name:"Go to Character Select",command:"gotoCharacterSelect",description:"Go to the character select screen without logging out",syntax:"gotoCharacterSelect",icon:"👤"},ui_load:{name:"Load UI Settings",command:"ui_load",description:"Loads default UI Windows save file, usually Live\\ui_settings.txt",syntax:"ui_load",icon:"📂"},ui_load_file:{name:"Load UI Settings File",command:"ui_load_file",description:"Loads named UI Windows save file",syntax:"ui_load_file <filename>",icon:"📂",customizable:!0,parameters:{filename:{type:"text",default:"ui_settings.txt"}}},ui_save:{name:"Save UI Settings",command:"ui_save",description:"Saves UI layout to default UI Window save file, usually Live\\ui_settings.txt",syntax:"ui_save",icon:"💾"},ui_save_file:{name:"Save UI Settings File",command:"ui_save_file",description:"Saves UI layout to named UI Window save file",syntax:"ui_save_file <filename>",icon:"💾",customizable:!0,parameters:{filename:{type:"text",default:"ui_settings.txt"}}},ui_cancel:{name:"UI Cancel",command:"uiCancel",description:'Respond "Cancel" to an open dialog box; may not work in all dialogs',syntax:"uiCancel",icon:"❌"},ui_ok:{name:"UI OK",command:"uiOK",description:'Respond "OK" to an open dialog box; may not work in all dialogs',syntax:"uiOK",icon:"✅"},ui_gen_layers_reset:{name:"Reset UI Layout",command:"ui_GenLayersReset",description:"Resets the layout, used for when the server updates movable window positions",syntax:"ui_GenLayersReset",icon:"🔄"},ui_resolution:{name:"Print UI Resolution",command:"ui_resolution",description:"Print the current UI screen resolution",syntax:"ui_resolution",icon:"📐"},ui_tooltip_delay:{name:"Set Tooltip Delay",command:"ui_TooltipDelay",description:"Sets the additional delay, in seconds, before tooltips appear",syntax:"ui_TooltipDelay <seconds>",icon:"⏱️",customizable:!0,parameters:{seconds:{type:"number",min:0,max:10,default:.5,step:.1}}},remember_ui_lists:{name:"Remember UI Lists",command:"RememberUILists",description:"Whether to remember UI List Column placement and width",syntax:"RememberUILists <1/0>",icon:"📋",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},ui_remember_positions:{name:"Remember UI Positions",command:"UIRememberPositions",description:"Whether to remember UI sizes and positions. On by default",syntax:"UIRememberPositions <1/0>",icon:"📍",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},safe_login:{name:"Safe Login",command:"SafeLogin",description:"If true, then log the player back into their most recent static map instead of anything else",syntax:"SafeLogin <1/0>",icon:"🛡️",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},show_game_ui:{name:"Show Game UI",command:"ShowGameUI",description:"Show the game UI",syntax:"ShowGameUI",icon:"🎮"},show_game_ui_no_extra_keybinds:{name:"Show Game UI (No Extra Keybinds)",command:"ShowGameUINoExtraKeyBinds",description:"This command does not add any keybinds for showing the UI when the user presses escape",syntax:"ShowGameUINoExtraKeyBinds",icon:"🎮"},change_instance:{name:"Change Instance",command:"ChangeInstance",description:"Change to an already created instance of the same map. Only works while not at red alert",syntax:"ChangeInstance",icon:"🔄"},net_timing_graph:{name:"Net Timing Graph",command:"netTimingGraph",description:"Enable or disable the network timing graph (0=disable, 1=enable)",syntax:"netTimingGraph <0/1>",icon:"📊",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}},net_timing_graph_alpha:{name:"Net Timing Graph Alpha",command:"netTimingGraphAlpha",description:"Set transparency level for network timing graph (50=highest transparency, 255=no transparency)",syntax:"netTimingGraphAlpha <50-255>",icon:"🎨",customizable:!0,parameters:{alpha:{type:"number",min:50,max:255,default:255}}},net_timing_graph_paused:{name:"Net Timing Graph Paused",command:"netTimingGraphPaused",description:"Pause or resume the network timing graph (0=pause disabled, 1=pause enabled)",syntax:"netTimingGraphPaused <0/1>",icon:"⏸️",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:0}}},netgraph:{name:"Net Graph",command:"netgraph",description:"Display SND and RCV network data as text (1=enabled, 0=disabled)",syntax:"netgraph <0/1>",icon:"🌐",customizable:!0,parameters:{state:{type:"number",min:0,max:1,default:1}}}}}},templates:{space_combat:{basic_attack:{name:"Basic Attack Sequence",description:"Target enemy and fire all weapons",commands:["Target_Enemy_Near","FireAll"]},defensive_sequence:{name:"Defensive Sequence",description:"Target self and activate defensive abilities",commands:["Target_Self","+power_exec Distribute_Shields"]},alpha_strike:{name:"Alpha Strike",description:"Full offensive sequence with buffs",commands:["Target_Enemy_Near","FireAll"]},healing_sequence:{name:"Emergency Healing",description:"Self-healing and damage control",commands:["Target_Self","+power_exec Distribute_Shields"]}},ground_combat:{basic_ground_attack:{name:"Basic Ground Attack",description:"Target and attack sequence for ground combat",commands:["Target_Enemy_Near","+STOTrayExecByTray 0 0"]}}},defaultProfiles:{default_space:{name:"Default Space",description:"Basic space combat configuration",currentEnvironment:"space",builds:{space:{keys:{Space:[{command:"Target_Enemy_Near",type:"targeting",icon:"🎯",text:"Target nearest enemy",id:"cmd_1"},{command:"FireAll",type:"combat",icon:"🔥",text:"Fire all weapons",id:"cmd_2"}]}},ground:{keys:{Space:[{command:"Target_Enemy_Near",type:"targeting",icon:"🎯",text:"Target nearest enemy",id:"cmd_g1"},{command:"+STOTrayExecByTray 0 0",type:"tray",icon:"⚡",text:"Primary attack",id:"cmd_g2"}]}}},aliases:{AttackCall:{description:"Call out attack target to team",commands:"team Attacking [$Target] - focus fire!"},TargetReport:{description:"Report current target to team",commands:"team Current target: [$Target]"},HealCall:{description:"Request healing for target",commands:"team Need healing on [$Target]!"}}},tactical_space:{name:"Tactical Space",description:"Aggressive DPS-focused space build",currentEnvironment:"space",builds:{space:{keys:{Space:[{command:"Target_Enemy_Near",type:"targeting",icon:"🎯",text:"Target nearest enemy",id:"cmd_1"},{command:"+STOTrayExecByTray 0 0",type:"tray",icon:"⚡",text:"Execute Tray 1 Slot 1",id:"cmd_2"},{command:"FireAll",type:"combat",icon:"🔥",text:"Fire all weapons",id:"cmd_3"},{command:"+power_exec Distribute_Shields",type:"power",icon:"🛡️",text:"Distribute shields",id:"cmd_4"}],1:[{command:"+STOTrayExecByTray 1 0",type:"tray",icon:"⚡",text:"Execute Tray 2 Slot 1",id:"cmd_5"}],F1:[{command:"Target_Self",type:"targeting",icon:"👤",text:"Target self",id:"cmd_6"},{command:"+STOTrayExecByTray 2 0",type:"tray",icon:"⚡",text:"Execute Tray 3 Slot 1",id:"cmd_7"}]}},ground:{keys:{Space:[{command:"Target_Enemy_Near",type:"targeting",icon:"🎯",text:"Target nearest enemy",id:"cmd_g1"},{command:"+STOTrayExecByTray 0 0",type:"tray",icon:"⚡",text:"Primary attack",id:"cmd_g2"}],1:[{command:"+STOTrayExecByTray 0 1",type:"tray",icon:"⚡",text:"Secondary attack",id:"cmd_g3"}],F1:[{command:"Target_Self",type:"targeting",icon:"👤",text:"Target self",id:"cmd_g4"},{command:"+STOTrayExecByTray 1 0",type:"tray",icon:"💊",text:"Heal self",id:"cmd_g5"}]}}},aliases:{}}},keys:{common:{name:"Common Keys",description:"Most frequently used keys",keys:[{key:"Space",description:"Spacebar"},{key:"1",description:"Number 1"},{key:"2",description:"Number 2"},{key:"3",description:"Number 3"},{key:"4",description:"Number 4"},{key:"5",description:"Number 5"},{key:"F1",description:"Function Key 1"},{key:"F2",description:"Function Key 2"},{key:"F3",description:"Function Key 3"},{key:"F4",description:"Function Key 4"},{key:"Tab",description:"Tab"},{key:"enter",description:"Main Enter Key"},{key:"Shift",description:"Shift"},{key:"Control",description:"Control"},{key:"ALT",description:"Alt"}]},letters:{name:"Letter Keys",description:"A-Z keyboard letters",keys:[{key:"A",description:"Key A"},{key:"B",description:"Key B"},{key:"C",description:"Key C"},{key:"D",description:"Key D"},{key:"E",description:"Key E"},{key:"F",description:"Key F"},{key:"G",description:"Key G"},{key:"H",description:"Key H"},{key:"I",description:"Key I"},{key:"J",description:"Key J"},{key:"K",description:"Key K"},{key:"L",description:"Key L"},{key:"M",description:"Key M"},{key:"N",description:"Key N"},{key:"O",description:"Key O"},{key:"P",description:"Key P"},{key:"Q",description:"Key Q"},{key:"R",description:"Key R"},{key:"S",description:"Key S"},{key:"T",description:"Key T"},{key:"U",description:"Key U"},{key:"V",description:"Key V"},{key:"W",description:"Key W"},{key:"X",description:"Key X"},{key:"Y",description:"Key Y"},{key:"Z",description:"Key Z"}]},numbers:{name:"Number Keys",description:"Number row and numpad",keys:[{key:"0",description:"Number 0"},{key:"6",description:"Number 6"},{key:"7",description:"Number 7"},{key:"8",description:"Number 8"},{key:"9",description:"Number 9"},{key:"numpad0",description:"Numerical Keypad 0"},{key:"numpad1",description:"Numerical Keypad 1"},{key:"numpad2",description:"Numerical Keypad 2"},{key:"numpad3",description:"Numerical Keypad 3"},{key:"numpad4",description:"Numerical Keypad 4"},{key:"numpad5",description:"Numerical Keypad 5"},{key:"numpad6",description:"Numerical Keypad 6"},{key:"numpad7",description:"Numerical Keypad 7"},{key:"numpad8",description:"Numerical Keypad 8"},{key:"numpad9",description:"Numerical Keypad 9"},{key:"Decimal",description:"Numerical Keypad Decimal"},{key:"Divide",description:"Numerical Keypad Divide"},{key:"Multiply",description:"Multiply (*)"},{key:"Subtract",description:"Subtract (-)"},{key:"Add",description:"Add (+)"},{key:"numpadenter",description:"Numerical Keypad Enter"}]},function:{name:"Function Keys",description:"F1-F24 function keys",keys:[{key:"F5",description:"Function Key 5"},{key:"F6",description:"Function Key 6"},{key:"F7",description:"Function Key 7"},{key:"F8",description:"Function Key 8"},{key:"F9",description:"Function Key 9"},{key:"F10",description:"Function Key 10"},{key:"F11",description:"Function Key 11"},{key:"F12",description:"Function Key 12"},{key:"F13",description:"Function Key 13"},{key:"F14",description:"Function Key 14"},{key:"F15",description:"Function Key 15"},{key:"F16",description:"Function Key 16"},{key:"F17",description:"Function Key 17"},{key:"F18",description:"Function Key 18"},{key:"F19",description:"Function Key 19"},{key:"F20",description:"Function Key 20"},{key:"F21",description:"Function Key 21"},{key:"F22",description:"Function Key 22"},{key:"F23",description:"Function Key 23"},{key:"F24",description:"Function Key 24"}]},arrows:{name:"Arrow & Navigation",description:"Arrow keys and navigation",keys:[{key:"Up",description:"Arrow Key: Up"},{key:"Down",description:"Arrow Key: Down"},{key:"Left",description:"Arrow Key: Left"},{key:"Right",description:"Arrow Key: Right"},{key:"Home",description:"Home"},{key:"End",description:"End"},{key:"PageUp",description:"Page Up"},{key:"PageDown",description:"Page Down"},{key:"insert",description:"Insert"},{key:"delete",description:"Delete"}]},modifiers:{name:"Modifier Keys",description:"Shift, Ctrl, Alt variations",keys:[{key:"ALT",description:"Alt"},{key:"LALT",description:"Alt (Left)"},{key:"RALT",description:"Alt (Right)"},{key:"CTRL",description:"Control"},{key:"LCTRL",description:"Control (Left)"},{key:"RCTRL",description:"Control (Right)"}]},symbols:{name:"Symbol Keys",description:"Punctuation and symbols",keys:[{key:"[",description:"["},{key:"]",description:"]"},{key:"\\",description:"\\"},{key:",",description:"Comma (,)"},{key:".",description:"Period (.)"},{key:"/",description:"Divide (/)"},{key:"`",description:"Tilda Key (~)"}]},mouse:{name:"Mouse Controls",description:"Mouse buttons and scroll",keys:[{key:"Lbutton",description:"Mouse Left Press"},{key:"Rbutton",description:"Mouse Right Press"},{key:"Middleclick",description:"Mouse Middle Click"},{key:"Button1",description:"Mouse Button 1"},{key:"Button2",description:"Mouse Button 2"},{key:"Button3",description:"Mouse Button 3"},{key:"Button4",description:"Mouse Button 4"},{key:"Button5",description:"Mouse Button 5"},{key:"Button6",description:"Mouse Button 6"},{key:"Button7",description:"Mouse Button 7"},{key:"Button8",description:"Mouse Button 8"},{key:"Button9",description:"Mouse Button 9"},{key:"Button10",description:"Mouse Button 10"},{key:"Wheelplus",description:"Mouse Scroll Up"},{key:"Wheelminus",description:"Mouse Scroll Down"}]},gamepad:{name:"Xbox Controller",description:"Xbox/Gamepad controls",keys:[{key:"Joy1",description:"XBOX Contr [Start]"},{key:"Joy2",description:"XBOX Contr [Back]"},{key:"Joy3",description:"XBOX Contr [L Thumb depress]"},{key:"Joy4",description:"XBOX Contr [R Thumb depress]"},{key:"Joy5",description:"XBOX Contr [Left Bumper]"},{key:"Joy6",description:"XBOX Contr [Right Bumper]"},{key:"Joy7",description:"XBOX Contr [Left Trigger]"},{key:"Joy8",description:"XBOX Contr [Right Trigger]"},{key:"Joy9",description:"XBOX Contr [A Button]"},{key:"Joy10",description:"XBOX Contr [B Button]"},{key:"Joy11",description:"XBOX Contr [X Button]"},{key:"Joy12",description:"XBOX Contr [Y Button]"},{key:"Joypad_up",description:"XBOX Contr [Pad up]"},{key:"Joypad_down",description:"XBOX Contr [Pad down]"},{key:"Joypad_left",description:"XBOX Contr [Pad left]"},{key:"Joypad_right",description:"XBOX Contr [Pad right]"},{key:"Lstick_up",description:"XBOX Contr [Left Stick up]"},{key:"Lstick_down",description:"XBOX Contr [Left Stick down]"},{key:"Lstick_left",description:"XBOX Contr [Left Stick left]"},{key:"Lstick_right",description:"XBOX Contr [Left Stick right]"},{key:"Rstick_up",description:"XBOX Contr [Right Stick up]"},{key:"Rstick_down",description:"XBOX Contr [Right Stick down]"},{key:"Rstick_left",description:"XBOX Contr [Right Stick left]"},{key:"Rstick_right",description:"XBOX Contr [Right Stick right]"}]}},validation:{keyNamePattern:/^[a-zA-Z0-9_+\-\s]+$/,aliasNamePattern:/^[a-zA-Z_][a-zA-Z0-9_]*$/,maxCommandsPerKey:20,maxKeysPerProfile:100},settings:{version:"1.0.0",autoSave:!0,maxUndoSteps:50,defaultMode:"space",language:"en"},variables:{target:{variable:"$Target",description:"Replaced with the name of your current target",example:"team Target [$Target]",usableIn:["communication","custom","aliases"],notes:"If your target's name is 'froggyMonster', this will output 'Target [froggyMonster]'"}}};window.STO_DATA=n,window.COMMAND_CATEGORIES=n.commands,window.COMMANDS={},Object.entries(n.commands).forEach(([e,t])=>{Object.entries(t.commands).forEach(([t,a])=>{window.COMMANDS[t]={...a,category:e,key:t}})}),window.KEY_LAYOUTS=n.keyLayouts||{qwerty:{name:"QWERTY",rows:[[{key:"Escape",display:"Esc"},{key:"F1",display:"F1"},{key:"F2",display:"F2"},{key:"F3",display:"F3"},{key:"F4",display:"F4"},{key:"F5",display:"F5"},{key:"F6",display:"F6"},{key:"F7",display:"F7"},{key:"F8",display:"F8"},{key:"F9",display:"F9"},{key:"F10",display:"F10"},{key:"F11",display:"F11"},{key:"F12",display:"F12"}],[{key:"`",display:"`"},{key:"1",display:"1"},{key:"2",display:"2"},{key:"3",display:"3"},{key:"4",display:"4"},{key:"5",display:"5"},{key:"6",display:"6"},{key:"7",display:"7"},{key:"8",display:"8"},{key:"9",display:"9"},{key:"0",display:"0"},{key:"-",display:"-"},{key:"=",display:"="},{key:"Backspace",display:"Backspace"}],[{key:"Tab",display:"Tab"},{key:"Q",display:"Q"},{key:"W",display:"W"},{key:"E",display:"E"},{key:"R",display:"R"},{key:"T",display:"T"},{key:"Y",display:"Y"},{key:"U",display:"U"},{key:"I",display:"I"},{key:"O",display:"O"},{key:"P",display:"P"},{key:"[",display:"["},{key:"]",display:"]"},{key:"\\",display:"\\"}],[{key:"CapsLock",display:"Caps"},{key:"A",display:"A"},{key:"S",display:"S"},{key:"D",display:"D"},{key:"F",display:"F"},{key:"G",display:"G"},{key:"H",display:"H"},{key:"J",display:"J"},{key:"K",display:"K"},{key:"L",display:"L"},{key:";",display:";"},{key:"'",display:"'"},{key:"Enter",display:"Enter"}],[{key:"Shift",display:"Shift"},{key:"Z",display:"Z"},{key:"X",display:"X"},{key:"C",display:"C"},{key:"V",display:"V"},{key:"B",display:"B"},{key:"N",display:"N"},{key:"M",display:"M"},{key:",",display:","},{key:".",display:"."},{key:"/",display:"/"},{key:"Shift",display:"Shift"}],[{key:"Ctrl",display:"Ctrl"},{key:"Alt",display:"Alt"},{key:"Space",display:"Space"},{key:"Alt",display:"Alt"},{key:"Ctrl",display:"Ctrl"}]]}},window.DEFAULT_SETTINGS={keyLayout:"qwerty",autoSave:n.settings?.autoSave||!0,showTooltips:!0,exportFormat:"txt",maxUndoSteps:n.settings?.maxUndoSteps||50,defaultMode:n.settings?.defaultMode||"space",language:n.settings?.language||"en"},window.SAMPLE_PROFILES=Object.values(n.defaultProfiles).map(e=>({id:e.name.toLowerCase().replace(/\s+/g,"_"),name:e.name,description:e.description,currentEnvironment:e.currentEnvironment||"space",builds:e.builds||{space:{keys:{}},ground:{keys:{}}},created:(new Date).toISOString(),modified:(new Date).toISOString()})),window.SAMPLE_ALIASES={attack_sequence:{name:"Attack Sequence",commands:["Target_Enemy_Near","FireAll"],description:"Target and attack nearest enemy"},defensive_sequence:{name:"Defensive Sequence",commands:["Target_Self","+power_exec Distribute_Shields"],description:"Self-target and activate defensive abilities"},heal_sequence:{name:"Healing Sequence",commands:["Target_Self","+STOTrayExecByTray 3 0 $$ +STOTrayExecByTray 3 1"],description:"Emergency healing and repair sequence"}},window.TRAY_CONFIG={maxTrays:10,slotsPerTray:10,defaultTray:0,maxCommandsPerSlot:1},window.getCommandsByCategory=function(e){return e&&n.commands[e]?Object.values(n.commands[e].commands):[]},window.localizeCommandData=function(){const e=window.i18next;e&&Object.entries(n.commands).forEach(([t,a])=>{a.name&&(a.name=e.t(`command_categories.${t}`)),a.description&&(a.description=e.t(`category_descriptions.${t}`)),Object.entries(a.commands).forEach(([t,a])=>{a.name&&(a.name=e.t(`command_definitions.${t}.name`)),a.description&&(a.description=e.t(`command_definitions.${t}.description`))})})};class o extends Error{constructor(e,t="STO_ERROR"){super(e),this.name="STOError",this.code=t}}class r extends o{constructor(e,t="VFX_ERROR"){super(e,t),this.name="VertigoError"}}"undefined"!=typeof window&&(window.STOError=o,window.VertigoError=r,window.InvalidEnvironmentError=class extends r{constructor(e){super(`Invalid environment '${e}'. Valid environments are: space, ground`,"INVALID_ENVIRONMENT"),this.environment=e}},window.InvalidEffectError=class extends r{constructor(e,t){super(`Invalid effect '${e}' for environment '${t}'`,"INVALID_EFFECT"),this.effectName=e,this.environment=t}});const s=e=>"string"==typeof e,c=()=>{let e,t;const a=new Promise((a,i)=>{e=a,t=i});return a.resolve=e,a.reject=t,a},l=e=>null==e?"":""+e,d=/###/g,m=e=>e&&e.indexOf("###")>-1?e.replace(d,"."):e,_=e=>!e||s(e),p=(e,t,a)=>{const i=s(t)?t.split("."):t;let n=0;for(;n<i.length-1;){if(_(e))return{};const t=m(i[n]);!e[t]&&a&&(e[t]=new a),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return _(e)?{}:{obj:e,k:m(i[n])}},u=(e,t,a)=>{const{obj:i,k:n}=p(e,t,Object);if(void 0!==i||1===t.length)return void(i[n]=a);let o=t[t.length-1],r=t.slice(0,t.length-1),s=p(e,r,Object);for(;void 0===s.obj&&r.length;)o=`${r[r.length-1]}.${o}`,r=r.slice(0,r.length-1),s=p(e,r,Object),s?.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=a},f=(e,t)=>{const{obj:a,k:i}=p(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,i))return a[i]},h=(e,t,a)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?s(e[i])||e[i]instanceof String||s(t[i])||t[i]instanceof String?a&&(e[i]=t[i]):h(e[i],t[i],a):e[i]=t[i]);return e},y=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const b=e=>s(e)?e.replace(/[&<>"'\/]/g,e=>g[e]):e,v=[" ",",","?","!",";"],k=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}(20),x=(e,t,a=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const i=t.split(a);let n=e;for(let e=0;e<i.length;){if(!n||"object"!=typeof n)return;let t,o="";for(let r=e;r<i.length;++r)if(r!==e&&(o+=a),o+=i[r],t=n[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&r<i.length-1)continue;e+=r-e+1;break}n=t}return n},S=e=>e?.replace("_","-"),w={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class T{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||w,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,a,i){return i&&!this.debug?null:(s(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new T(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new T(this.logger,e)}}var C=new T;class A{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const a=this.observers[e].get(t)||0;this.observers[e].set(t,a+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,a])=>{for(let i=0;i<a;i++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let n=0;n<i;n++)a.apply(a,[e,...t])})}}class $ extends A{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,a,i={}){const n=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;e.indexOf(".")>-1?r=e.split("."):(r=[e,t],a&&(Array.isArray(a)?r.push(...a):s(a)&&n?r.push(...a.split(n)):r.push(a)));const c=f(this.data,r);return!c&&!t&&!a&&e.indexOf(".")>-1&&(e=r[0],t=r[1],a=r.slice(2).join(".")),!c&&o&&s(a)?x(this.data?.[e]?.[t],a,n):c}addResource(e,t,a,i,n={silent:!1}){const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator;let r=[e,t];a&&(r=r.concat(o?a.split(o):a)),e.indexOf(".")>-1&&(r=e.split("."),i=t,t=r[1]),this.addNamespaces(t),u(this.data,r,i),n.silent||this.emit("added",e,t,a,i)}addResources(e,t,a,i={silent:!1}){for(const i in a)(s(a[i])||Array.isArray(a[i]))&&this.addResource(e,t,i,a[i],{silent:!0});i.silent||this.emit("added",e,t,a)}addResourceBundle(e,t,a,i,n,o={silent:!1,skipCopy:!1}){let r=[e,t];e.indexOf(".")>-1&&(r=e.split("."),i=a,a=t,t=r[1]),this.addNamespaces(t);let s=f(this.data,r)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),i?h(s,a,n):s={...s,...a},u(this.data,r,s),o.silent||this.emit("added",e,t,a)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var E={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,i,n){return e.forEach(e=>{t=this.processors[e]?.process(t,a,i,n)??t}),t}};const B={},I=e=>!s(e)&&"boolean"!=typeof e&&"number"!=typeof e;class M extends A{constructor(e,t={}){var a,i;super(),a=e,i=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{a[e]&&(i[e]=a[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=C.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const a={...t};if(null==e)return!1;const i=this.resolve(e,a);return void 0!==i?.res}extractFromKey(e,t){let a=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===a&&(a=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const o=a&&e.indexOf(a)>-1,r=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,a)=>{t=t||"",a=a||"";const i=v.filter(e=>t.indexOf(e)<0&&a.indexOf(e)<0);if(0===i.length)return!0;const n=k.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let o=!n.test(e);if(!o){const t=e.indexOf(a);t>0&&!n.test(e.substring(0,t))&&(o=!0)}return o})(e,a,i));if(o&&!r){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:s(n)?[n]:n};const o=e.split(a);(a!==i||a===i&&this.options.ns.indexOf(o[0])>-1)&&(n=o.shift()),e=o.join(i)}return{key:e,namespaces:s(n)?[n]:n}}translate(e,t,a){let i="object"==typeof t?{...t}:t;if("object"!=typeof i&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(i={...i}),i||(i={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==i.returnDetails?i.returnDetails:this.options.returnDetails,o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,{key:r,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1];let d=void 0!==i.nsSeparator?i.nsSeparator:this.options.nsSeparator;void 0===d&&(d=":");const m=i.lng||this.language,_=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===m?.toLowerCase())return _?n?{res:`${l}${d}${r}`,usedKey:r,exactUsedKey:r,usedLng:m,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${d}${r}`:n?{res:r,usedKey:r,exactUsedKey:r,usedLng:m,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:r;const p=this.resolve(e,i);let u=p?.res;const f=p?.usedKey||r,h=p?.exactUsedKey||r,y=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==i.count&&!s(i.count),v=M.hasDefaultValue(i),k=b?this.pluralResolver.getSuffix(m,i.count,i):"",x=i.ordinal&&b?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",S=b&&!i.ordinal&&0===i.count,w=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${x}`]||i.defaultValue;let T=u;g&&!u&&v&&(T=w);const C=I(T),A=Object.prototype.toString.apply(T);if(!(g&&T&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(A)<0)||s(y)&&Array.isArray(T))if(g&&s(y)&&Array.isArray(u))u=u.join(y),u&&(u=this.extendTranslation(u,e,i,a));else{let t=!1,n=!1;!this.isValidLookup(u)&&v&&(t=!0,u=w),this.isValidLookup(u)||(n=!0,u=r);const s=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:u,c=v&&w!==u&&this.options.updateMissing;if(n||t||c){if(this.logger.log(c?"updateKey":"missingKey",m,l,r,c?w:u),o){const e=this.resolve(r,{...i,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;a<t.length;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(i.lng||this.language):e.push(i.lng||this.language);const a=(e,t,a)=>{const n=v&&a!==u?a:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,n,c,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,n,c,i),this.emit("missingKey",e,l,t,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{a([e],r+t,i[`defaultValue${t}`]||w)})}):a(e,r,w))}u=this.extendTranslation(u,e,i,p,a),n&&u===r&&this.options.appendNamespaceToMissingKey&&(u=`${l}${d}${r}`),(n||t)&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${d}${r}`:r,t?u:void 0,i))}else{if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,T,{...i,ns:c}):`key '${r} (${this.language})' returned an object instead of string.`;return n?(p.res=e,p.usedParams=this.getUsedParamsDetails(i),p):e}if(o){const e=Array.isArray(T),t=e?[]:{},a=e?h:f;for(const e in T)if(Object.prototype.hasOwnProperty.call(T,e)){const n=`${a}${o}${e}`;t[e]=v&&!u?this.translate(n,{...i,defaultValue:I(w)?w[e]:void 0,joinArrays:!1,ns:c}):this.translate(n,{...i,joinArrays:!1,ns:c}),t[e]===n&&(t[e]=T[e])}u=t}}return n?(p.res=u,p.usedParams=this.getUsedParamsDetails(i),p):u}extendTranslation(e,t,a,i,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const o=s(e)&&(void 0!==a?.interpolation?.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let r;if(o){const t=e.match(this.interpolator.nestingRegexp);r=t&&t.length}let c=a.replace&&!s(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,a.lng||this.language||i.usedLng,a),o){const t=e.match(this.interpolator.nestingRegexp);r<(t&&t.length)&&(a.nest=!1)}!a.lng&&i&&i.res&&(a.lng=this.language||i.usedLng),!1!==a.nest&&(e=this.interpolator.nest(e,(...e)=>n?.[0]!==e[0]||a.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,r=s(o)?[o]:o;return null!=e&&r?.length&&!1!==a.applyPostProcessor&&(e=E.handle(r,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e,t={}){let a,i,n,o,r;return s(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(a))return;const c=this.extractFromKey(e,t),l=c.key;i=l;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const m=void 0!==t.count&&!s(t.count),_=m&&!t.ordinal&&0===t.count,p=void 0!==t.context&&(s(t.context)||"number"==typeof t.context)&&""!==t.context,u=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(e=>{this.isValidLookup(a)||(r=e,B[`${u[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(r)||(B[`${u[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${u.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),u.forEach(i=>{if(this.isValidLookup(a))return;o=i;const r=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(r,l,i,e,t);else{let e;m&&(e=this.pluralResolver.getSuffix(i,t.count,t));const a=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.push(l+e),t.ordinal&&0===e.indexOf(n)&&r.push(l+e.replace(n,this.options.pluralSeparator)),_&&r.push(l+a)),p){const i=`${l}${this.options.contextSeparator}${t.context}`;r.push(i),m&&(r.push(i+e),t.ordinal&&0===e.indexOf(n)&&r.push(i+e.replace(n,this.options.pluralSeparator)),_&&r.push(i+a))}}let s;for(;s=r.pop();)this.isValidLookup(a)||(n=s,a=this.getResource(i,e,s,t))}))})}),{res:a,usedKey:i,exactUsedKey:n,usedLng:o,usedNS:r}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,a,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,a,i):this.resourceStore.getResource(e,t,a,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!s(e.replace);let i=a?e.replace:e;if(a&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!a){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}class O{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=C.create("languageUtils")}getScriptPartFromCode(e){if(!(e=S(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=S(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(s(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const a=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(a)||(t=a)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const a=this.getScriptPartFromCode(e);if(this.isSupportedCode(a))return t=a;const i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>e===i?e:e.indexOf("-")<0&&i.indexOf("-")<0?void 0:e.indexOf("-")>0&&i.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),s(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let a=e[t];return a||(a=e[this.getScriptPartFromCode(t)]),a||(a=e[this.formatLanguageCode(t)]),a||(a=e[this.getLanguagePartFromCode(t)]),a||(a=e.default),a||[]}toResolveHierarchy(e,t){const a=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),i=[],n=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return s(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):s(e)&&n(this.formatLanguageCode(e)),a.forEach(e=>{i.indexOf(e)<0&&n(this.formatLanguageCode(e))}),i}}const P={zero:0,one:1,two:2,few:3,many:4,other:5},F={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class N{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=C.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const a=S("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:a,type:i});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let o;try{o=new Intl.PluralRules(a,{type:i})}catch(a){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),F;if(!e.match(/-|_/))return F;const i=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(i,t)}return this.pluralRulesCache[n]=o,o}needsPlural(e,t={}){let a=this.getRule(e,t);return a||(a=this.getRule("dev",t)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,a={}){return this.getSuffixes(e,a).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let a=this.getRule(e,t);return a||(a=this.getRule("dev",t)),a?a.resolvedOptions().pluralCategories.sort((e,t)=>P[e]-P[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,a={}){const i=this.getRule(e,a);return i?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,a))}}const j=(e,t,a,i=".",n=!0)=>{let o=((e,t,a)=>{const i=f(e,a);return void 0!==i?i:f(t,a)})(e,t,a);return!o&&n&&s(a)&&(o=x(e,a,i),void 0===o&&(o=x(t,a,i))),o},D=e=>e.replace(/\$/g,"$$$$");class z{constructor(e={}){this.logger=C.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:a,useRawValueToEscape:i,prefix:n,prefixEscaped:o,suffix:r,suffixEscaped:s,formatSeparator:c,unescapeSuffix:l,unescapePrefix:d,nestingPrefix:m,nestingPrefixEscaped:_,nestingSuffix:p,nestingSuffixEscaped:u,nestingOptionsSeparator:f,maxReplaces:h,alwaysFormat:g}=e.interpolation;this.escape=void 0!==t?t:b,this.escapeValue=void 0===a||a,this.useRawValueToEscape=void 0!==i&&i,this.prefix=n?y(n):o||"{{",this.suffix=r?y(r):s||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=m?y(m):_||y("$t("),this.nestingSuffix=p?y(p):u||y(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=h||1e3,this.alwaysFormat=void 0!==g&&g,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,a,i){let n,o,r;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=e=>{if(e.indexOf(this.formatSeparator)<0){const n=j(t,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,a,{...i,...t,interpolationkey:e}):n}const n=e.split(this.formatSeparator),o=n.shift().trim(),r=n.join(this.formatSeparator).trim();return this.format(j(t,c,o,this.options.keySeparator,this.options.ignoreJSONStructure),r,a,{...i,...t,interpolationkey:o})};this.resetRegExp();const m=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,_=void 0!==i?.interpolation?.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>D(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?D(this.escape(e)):D(e)}].forEach(t=>{for(r=0;n=t.regex.exec(e);){const a=n[1].trim();if(o=d(a),void 0===o)if("function"==typeof m){const t=m(e,n,i);o=s(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,a))o="";else{if(_){o=n[0];continue}this.logger.warn(`missed to pass in variable ${a} for interpolating ${e}`),o=""}else s(o)||this.useRawValueToEscape||(o=l(o));const c=t.safeValue(o);if(e=e.replace(n[0],c),_?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=n[0].length):t.regex.lastIndex=0,r++,r>=this.maxReplaces)break}}),e}nest(e,t,a={}){let i,n,o;const r=(e,t)=>{const a=this.nestingOptionsSeparator;if(e.indexOf(a)<0)return e;const i=e.split(new RegExp(`${a}[ ]*{`));let n=`{${i[1]}`;e=i[0],n=this.interpolate(n,o);const r=n.match(/'/g),s=n.match(/"/g);((r?.length??0)%2==0&&!s||s.length%2!=0)&&(n=n.replace(/'/g,'"'));try{o=JSON.parse(n),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${a}${n}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...a},o=o.replace&&!s(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){const e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),c=e,d=!0}if(n=t(r.call(this,i[1].trim(),o),o),n&&i[0]===e&&!s(n))return n;s(n)||(n=l(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),d&&(n=c.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}const K=e=>{const t={};return(a,i,n)=>{let o=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(o={...o,[n.interpolationkey]:void 0});const r=i+JSON.stringify(o);let s=t[r];return s||(s=e(S(i),n),t[r]=s),s(a)}},U=e=>(t,a,i)=>e(S(a),i)(t);class R{constructor(e={}){this.logger=C.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const a=t.cacheInBuiltFormats?K:U;this.formats={number:a((e,t)=>{const a=new Intl.NumberFormat(e,{...t});return e=>a.format(e)}),currency:a((e,t)=>{const a=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>a.format(e)}),datetime:a((e,t)=>{const a=new Intl.DateTimeFormat(e,{...t});return e=>a.format(e)}),relativetime:a((e,t)=>{const a=new Intl.RelativeTimeFormat(e,{...t});return e=>a.format(e,t.range||"day")}),list:a((e,t)=>{const a=new Intl.ListFormat(e,{...t});return e=>a.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=K(t)}format(e,t,a,i={}){const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(e=>e.indexOf(")")>-1)){const e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}return n.reduce((e,t)=>{const{formatName:n,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);"currency"===t&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):"relativetime"===t&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),n=i.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();a[o]||(a[o]=n),"false"===n&&(a[o]=!1),"true"===n&&(a[o]=!0),isNaN(n)||(a[o]=parseInt(n,10))}})}return{formatName:t,formatOptions:a}})(t);if(this.formats[n]){let t=e;try{const r=i?.formatParams?.[i.interpolationkey]||{},s=r.locale||r.lng||i.locale||i.lng||a;t=this.formats[n](e,s,{...o,...i,...r})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${n}`),e},e)}}class L extends A{constructor(e,t,a,i={}){super(),this.backend=e,this.store=t,this.services=a,this.languageUtils=a.languageUtils,this.options=i,this.logger=C.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,i.backend,i)}queueLoad(e,t,a,i){const n={},o={},r={},s={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const r=`${e}|${t}`;!a.reload&&this.store.hasResourceBundle(e,t)?this.state[r]=2:this.state[r]<0||(1===this.state[r]?void 0===o[r]&&(o[r]=!0):(this.state[r]=1,i=!1,void 0===o[r]&&(o[r]=!0),void 0===n[r]&&(n[r]=!0),void 0===s[t]&&(s[t]=!0)))}),i||(r[e]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(s)}}loaded(e,t,a){const i=e.split("|"),n=i[0],o=i[1];t&&this.emit("failedLoading",n,o,t),!t&&a&&this.store.addResourceBundle(n,o,a,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&a&&(this.state[e]=0);const r={};this.queue.forEach(a=>{((e,t,a)=>{const{obj:i,k:n}=p(e,t,Object);i[n]=i[n]||[],i[n].push(a)})(a.loaded,[n],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(a,e),t&&a.errors.push(t),0!==a.pendingCount||a.done||(Object.keys(a.loaded).forEach(e=>{r[e]||(r[e]={});const t=a.loaded[e];t.length&&t.forEach(t=>{void 0===r[e][t]&&(r[e][t]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(e=>!e.done)}read(e,t,a,i=0,n=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:a,tried:i,wait:n,callback:o});this.readingCalls++;const r=(r,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}r&&s&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,a,i+1,2*n,o)},n):o(r,s)},s=this.backend[a].bind(this.backend);if(2!==s.length)return s(e,t,r);try{const a=s(e,t);a&&"function"==typeof a.then?a.then(e=>r(null,e)).catch(r):r(null,a)}catch(e){r(e)}}prepareLoading(e,t,a={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();s(e)&&(e=this.languageUtils.toResolveHierarchy(e)),s(t)&&(t=[t]);const n=this.queueLoad(e,t,a,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,a){this.prepareLoading(e,t,{},a)}reload(e,t,a){this.prepareLoading(e,t,{reload:!0},a)}loadOne(e,t=""){const a=e.split("|"),i=a[0],n=a[1];this.read(i,n,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${n} for language ${i} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${n} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,t,a,i,n,o={},r=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=a&&""!==a){if(this.backend?.create){const s={...o,isUpdate:n},c=this.backend.create.bind(this.backend);if(c.length<6)try{let n;n=5===c.length?c(e,t,a,i,s):c(e,t,a,i),n&&"function"==typeof n.then?n.then(e=>r(null,e)).catch(r):r(null,n)}catch(e){r(e)}else c(e,t,a,i,r,s)}e&&e[0]&&this.store.addResource(e[0],t,a,i)}}else this.logger.warn(`did not save key "${a}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const q=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),s(e[1])&&(t.defaultValue=e[1]),s(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const a=e[3]||e[2];Object.keys(a).forEach(e=>{t[e]=a[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),G=e=>(s(e.ns)&&(e.ns=[e.ns]),s(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),s(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),V=()=>{};class W extends A{constructor(e={},t){var a;if(super(),this.options=G(e),this.services={},this.logger=C,this.modules={external:[]},a=this,Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(e=>{"function"==typeof a[e]&&(a[e]=a[e].bind(a))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(s(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const a=q();this.options={...a,...this.options,...G(e)},this.options.interpolation={...a.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?C.init(i(this.modules.logger),this.options):C.init(null,this.options),e=this.modules.formatter?this.modules.formatter:R;const t=new O(this.options);this.store=new $(this.options.resources,this.options);const n=this.services;n.logger=C,n.resourceStore=this.store,n.languageUtils=t,n.pluralResolver=new N(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(n.formatter=i(e),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new z(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new L(i(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(n.languageDetector=i(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=i(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=V),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const n=c(),o=()=>{const e=(e,a)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(a),t(e,a)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?o():setTimeout(o,0),n}loadResources(e,t=V){let a=t;const i=s(e)?e:this.language;if("function"==typeof e&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===i?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return a();const e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};i?t(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),a(e)})}else a(null)}reloadResources(e,t,a){const i=c();return"function"==typeof e&&(a=e,e=void 0),"function"==typeof t&&(a=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),a||(a=V),this.services.backendConnector.reload(e,t,e=>{i.resolve(),a(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&E.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const a=c();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(n,o)=>{o?this.isLanguageChangingTo===e&&(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,a.resolve((...e)=>this.t(...e)),t&&t(n,(...e)=>this.t(...e))},o=t=>{e||t||!this.services.languageDetector||(t=[]);const a=s(t)?t:t&&t[0],o=this.store.hasLanguageSomeTranslations(a)?a:this.services.languageUtils.getBestMatchFromCodes(s(t)?[t]:t);o&&(this.language||i(o),this.translator.language||this.translator.changeLanguage(o),this.services.languageDetector?.cacheUserLanguage?.(o)),this.loadResources(o,e=>{n(e,o)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),a}getFixedT(e,t,a){const i=(e,t,...n)=>{let o;o="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(n)):{...t},o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||a||i.keyPrefix);const r=this.options.keySeparator||".";let s;return s=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${r}${e}`):o.keyPrefix?`${o.keyPrefix}${r}${e}`:e,this.t(s,o)};return s(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=a,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===a.toLowerCase())return!0;const o=(e,t)=>{const a=this.services.backendConnector.state[`${e}|${t}`];return-1===a||0===a||2===a};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!(!this.hasResourceBundle(a,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(a,e)||i&&!o(n,e)))}loadNamespaces(e,t){const a=c();return this.options.ns?(s(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{a.resolve(),t&&t(e)}),a):(t&&t(),Promise.resolve())}loadLanguages(e,t){const a=c();s(e)&&(e=[e]);const i=this.options.preload||[],n=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=i.concat(n),this.loadResources(e=>{a.resolve(),t&&t(e)}),a):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new O(q());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new W(e,t)}cloneInstance(e={},t=V){const a=e.forkResourceStore;a&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},n=new W(i);if(void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e)),["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},a){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((a,i)=>(a[i]={...e[t][i]},a),e[t]),e),{});n.store=new $(e,i),n.services.resourceStore=n.store}return n.translator=new M(n.services,i),n.translator.on("*",(e,...t)=>{n.emit(e,...t)}),n.init(i,t),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const H=W.createInstance();H.createInstance=W.createInstance,H.createInstance,H.dir,H.init,H.loadResources,H.reloadResources,H.use,H.changeLanguage,H.getFixedT,H.t,H.exists,H.setDefaultNamespace,H.hasLoadedNamespace,H.loadNamespaces,H.loadLanguages;var Z={sto_tools_keybind_manager:"STO Tools Keybind Manager",open:"Open",save:"Save",explorer:"Explorer",keybinds:"Keybinds",import_keybinds:"Import Keybinds",export_keybinds:"Export Keybinds",aliases:"Aliases",import_aliases:"Import Aliases",export_aliases:"Export Aliases",import:"Import",import_menu:"Import",backup:"Backup",backup_menu:"Backup",backup_application_state:"Backup Application State",restore_application_state:"Restore Application State",preferences:"Preferences",language:"Language",sync_folder_label:"Synchronization Folder:",no_folder_selected:"No folder selected",download:"Download",vfx:"VFX",dark_mode:"Dark Mode",load_default_data:"Load Default Data",reset_application:"Reset Application",set_sync_folder:"Set Sync Folder",sync_now:"Sync Now",about:"About",new:"New",create:"Create",create_new_alias:"Create New Alias",clone:"Clone",rename:"Rename",delete:"Delete",space:"Space",ground:"Ground",alias:"Alias",modified:"Modified",valid:"Valid",keys:"keys",key_singular:"key",keys_firstupper:"Keys",all:"All",add_key:"Add Key",copy:"Copy",select_a_key_to_edit:"Select a key to edit",select_an_alias_to_edit:"Select an alias to edit",commands:"commands",command_singular:"command",stabilize_execution_order:"Stabilize Execution Order",alias_options:"Alias Options:",select_options:"Select Options",toggle_type:"Toggle Type",cycle_type:"Cycle Type",validate:"Validate",clear:"Clear",no_key_selected:"No Key Selected",select_a_key_from_the_left_panel_to_view_and_edit_its_command_chain:"Select a key from the left panel to view and edit its command chain.",generated_command:"Generated Command:",select_a_key_to_see_the_generated_command:"Select a key to see the generated command",select_an_alias_to_see_the_generated_command:"Select an alias to see the generated command",add_command:"Add Command",from_template:"From Template",add_alias:"Add Alias",copy_from_key:"Copy from Key",command_library:"Command Library",add_new_key:"Add New Key",key_name:"Key Name:",use_standard_key_names_like_f1_ctrl_a_shift_space_etc:"Use standard key names like F1, Ctrl+A, Shift+Space, etc.",or_capture_keys:"Or capture keys:",click_here_then_press_keys:"Click here, then press the key combination",press_key_combination_now:"Press the key combination now...",supports_single_modifier_plus_key_combinations:"Supports single modifier + key combinations (e.g., Ctrl+A, Alt+1, Shift+Space)",common_keys:"Common Keys:",ctrl:"Ctrl",alt:"Alt",shift:"Shift",cancel:"Cancel",command_type:"Command Type:",select_command_type:"Select command type...",targeting:"Targeting",combat:"Combat",tray_execution:"Tray Execution",shield_management:"Shield Management",movement:"Movement",camera:"Camera",communication:"Communication",system:"System",custom_command:"Custom Command",select_a_command_type_to_see_preview:"Select a command type to see preview",profile:"Profile",profile_name:"Profile Name:",description_optional:"Description (optional):",command_alias_manager:"Command Alias Manager",new_alias:"New Alias",edit_alias:"Edit Alias",alias_name:"Alias Name:",use_alphanumeric_characters_only_no_spaces:"Use alphanumeric characters only, no spaces",description:"Description:",target:"$Target",example_target_self_power_exec_science_team_team_healing_target:"Example: target_self $$ +power_exec Science_Team $$ team Healing [$Target]",use_in_communication_commands_to_include_target_name:"- Use in communication commands to include target name",preview:"Preview:",alias_myalias_command_sequence:'alias MyAlias "command sequence"',save_alias:"Save Alias",select_key:"Select Key",select_key_dialog_title:"Select Key",select_key_dialog_description:"Choose from the available keys below:",key_combination:"Key Combination:",capture_key:"Capture Key",select_this_key:"Select This Key",select_modifier_key:"Select Modifier + Key",step_1_select_modifiers_optional:"Step 1: Select Modifiers (Optional)",step_2_select_key:"Step 2: Select Key",common:"Common",letters:"Letters",numbers:"Numbers",function:"Function",arrows:"Arrows",symbols:"Symbols",mouse:"Mouse",gamepad:"Gamepad",common_keys1:"Common Keys",find_other_keys:"Find other keys...",vfx_manager:"VFX Manager",select_visual_effects_to_disable_using_dynfxsetfxexlusionlist_aliases_effects_are_organized_by_environment:"Select visual effects to disable using dynFxSetFXExlusionList aliases. Effects are organized by environment.",space_effects:"Space Effects",select_all:"Select All",clear_all:"Clear All",selected:"selected",ground_effects:"Ground Effects",generated_aliases:"Generated Aliases:",space_alias:"Space Alias:",no_space_effects_selected:"No space effects selected",ground_alias:"Ground Alias:",no_ground_effects_selected:"No ground effects selected",show_player_say:"Show Player Say",generate_aliases:"Generate Aliases",about_sto_tools_keybind_manager:"About STO Tools Keybind Manager",a_comprehensive_web_based_tool_for_creating_editing_and_managing_star_trek_online_keybind_configurations_with_visual_editing_and_advanced_features:"A comprehensive web-based tool for creating, editing, and managing Star Trek Online keybind configurations with visual editing and advanced features.",features:"Features:",visual_keybind_editor:"Visual keybind editor",sto_command_library_with_search_and_categorization:"STO command library with search and categorization",multiple_profile_management_create_clone_rename_delete:"Multiple profile management (create, clone, rename, delete)",custom_alias_system_for_complex_command_sequences:"Custom alias system for complex command sequences",vertigo_inspired_vfx_manager_for_visual_effects_control:"VERTIGO-inspired VFX Manager for visual effects control",import_export_keybind_and_alias_files_and_project_backups:"Import/export keybind and alias files, and project backups",real_time_validation_and_command_preview:"Real-time validation and command preview",quick_start:"Quick Start:",create_a_new_profile_or_use_the_default_profile:"Create a new profile or use the default profile",select_keys_from_the_grid_and_add_commands_from_the_library:"Select keys from the grid and add commands from the library",use_the_command_chain_editor_to_build_complex_sequences:"Use the command chain editor to build complex sequences",export_your_keybinds_as_txt_files_for_use_in_sto:"Export your keybinds as .txt files for use in STO",resources:"Resources:",copyright:"© 2025 STO Tools. All rights reserved.",got_it:"Got it!",file_explorer:"File Explorer",select_an_item_on_the_left_to_preview_export:"Select an item on the left to preview export",close:"Close",select_export_format:"Select Export Format",export_as:"Export As:",sto_keybind_file_txt:"STO Keybind File (.txt)",json_profile_json:"JSON Profile (.json)",complete_project_json:"Complete Project (.json)",csv_data_csv:"CSV Data (.csv)",html_report_html:"HTML Report (.html)",alias_file_txt:"Alias File (.txt)",environment:"Environment:",export:"Export",filter_keys:"Filter keys...",filter_aliases:"Filter aliases...",search_commands:"Search commands...",e_g_f5_ctrl_a_shift_1:"e.g., F5, Ctrl+A, Shift+1",enter_profile_name:"Enter profile name",describe_this_keybind_profile:"Describe this keybind profile",myalias:"MyAlias",brief_description_of_what_this_alias_does:"Brief description of what this alias does",enter_command_sequence_use_to_separate_commands:"Enter command sequence (use $$ to separate commands)",search_keys:"Search keys...",open_project_json:"Restore Application State",save_project_json:"Backup Application State",keybind_operations:"Keybind Operations",alias_operations:"Alias Operations",settings:"Settings",select_profile:"Select Profile",new_profile:"New Profile",clone_profile:"Clone Profile",rename_profile:"Rename Profile",delete_profile:"Delete Profile",space_mode:"Space Mode",ground_mode:"Ground Mode",alias_mode:"Alias Mode",unsaved_changes:"Unsaved Changes",validation_status:"Validation Status",bound_keys:"Bound Keys",toggle_between_grid_and_categorized_view:"Toggle between grid and categorized view",ensures_consistent_execution_order_by_mirroring_commands_phase_1_left_to_right_phase_2_right_to_left:"Ensures consistent execution order by mirroring commands (Phase 1: left-to-right, Phase 2: right-to-left)",validate_command_chain:"Validate Command Chain",clear_all_commands:"Clear All Commands",copy_to_clipboard:"Copy to Clipboard",collapse_expand:"Collapse/Expand",insert_target_variable:"Insert $Target variable",sto_keybind_report:"STO Keybind Report",mode:"Mode:",generated:"Generated:",created_by:"Created by:",statistics:"Statistics",keys_bound:"Keys Bound:",total_commands:"Total Commands:",aliases_defined:"Aliases Defined:",no_keybinds_defined:"No keybinds defined.",command_aliases:"Command Aliases",vfx_aliases:"VFX Aliases",report_footer:"This report was generated by STO Tools Keybind Manager. For more information about Star Trek Online keybinds, visit the STO Wiki.",command_categories:{targeting:"Targeting",combat:"Combat",cosmetic:"Cosmetic",bridge_officer:"Bridge Officer",tray:"Tray Execution",power:"Shield Management",movement:"Movement",camera:"Camera",communication:"Communication",system:"System"},command_definitions:{target:{name:"Target by Name",description:"Target entity by name (requires quotes)"},target_enemy_near:{name:"Target Nearest Enemy",description:"Target the nearest enemy in view"},target_friend_near:{name:"Target Nearest Friend",description:"Target the nearest friendly entity"},target_self:{name:"Target Self",description:"Target your own ship/character"},target_clear:{name:"Clear Target",description:"Remove current target lock"},target_teammate_1:{name:"Target Teammate 1",description:"Target first team member"},target_teammate_2:{name:"Target Teammate 2",description:"Target second team member"},target_teammate_3:{name:"Target Teammate 3",description:"Target third team member"},target_teammate_4:{name:"Target Teammate 4",description:"Target fourth team member"},fire_all:{name:"Fire All Weapons",description:"Fire all weapons"},fire_phasers:{name:"Fire Energy Weapons",description:"Fire all Energy Weapons"},fire_torps:{name:"Fire Torpedoes",description:"Fire all Torpedos"},fire_mines:{name:"Fire Mines",description:"Fire all Mines"},fire_phasers_torps:{name:"Fire Phasers & Torpedoes",description:"Fire phasers & torpedos"},fire_projectiles:{name:"Fire Projectiles",description:"Fire torpedos & mines"},setactivecostume:{name:"Set Active Costume",description:"Sets current active costume. Requires two modifiers."},custom_tray:{name:"Tray Execution",description:"Execute specific tray slot"},tray_with_backup:{name:"Tray Execution with Backup",description:"Execute specific tray slot with backup ability"},tray_range:{name:"Tray Range Execution",description:"Execute a range of tray slots"},tray_range_with_backup:{name:"Tray Range with Backup",description:"Execute a range of tray slots with backup abilities"},whole_tray:{name:"Whole Tray Execution",description:"Execute all slots in a tray"},whole_tray_with_backup:{name:"Whole Tray with Backup",description:"Execute all slots in a tray with backup tray"},distribute_shields:{name:"Distribute Shields",description:"Evenly distributes shields as if clicking in the middle of the ship and shields icon"},reroute_shields_rear:{name:"Reroute Shields Rear",description:"Route shield power to rear facing"},reroute_shields_left:{name:"Reroute Shields Left",description:"Route shield power to left side"},reroute_shields_right:{name:"Reroute Shields Right",description:"Route shield power to right side"},reroute_shields_forward:{name:"Reroute Shields Forward",description:"Route shield power to forward facing"},full_impulse:{name:"Full Impulse",description:"Engage full impulse drive"},reverse:{name:"Reverse",description:"Reverse engines"},throttle_adjust:{name:"Throttle Adjust",description:"Increase or decrease the throttle by amount"},throttle_set:{name:"Throttle Set",description:"Set the throttle to a specific position (negative = reverse, 0 = stop)"},throttle_toggle:{name:"Throttle Toggle",description:"Alternates between full throttle and full stop"},turn_left:{name:"Turn Left",description:"Turn ship left (continuous while held)"},turn_right:{name:"Turn Right",description:"Turn ship right (continuous while held)"},pitch_up:{name:"Pitch Up",description:"Pitch ship nose up (space altitude change)"},pitch_down:{name:"Pitch Down",description:"Pitch ship nose down (space altitude change)"},strafe_left:{name:"Strafe Left",description:"Strafe ship left"},strafe_right:{name:"Strafe Right",description:"Strafe ship right"},forward:{name:"Forward",description:"Move forward"},backward:{name:"Backward",description:"Move backward"},auto_forward:{name:"Auto Forward",description:"Character moves forward until given new movement commands"},follow:{name:"Follow Target",description:"Follow the targeted entity"},follow_cancel:{name:"Cancel Follow",description:"Stop following and forget about the target"},zoom_in:{name:"Zoom In",description:"Zoom the camera in"},zoom_out:{name:"Zoom Out",description:"Zoom the camera out"},zoom_in_small:{name:"Zoom In Small",description:"Zoom the camera in slightly"},zoom_out_small:{name:"Zoom Out Small",description:"Zoom the camera out slightly"},cam_distance:{name:"Set Camera Distance",description:"Sets the camera distance from the player"},cam_reset:{name:"Reset Camera",description:"Reset the camera position to default"},cam_target_lock:{name:"Lock Camera to Target",description:"Lock or unlock the camera to the target"},cam_cycle_distance:{name:"Cycle Camera Distance",description:"Cycle the camera distance between several preset values"},cam_mouse_look:{name:"Mouse Look",description:"Enable mouse look camera control"},cam_turn_to_face:{name:"Turn to Face Camera",description:"Turn ship to face camera direction"},look_up:{name:"Look Up",description:"Change point of view to look straight up"},look_down:{name:"Look Down",description:"Change point of view to look straight down"},team_message:{name:"Team Message",description:"Send message to team"},local_message:{name:"Local Message",description:"Send message to local area"},zone_message:{name:"Zone Message",description:"Send message to zone"},toggle_hud:{name:"Toggle HUD",description:"Toggle HUD visibility"},screenshot:{name:"Screenshot",description:"Take a screenshot"},screenshot_jpg:{name:"Screenshot JPG",description:"Save a screenshot as JPG"},autofire_toggle:{name:"Toggle Autofire",description:"Toggle weapon autofire"},bind_save_file:{name:"Save Binds to File",description:"Save all your binds to a text file"},bind_load_file:{name:"Load Binds from File",description:"Load a bind file into the client"},combat_log:{name:"Toggle Combat Log",description:"Turn on combat log. 1=on, 0=off, no param=print status. Prepending the command with ++ turns it into a toggle"},missions:{name:"Show/Hide Missions",description:"Show/hide the mission journal"},inventory:{name:"Show/Hide Inventory",description:"Show/hide your inventory"},map:{name:"Show/Hide Map",description:"Show/hide the map window"},logout:{name:"Logout",description:"Log out the current character."},quit:{name:"Quit Game",description:"Close the window."},ui_load:{name:"Load UI Settings",description:"Loads default UI Windows save file, usually Live\\ui_settings.txt"},ui_save:{name:"Save UI Settings",description:"Saves UI layout to default UI Window save file, usually Live\\ui_settings.txt"},ui_load_file:{name:"Load UI Settings File",description:"Loads named UI Windows save file"},ui_save_file:{name:"Save UI Settings File",description:"Saves UI layout to named UI Window save file"},ui_cancel:{name:"UI Cancel",description:'Respond "Cancel" to an open dialog box; may not work in all dialogs.'},ui_ok:{name:"UI OK",description:'Respond "OK" to an open dialog box; may not work in all dialogs.'},chat_log:{name:"Toggle Chat Log",description:"Turn on chat log. 1=on, 0=off, no param=print status. Prepending the command with ++ turns it into a toggle"},remember_ui_lists:{name:"Remember UI Lists",description:"Whether to remember UI List Column placement and width."},ui_remember_positions:{name:"Remember UI Positions",description:"Whether to remember UI sizes and positions. On by default."},safe_login:{name:"Safe Login",description:"If true, then log the player back into their most recent static map instead of anything else."},goto_character_select:{name:"Go to Character Select",description:"Go to the character select screen without logging out."},ui_gen_layers_reset:{name:"Reset UI Layout",description:"Resets the layout, used for when the server updates movable window positions"},ui_resolution:{name:"Print UI Resolution",description:"Print the current UI screen resolution."},ui_tooltip_delay:{name:"Set Tooltip Delay",description:"Sets the additional delay, in seconds, before tooltips appear"},show_game_ui:{name:"Show Game UI",description:"Show the game UI"},show_game_ui_no_extra_keybinds:{name:"Show Game UI (No Extra Keybinds)",description:"This command does not add any keybinds for showing the UI when the user presses escape"},change_instance:{name:"Change Instance",description:"Change to an already created instance of the same map. Only works while not at red alert."},aim:{name:"Aim/Scope",description:"Toggle scope on/off. In scope mode the player does more damage. Can either be used as a toggle or a press and hold"},holster:{name:"Holster Weapon",description:"Attempt to holster your active weapon"},holster_toggle:{name:"Holster Toggle",description:"Attempt to holster or draw your weapons"},unholster:{name:"Unholster Weapon",description:"Attempt to draw your active weapon"},toggle_shooter_mode:{name:"Toggle Shooter Mode",description:"Toggle shooter mode on/off"},shooter_primary:{name:"Shooter Primary",description:"Primary shooter mode action"},shooter_secondary:{name:"Shooter Secondary",description:"Secondary shooter mode action"},shooter_tertiary:{name:"Shooter Tertiary",description:"Tertiary shooter mode action"},shooter_clear_offset_tray_binds:{name:"Shooter Clear Offset Tray Binds",description:"Clear the starting location and movement of the yellow action box that appears on the tray while in shooter mode"},shooter_clear_overlay_tray_binds:{name:"Shooter Clear Overlay Tray Binds",description:"Clear overlay tray bindings for shooter mode"},shooter_set_offset_tray_binds:{name:"Shooter Set Offset Tray Binds",description:"Set the starting location and movement of the yellow action box that appears on the tray while in shooter mode"},shooter_set_overlay_tray_binds:{name:"Shooter Set Overlay Tray Binds",description:"Set overlay tray bindings for shooter mode"},setrallypoint:{name:"Set Rally Point",description:"Set a rally point for your current target"},setrallypointconsole:{name:"Set Rally Point (Console)",description:"Set a rally point for your current target (console variant)"},clearrallypoint:{name:"Clear Rally Point",description:"Clear the rally point for your current target"},clearallrallypoints:{name:"Clear All Rally Points",description:"Clear all the rally points"},assist:{name:"Assist",description:"Assist '<name>': Assists the Entity with the matching name. If no name is given, assists your current target."},net_timing_graph:{name:"Net Timing Graph",description:"Enable or disable the network timing graph (0=disable, 1=enable)"},net_timing_graph_alpha:{name:"Net Timing Graph Alpha",description:"Set transparency level for network timing graph (50=highest transparency, 255=no transparency)"},net_timing_graph_paused:{name:"Net Timing Graph Paused",description:"Pause or resume the network timing graph (0=pause disabled, 1=pause enabled)"},netgraph:{name:"Net Graph",description:"Display SND and RCV network data as text (1=enabled, 0=disabled)"},bridge_officer_command:"Bridge Officer Command",select_bridge_officer_command:"Select a bridge officer command",entity_name_optional:"Entity Name (optional)",entity_name_optional_placeholder:"Enter entity name (optional)"},category_descriptions:{targeting:"Target selection and management",combat:"Weapon firing and combat actions",tray:"Execute abilities from action trays",power:"Shield power and distribution management",movement:"Ship movement and navigation",camera:"Camera control and view management",communication:"Chat and team communication",system:"UI and system commands"},no_aliases:"No Aliases",no_aliases_defined:"No aliases defined",create_alias_to_get_started:"Create an alias to get started",create_aliases_hint:"Create command aliases to simplify complex command sequences.",alias_deleted:'Alias "{{alias}}" deleted',please_select_a_key_first:"Please select a key first",alias_added_to_key:'Alias "{{alias}}" added to {{key}}',no_active_profile:"No active profile",alias_exists:"An alias with this name already exists",alias_template_exists:'Alias "{{alias}}" already exists',alias_created_from_template:'Alias "{{alias}}" created from template',template_not_found:"Template not found",alias_not_found:"Alias not found",alias_created:'Alias "{{alias}}" created',alias_updated:'Alias "{{alias}}" updated',no_profile_selected_for_import:"No profile selected for import",no_keybinds_found_in_file:"No keybinds found in file",import_failed:"Import failed: {{error}}",no_aliases_found_in_file:"No aliases found in file",failed_to_get_profile_for_import:"Failed to get profile for import",import_completed_keybinds:"Import completed: {{count}} keybinds",import_completed_keybinds_with_aliases:"Import completed: {{keyCount}} keybinds ({{aliasCount}} aliases ignored - use Import Aliases)",import_completed_aliases:"Import completed: {{count}} aliases",no_profile_selected_to_export:"No profile selected to export",keybind_file_exported:"Keybind file exported successfully",failed_to_export_keybind_file:"Failed to export keybind file: {{error}}",profile_exported_json:"Profile exported as JSON",failed_to_export_profile:"Failed to export profile: {{error}}",complete_project_exported:"Complete project exported",failed_to_export_project:"Failed to export project: {{error}}",data_exported_csv:"Data exported as CSV",failed_to_export_csv:"Failed to export CSV: {{error}}",html_report_exported:"HTML report exported",failed_to_export_html_report:"Failed to export HTML report: {{error}}",no_command_to_copy:"No command to copy",no_profiles_to_export:"No profiles to export",exporting_profiles:"Exporting {{count}} profiles...",aliases_exported_successfully:"Aliases exported successfully",failed_to_export_aliases:"Failed to export aliases: {{error}}",sync_folder_set:"Sync folder selected",failed_to_set_sync_folder:"Failed to select sync folder: {{error}}",no_sync_folder_selected:"No sync folder selected",project_synced_successfully:"Project synchronized successfully",permission_denied_to_folder:"Permission denied to write to folder",failed_to_sync_project:"Failed to sync project: {{error}}",general:"General",synchronization:"Synchronization",appearance:"Appearance",advanced:"Advanced",general_settings:"General Settings",synchronization_settings:"Synchronization Settings",appearance_settings:"Appearance Settings",language_settings:"Language Settings",advanced_settings:"Advanced Settings",auto_save:"Auto Save",auto_save_description:"Automatically save changes as you work",validation_mode:"Validation Mode",validation_mode_description:"How strictly to validate commands and keybinds",strict:"Strict",lenient:"Lenient",disabled:"Disabled",sync_folder_description:"Choose a folder to automatically sync your projects",auto_sync:"Auto Sync",auto_sync_description:"Automatically sync changes to the selected folder",auto_sync_interval:"Auto Sync Interval",auto_sync_interval_description:"How often to automatically sync your changes",after_every_change:"After every change",every_1_minute:"Every 1 minute",every_2_minutes:"Every 2 minutes",every_5_minutes:"Every 5 minutes",auto_sync_completed:"Auto sync completed",selected_folder:"Selected folder",theme:"Theme",theme_description:"Choose between light and dark themes",light_theme:"Light",dark_theme:"Dark",compact_mode:"Compact Mode",compact_mode_description:"Use a more compact interface layout",interface_language:"Interface Language",language_description:"Choose the language for the interface",debug_mode:"Debug Mode",debug_mode_description:"Enable debug logging and developer tools",backup_interval:"Backup Interval",backup_interval_description:"How often to automatically backup your work",every_15_minutes:"Every 15 minutes",every_30_minutes:"Every 30 minutes",every_hour:"Every hour",preferences_saved:"Preferences saved successfully",failed_to_save_preferences:"Failed to save preferences",vfx_manager_description:"Select visual effects to disable using dynFxSetFXExlusionList aliases. Effects are organized by environment.",app_description:"A comprehensive web-based tool for creating, editing, and managing Star Trek Online keybind configurations with visual editing and advanced features.",csv_header:"Key,Command,Type,Description,Position",default_export_filename:"export.txt",select_a_space_ground_build_or_aliases_to_preview_export:"Select a Space/Ground build or Aliases to preview export.",no_alias_selected:"No Alias Selected",select_alias_from_left_panel:"Select an alias from the left panel to view and edit its command chain.",select_key_from_left_panel:"Select a key from the left panel to view and edit its command chain.",validation_error:"Validation error",failed_to_load_application:"Failed to load application",profile_created:'Profile "{{name}}" created',failed_to_create_profile:"Failed to create profile",failed_to_clone_profile:"Failed to clone profile",cannot_delete_the_last_profile:"Cannot delete the last profile",profile_deleted:'Profile "{{profileName}}" deleted',failed_to_delete_profile:"Failed to delete profile",invalid_key_name:"Invalid key name",key_added:'Key "{{keyName}}" added',key_already_exists:'Key "{{keyName}}" already exists',key_deleted:'Key "{{keyName}}" deleted',command_added_to_alias:"Command added to alias",commands_added:"{{count}} commands added",command_added:"Command added",command_deleted_from_alias:"Command deleted from alias",command_deleted:"Command deleted",switched_to_mode:"Switched to {{mode}} mode",alias_already_exists:'Alias "{{name}}" already exists',commands_cleared_for_key:"Commands cleared for {{keyName}}",project_loaded_successfully:"Project loaded successfully",failed_to_load_project_file:"Failed to load project file",invalid_project_file:"Invalid project file",project_exported_successfully:"Project exported successfully",no_commands_to_duplicate:"No commands to duplicate",key_duplicated:'Key "{{keyName}}" duplicated as "{{newKeyName}}"',template_system_coming_soon:"Template system coming soon",no_commands_to_validate:"No commands to validate",command_chain_is_valid:"Command chain is valid",please_configure_a_command:"Please configure a command",command_updated_successfully:"Command updated successfully",error_message:"Error: {{error}}",failed_to_select_all_space_effects:"Failed to select all space effects",failed_to_select_all_ground_effects:"Failed to select all ground effects",space_preview_error:"Space preview error: {{error}}",ground_preview_error:"Ground preview error: {{error}}",space_alias_error:"Space alias error: {{error}}",failed_to_generate_space_alias:"Failed to generate space alias",ground_alias_error:"Ground alias error: {{error}}",failed_to_generate_ground_alias:"Failed to generate ground alias",no_profile_selected:"No profile selected",no_profile_found:"No profile found",switched_to_theme:"Switched to {{themeName}}",language_updated:"Language updated",auto_sync_failed:"Auto-sync failed: {{error}}",nothing_to_copy:"Nothing to copy",content_copied_to_clipboard:"Content copied to clipboard",failed_to_generate_export:"Failed to generate export",no_profile_selected_to_clone:"No profile selected to clone",no_profile_selected_to_rename:"No profile selected to rename",profile_name_is_required:"Profile name is required",profile_name_too_long:"Profile name is too long (max 50 characters)",profile_name_already_exists:"A profile with this name already exists",failed_to_save_profile:"Failed to save profile: {{error}}",no_profile_selected_to_delete:"No profile selected to delete",no_keybinds_to_export:"No keybinds to export",no_aliases_to_export:"No aliases to export",failed_to_reset_application:"Failed to reset application: {{error}}",default_demo_data_loaded:"Default demo data loaded successfully",failed_to_load_default_data:"Failed to load default data",failed_to_load_default_data_with_error:"Failed to load default data: {{error}}",failed_to_create_profile_from_template:"Failed to create profile from template",profile_exported:'Profile "{{profileName}}" exported',failed_to_import_profile:"Failed to import profile: {{error}}",sto_tools_keybind_manager_loaded_successfully:"STO Tools Keybind Manager loaded successfully",switched_to_profile:"Switched to profile: {{name}} ({{environment}})",profile_created_from:'Profile "{{newName}}" created from "{{sourceProfile}}"',keybinds_exported_successfully:"{{environment}} keybinds exported successfully",commands_updated_successfully:"{{count}} commands updated successfully",command_info:"Command: {{command}}\nType: {{type}}",no_effects_selected:"No effects selected. Please select at least one effect to generate aliases.",generated_vertigo_aliases:"Generated {{count}} Vertigo alias{{plural}}! Check the Alias Manager to bind them to keys.",failed_to_import_keybind_file:"Failed to import keybind file: {{error}}",profile_created_from_current:'Profile "{{name}}" created from "{{currentProfile}}"',profile_renamed:'Profile renamed from "{{oldName}}" to "{{name}}"',failed_to_import_keybind_file_generic:"Failed to import keybind file: {{error}}",failed_to_import_aliases_generic:"Failed to import aliases: {{error}}",application_reset_successfully:"Application reset successfully. All data cleared.",profile_created_from_template_generic:'Profile "{{profileName}}" created from template',profile_imported_successfully:'Profile "{{profileName}}" imported successfully',failed_to_copy_to_clipboard:"Failed to copy to clipboard",confirm_delete_alias:'Are you sure you want to delete the alias "{{aliasName}}"?',confirm_delete_key:'Are you sure you want to delete the key "{{keyName}}" and all its commands?',confirm_clear_commands:'Are you sure you want to clear all commands for "{{keyName}}"?',confirm_delete_profile:'Are you sure you want to delete the profile "{{profileName}}"?\n\nThis action cannot be undone.',confirm_reset_application:"Are you sure you want to reset the application?\n\nThis will delete all profiles, keybinds, and settings. This action cannot be undone.",delete_alias:"Delete Alias",delete_key:"Delete Key",clear_commands:"Clear Commands",yes:"Yes",no:"No",active:"Active",inactive:"Inactive",active_state:"Active State",no_aliases_available:"No aliases available",no_commands:"No commands",profile_not_found:"Profile not found",click_add_command_to_start_building_your_command_chain:"Click 'Add Command' to start building your command chain for",click_add_command_to_start_building_your_alias_chain:"Click 'Add Command' to start building your alias chain for",create_aliases_in_the_alias_manager_first:"Create aliases in the Alias Manager first",enter_sto_command:"Enter STO command",enter_the_exact_sto_command_syntax:"Enter the exact STO command syntax",enter_your_message:"Enter your message",maximum_100_characters:"Maximum 100 characters",replaced_with_your_current_targets_name:"Replaced with your current target's name",this_alias_will_automatically_toggle_between_its_onoff_states_when_executed:"This alias will automatically toggle between its on/off states when executed",select_an_alias:"Select an alias",select_targeting_command:"Select targeting command",select_combat_command:"Select a combat command",select_shield_command:"Select shield command",select_movement_command:"Select movement command",select_camera_command:"Select camera command",select_system_command:"Select system command",select_communication_type:"Select communication type",create_alias:"Create Alias",alias_commands:"Alias Commands",available_aliases:"Available Aliases",common_commands:"Common Commands",sto_variables:"STO Variables",example:"Example",message:"Message",display_text:"Display Text",descriptive_name_for_this_command:"Descriptive name for this command",filename:"Filename",position:"Position",distance:"Distance",amount:"Amount",state:"State",command:"Command",command_variant:"Command Variant",communication_type:"Communication Type",combat_command:"Combat Command",movement_command:"Movement Command",camera_command:"Camera Command",shield_command:"Shield Command",system_command:"System Command",targeting_command:"Targeting Command",tray_number:"Tray Number",slot_number:"Slot Number",start_tray:"Start Tray",end_tray:"End Tray",start_slot:"Start Slot",end_slot:"End Slot",backup_tray:"Backup Tray",backup_slot:"Backup Slot",backup_start_tray:"Backup Start Tray",backup_end_tray:"Backup End Tray",backup_start_slot:"Backup Start Slot",backup_end_slot:"Backup End Slot",backup_configuration:"Backup Configuration",range_configuration:"Range Configuration",backup_range_configuration:"Backup Range Configuration",single_tray_slot:"Single Tray Slot",single_tray_with_backup:"Single Tray with Backup",tray_range:"Tray Range",tray_range_with_backup:"Tray Range with Backup",whole_tray:"Whole Tray",whole_tray_with_backup:"Whole Tray with Backup",configure_command_options_to_see_preview:"Configure command options to see preview",key:"key",no_profile:"No profile",stotrayexecbytray_description:"STOTrayExecByTray (shows key binding on UI)",trayexecbytray_description:"TrayExecByTray (no UI indication)",on:"On",off:"Off",delay_seconds:"Delay (seconds)",parameter_configuration:"Parameter Configuration",modifier_1:"Modifier 1",modifier_2:"Modifier 2",first_modifier:"First modifier",second_modifier:"Second modifier",cosmetic_command:"Cosmetic Command",select_cosmetic_command:"Select a cosmetic command",tray_command:"Tray Command",create_command_aliases:"Create Command Aliases",bridge_officer:"Bridge Officer",select_bridge_officer_command:"Select a bridge officer command",net_graph:"Net Graph",net_graph_command:"Net Graph Command",select_net_graph_command:"Select a net graph command",net_timing_graph:"Net Timing Graph",net_timing_graph_alpha:"Net Timing Graph Alpha",net_timing_graph_paused:"Net Timing Graph Paused",netgraph:"Net Graph",enable_disable:"Enable/Disable",transparency_level:"Transparency Level",pause_state:"Pause State",delete_selected_key:"Delete Selected Key",duplicate_selected_key:"Duplicate Selected Key",show_all_keys:"Show All Keys"},X={sto_tools_keybind_manager:"STO Tools Keybind Manager",open:"Öffnen",save:"Speichern",explorer:"Explorer",keybinds:"Tastaturbelegung",import_keybinds:"Tastaturbelegung importieren",export_keybinds:"Tastaturbelegung exportieren",aliases:"Aliase",import_aliases:"Aliase importieren",export_aliases:"Aliase exportieren",import:"Importieren",import_menu:"Importieren",backup:"Sicherung",backup_menu:"Sicherung",backup_application_state:"Anwendungsstatus sichern",restore_application_state:"Anwendungsstatus wiederherstellen",preferences:"Einstellungen",language:"Sprache",sync_folder_label:"Synchronisationsordner:",no_folder_selected:"Kein Ordner ausgewählt",download:"Herunterladen",vfx:"VFX",dark_mode:"Dunkler Modus",load_default_data:"Standarddaten laden",reset_application:"Anwendung zurücksetzen",set_sync_folder:"Sync-Ordner festlegen",sync_now:"Jetzt synchronisieren",about:"Über",new:"Neu",clone:"Klonen",rename:"Umbenennen",delete:"Löschen",space:"Weltraum",ground:"Boden",modified:"Geändert",valid:"Gültig",keys:"Tasten",keys_firstupper:"Tasten",key_singular:"Taste",all:"Alle",add_key:"Taste hinzufügen",copy:"Kopieren",select_a_key_to_edit:"Wählen Sie eine Taste zum Bearbeiten",commands:"Befehle",command_singular:"Befehl",stabilize_execution_order:"Ausführungsreihenfolge stabilisieren",validate:"Validieren",clear:"Löschen",no_key_selected:"Keine Taste ausgewählt",select_a_key_from_the_left_panel_to_view_and_edit_its_command_chain:"Wählen Sie eine Taste aus dem linken Panel, um ihre Befehlskette anzuzeigen und zu bearbeiten.",generated_command:"Generierter Befehl:",select_a_key_to_see_the_generated_command:"Wählen Sie eine Taste, um den generierten Befehl zu sehen",add_command:"Befehl hinzufügen",from_template:"Aus Vorlage",add_alias:"Alias hinzufügen",copy_from_key:"Von Taste kopieren",command_library:"Befehlsbibliothek",add_new_key:"Neue Taste hinzufügen",key_name:"Tastenname:",use_standard_key_names_like_f1_ctrl_a_shift_space_etc:"Verwenden Sie Standard-Tastennamen wie F1, Strg+A, Umschalt+Leertaste, usw.",common_keys:"Häufige Tasten:",ctrl:"Strg",alt:"Alt",shift:"Umschalt",cancel:"Abbrechen",command_type:"Befehlstyp:",select_command_type:"Befehlstyp auswählen...",targeting:"Zielerfassung",combat:"Kampf",tray_execution:"Tray-Ausführung",shield_management:"Schildverwaltung",movement:"Bewegung",camera:"Kamera",communication:"Kommunikation",system:"System",alias:"Alias",custom_command:"Benutzerdefinierter Befehl",select_a_command_type_to_see_preview:"Wählen Sie einen Befehlstyp für eine Vorschau",profile:"Profil",profile_name:"Profilname:",description_optional:"Beschreibung (optional):",command_alias_manager:"Befehlsalias-Manager",new_alias:"Neuer Alias",edit_alias:"Alias bearbeiten",alias_name:"Alias-Name:",use_alphanumeric_characters_only_no_spaces:"Verwenden Sie nur alphanumerische Zeichen, keine Leerzeichen",description:"Beschreibung:",target:"$Target",example_target_self_power_exec_science_team_team_healing_target:"Beispiel: target_self $$ +power_exec Science_Team $$ team Healing [$Target]",use_in_communication_commands_to_include_target_name:"- Verwenden Sie in Kommunikationsbefehlen, um Zielnamen einzuschließen",preview:"Vorschau:",alias_myalias_command_sequence:'alias MeinAlias "Befehlssequenz"',save_alias:"Alias speichern",select_key:"Taste auswählen",select_key_dialog_title:"Taste auswählen",select_key_dialog_description:"Wählen Sie aus den verfügbaren Tasten unten:",key_combination:"Tastenkombination:",capture_key:"Taste erfassen",select_this_key:"Diese Taste auswählen",select_modifier_key:"Modifikator + Taste auswählen",step_1_select_modifiers_optional:"Schritt 1: Modifikatoren auswählen (Optional)",step_2_select_key:"Schritt 2: Taste auswählen",common:"Häufig",letters:"Buchstaben",numbers:"Zahlen",function:"Funktion",arrows:"Pfeile",symbols:"Symbole",mouse:"Maus",gamepad:"Gamepad",common_keys1:"Häufige Tasten",find_other_keys:"Andere Tasten finden...",vfx_manager:"VFX-Manager",select_visual_effects_to_disable_using_dynfxsetfxexlusionlist_aliases_effects_are_organized_by_environment:"Wählen Sie visuelle Effekte zum Deaktivieren mit dynFxSetFXExlusionList-Aliasen. Effekte sind nach Umgebung organisiert.",space_effects:"Weltraum-Effekte",select_all:"Alle auswählen",clear_all:"Alle löschen",selected:"ausgewählt",ground_effects:"Boden-Effekte",generated_aliases:"Generierte Aliase:",space_alias:"Weltraum-Alias:",no_space_effects_selected:"Keine Weltraum-Effekte ausgewählt",ground_alias:"Boden-Alias:",no_ground_effects_selected:"Keine Boden-Effekte ausgewählt",show_player_say:"Spieler-Say anzeigen",generate_aliases:"Aliase generieren",about_sto_tools_keybind_manager:"Über STO Tools Keybind Manager",a_comprehensive_web_based_tool_for_creating_editing_and_managing_star_trek_online_keybind_configurations_with_visual_editing_and_advanced_features:"Ein umfassendes webbasiertes Tool zum Erstellen, Bearbeiten und Verwalten von Star Trek Online Keybind-Konfigurationen mit visueller Bearbeitung und erweiterten Funktionen.",features:"Funktionen:",visual_keybind_editor:"Visueller Keybind-Editor",sto_command_library_with_search_and_categorization:"STO-Befehlsbibliothek mit Suche und Kategorisierung",multiple_profile_management_create_clone_rename_delete:"Mehrfache Profilverwaltung (erstellen, klonen, umbenennen, löschen)",custom_alias_system_for_complex_command_sequences:"Benutzerdefiniertes Alias-System für komplexe Befehlssequenzen",vertigo_inspired_vfx_manager_for_visual_effects_control:"VERTIGO-inspirierter VFX-Manager zur Kontrolle visueller Effekte",import_export_keybind_and_alias_files_and_project_backups:"Import/Export von Keybind- und Alias-Dateien sowie Projekt-Backups",real_time_validation_and_command_preview:"Echtzeit-Validierung und Befehlsvorschau",quick_start:"Schnellstart:",create_a_new_profile_or_use_the_default_profile:"Erstellen Sie ein neues Profil oder verwenden Sie das Standardprofil",select_keys_from_the_grid_and_add_commands_from_the_library:"Wählen Sie Tasten aus dem Raster und fügen Sie Befehle aus der Bibliothek hinzu",use_the_command_chain_editor_to_build_complex_sequences:"Verwenden Sie den Befehlsketten-Editor, um komplexe Sequenzen zu erstellen",export_your_keybinds_as_txt_files_for_use_in_sto:"Exportieren Sie Ihre Keybinds als .txt-Dateien für die Verwendung in STO",resources:"Ressourcen:",copyright:"© 2025 STO Tools. Alle Rechte vorbehalten.",got_it:"Verstanden!",file_explorer:"Datei-Explorer",select_an_item_on_the_left_to_preview_export:"Wählen Sie ein Element links aus, um den Export in der Vorschau anzuzeigen",close:"Schließen",select_export_format:"Exportformat auswählen",export_as:"Exportieren als:",sto_keybind_file_txt:"STO Keybind-Datei (.txt)",json_profile_json:"JSON-Profil (.json)",complete_project_json:"Vollständiges Projekt (.json)",csv_data_csv:"CSV-Daten (.csv)",html_report_html:"HTML-Bericht (.html)",alias_file_txt:"Alias-Datei (.txt)",environment:"Umgebung:",export:"Exportieren",filter_keys:"Tasten filtern...",search_commands:"Befehle suchen...",e_g_f5_ctrl_a_shift_1:"z.B. F5, Strg+A, Umschalt+1",enter_profile_name:"Profilnamen eingeben",describe_this_keybind_profile:"Dieses Keybind-Profil beschreiben",myalias:"MeinAlias",brief_description_of_what_this_alias_does:"Kurze Beschreibung, was dieser Alias tut",enter_command_sequence_use_to_separate_commands:"Befehlssequenz eingeben (verwenden Sie $$ zur Trennung von Befehlen)",search_keys:"Tasten suchen...",open_project_json:"Projekt JSON öffnen",save_project_json:"Projekt JSON speichern",keybind_operations:"Keybind-Operationen",alias_operations:"Alias-Operationen",settings:"Einstellungen",select_profile:"Profil auswählen",new_profile:"Neues Profil",clone_profile:"Profil klonen",rename_profile:"Profil umbenennen",delete_profile:"Profil löschen",space_mode:"Weltraum-Modus",ground_mode:"Boden-Modus",unsaved_changes:"Ungespeicherte Änderungen",validation_status:"Validierungsstatus",bound_keys:"Gebundene Tasten",toggle_between_grid_and_categorized_view:"Zwischen Raster- und kategorisierter Ansicht wechseln",ensures_consistent_execution_order_by_mirroring_commands_phase_1_left_to_right_phase_2_right_to_left:"Gewährleistet konsistente Ausführungsreihenfolge durch Spiegelung der Befehle (Phase 1: links nach rechts, Phase 2: rechts nach links)",validate_command_chain:"Befehlskette validieren",clear_all_commands:"Alle Befehle löschen",copy_to_clipboard:"In Zwischenablage kopieren",collapse_expand:"Einklappen/Ausklappen",insert_target_variable:"$Target-Variable einfügen",sto_keybind_report:"STO Keybind-Bericht",mode:"Modus:",generated:"Generiert:",created_by:"Erstellt von:",statistics:"Statistiken",keys_bound:"Gebundene Tasten:",total_commands:"Gesamtbefehle:",aliases_defined:"Definierte Aliase:",no_keybinds_defined:"Keine Keybinds definiert.",command_aliases:"Befehlsaliase",report_footer:"Dieser Bericht wurde vom STO Tools Keybind Manager generiert. Für weitere Informationen über Star Trek Online Keybinds besuchen Sie das STO Wiki.",command_categories:{targeting:"Zielauswahl",combat:"Kampf",cosmetic:"Kosmetik",bridge_officer:"Brückenoffizier",tray:"Fachausführung",power:"Schildverwaltung",movement:"Bewegung",camera:"Kamera",communication:"Kommunikation",system:"System"},command_definitions:{target:{name:"Ziel nach Name",description:"Ziel nach Namen anvisieren (benötigt Anführungszeichen)"},target_enemy_near:{name:"Nächsten Feind anvisieren",description:"Den nächsten sichtbaren Feind anvisieren"},target_friend_near:{name:"Nächsten Verbündeten anvisieren",description:"Die nächste befreundete Einheit anvisieren"},target_self:{name:"Sich selbst anvisieren",description:"Das eigene Schiff/den eigenen Charakter anvisieren"},target_clear:{name:"Ziel aufheben",description:"Aktuelle Zielerfassung aufheben"},target_teammate_1:{name:"Teammitglied 1 anvisieren",description:"Erstes Teammitglied anvisieren"},target_teammate_2:{name:"Teammitglied 2 anvisieren",description:"Zweites Teammitglied anvisieren"},target_teammate_3:{name:"Teammitglied 3 anvisieren",description:"Drittes Teammitglied anvisieren"},target_teammate_4:{name:"Teammitglied 4 anvisieren",description:"Viertes Teammitglied anvisieren"},fire_all:{name:"Alle Waffen feuern",description:"Alle Waffen feuern"},fire_phasers:{name:"Energiewaffen feuern",description:"Alle Energiewaffen feuern"},fire_torps:{name:"Torpedos feuern",description:"Alle Torpedos feuern"},fire_mines:{name:"Minen feuern",description:"Alle Minen feuern"},fire_phasers_torps:{name:"Phaser & Torpedos feuern",description:"Phaser & Torpedos feuern"},fire_projectiles:{name:"Projektile feuern",description:"Torpedos & Minen feuern"},custom_tray:{name:"Tray-Ausführung",description:"Bestimmten Tray-Slot ausführen"},tray_with_backup:{name:"Tray-Ausführung mit Backup",description:"Bestimmten Tray-Slot mit Backup-Fähigkeit ausführen"},tray_range:{name:"Tray-Bereich-Ausführung",description:"Einen Bereich von Tray-Slots ausführen"},tray_range_with_backup:{name:"Tray-Bereich mit Backup",description:"Einen Bereich von Tray-Slots mit Backup-Fähigkeiten ausführen"},whole_tray:{name:"Gesamtes Tray ausführen",description:"Alle Slots in einem Tray ausführen"},whole_tray_with_backup:{name:"Gesamtes Tray mit Backup",description:"Alle Slots in einem Tray mit Backup-Tray ausführen"},distribute_shields:{name:"Schilde verteilen",description:"Schilde gleichmäßig verteilen, als würde man in die Mitte des Schiff- und Schildsymbols klicken"},reroute_shields_rear:{name:"Schilde nach hinten umleiten",description:"Schildenergie zur Heckseite umleiten"},reroute_shields_left:{name:"Schilde nach links umleiten",description:"Schildenergie zur linken Seite umleiten"},reroute_shields_right:{name:"Schilde nach rechts umleiten",description:"Schildenergie zur rechten Seite umleiten"},reroute_shields_forward:{name:"Schilde nach vorne umleiten",description:"Schildenergie zur Bugseite umleiten"},full_impulse:{name:"Vollimpuls",description:"Vollimpulsantrieb einschalten"},reverse:{name:"Rückwärts",description:"Triebwerke rückwärts"},throttle_adjust:{name:"Schub anpassen",description:"Schub um Betrag erhöhen oder verringern"},throttle_set:{name:"Schub setzen",description:"Schub auf bestimmte Position setzen (negativ = rückwärts, 0 = stopp)"},throttle_toggle:{name:"Schub umschalten",description:"Zwischen Vollschub und Vollstopp wechseln"},turn_left:{name:"Links drehen",description:"Schiff nach links drehen (kontinuierlich während gehalten)"},turn_right:{name:"Rechts drehen",description:"Schiff nach rechts drehen (kontinuierlich während gehalten)"},pitch_up:{name:"Aufwärts neigen",description:"Schiffsnase nach oben neigen (Höhenänderung im Weltraum)"},pitch_down:{name:"Abwärts neigen",description:"Schiffsnase nach unten neigen (Höhenänderung im Weltraum)"},strafe_left:{name:"Links seitlich bewegen",description:"Schiff nach links seitlich bewegen"},strafe_right:{name:"Rechts seitlich bewegen",description:"Schiff nach rechts seitlich bewegen"},forward:{name:"Vorwärts",description:"Vorwärts bewegen"},backward:{name:"Rückwärts",description:"Rückwärts bewegen"},auto_forward:{name:"Auto-Vorwärts",description:"Charakter bewegt sich vorwärts bis neue Bewegungsbefehle gegeben werden"},follow:{name:"Ziel folgen",description:"Der anvisierten Einheit folgen"},follow_cancel:{name:"Folgen abbrechen",description:"Aufhören zu folgen und Ziel vergessen"},zoom_in:{name:"Hineinzoomen",description:"Kamera hineinzoomen"},zoom_out:{name:"Herauszoomen",description:"Kamera herauszoomen"},zoom_in_small:{name:"Leicht hineinzoomen",description:"Kamera leicht hineinzoomen"},zoom_out_small:{name:"Leicht herauszoomen",description:"Kamera leicht herauszoomen"},cam_distance:{name:"Kameraentfernung setzen",description:"Kameraentfernung vom Spieler setzen"},cam_reset:{name:"Kamera zurücksetzen",description:"Kameraposition auf Standard zurücksetzen"},cam_target_lock:{name:"Kamera an Ziel fixieren",description:"Kamera am Ziel fixieren oder lösen"},cam_cycle_distance:{name:"Kameraentfernung wechseln",description:"Kameraentfernung zwischen mehreren voreingestellten Werten wechseln"},cam_mouse_look:{name:"Maus-Blick",description:"Maus-Blick-Kamerasteuerung aktivieren"},cam_turn_to_face:{name:"Zur Kamera drehen",description:"Schiff in Kamerarichtung drehen"},look_up:{name:"Nach oben blicken",description:"Blickwinkel ändern um geradeaus nach oben zu blicken"},look_down:{name:"Nach unten blicken",description:"Blickwinkel ändern um geradeaus nach unten zu blicken"},team_message:{name:"Team-Nachricht",description:"Nachricht an Team senden"},local_message:{name:"Lokale Nachricht",description:"Nachricht an lokalen Bereich senden"},zone_message:{name:"Zonen-Nachricht",description:"Nachricht an Zone senden"},toggle_hud:{name:"HUD umschalten",description:"HUD-Sichtbarkeit umschalten"},screenshot:{name:"Screenshot",description:"Einen Screenshot machen"},screenshot_jpg:{name:"Screenshot JPG",description:"Einen Screenshot als JPG speichern"},autofire_toggle:{name:"Autofeuer umschalten",description:"Waffen-Autofeuer umschalten"},bind_save_file:{name:"Binds in Datei speichern",description:"Alle Binds in eine Textdatei speichern"},bind_load_file:{name:"Binds aus Datei laden",description:"Eine Bind-Datei in den Client laden"},combat_log:{name:"Kampflog umschalten",description:"Kampflog-Aufzeichnung ein-/ausschalten (1=ein, 0=aus)"},missions:{name:"Missionen anzeigen/verbergen",description:"Missionstagebuch anzeigen/verbergen"},inventory:{name:"Inventar anzeigen/verbergen",description:"Inventar anzeigen/verbergen"},map:{name:"Karte",description:"Karte anzeigen/verbergen"},assist:{name:"Unterstützen",description:"Unterstützen '<name>': Unterstützt die Entität mit dem übereinstimmenden Namen. Wenn kein Name angegeben wird, unterstützt Ihr aktuelles Ziel."},net_timing_graph:{name:"Netzwerk-Timing-Graph",description:"Netzwerk-Timing-Graph aktivieren oder deaktivieren (0=deaktivieren, 1=aktivieren)"},net_timing_graph_alpha:{name:"Netzwerk-Timing-Graph Alpha",description:"Transparenzstufe für Netzwerk-Timing-Graph setzen (50=höchste Transparenz, 255=keine Transparenz)"},net_timing_graph_paused:{name:"Netzwerk-Timing-Graph Pausiert",description:"Netzwerk-Timing-Graph pausieren oder fortsetzen (0=Pause deaktiviert, 1=Pause aktiviert)"},netgraph:{name:"Netzwerk-Graph",description:"SND und RCV Netzwerkdaten als Text anzeigen (1=aktiviert, 0=deaktiviert)"},setrallypoint:{name:"Sammelpunkt setzen",description:"Einen Sammelpunkt für Ihr aktuelles Ziel setzen"},setrallypointconsole:{name:"Sammelpunkt setzen (Konsole)",description:"Einen Sammelpunkt für Ihr aktuelles Ziel setzen (Konsolenvariante)"},clearrallypoint:{name:"Sammelpunkt löschen",description:"Den Sammelpunkt für Ihr aktuelles Ziel löschen"},clearallrallypoints:{name:"Alle Sammelpunkte löschen",description:"Alle Sammelpunkte löschen"},bridge_officer_command:"Brückenoffizier-Befehl",select_bridge_officer_command:"Wählen Sie einen Brückenoffizier-Befehl",entity_name_optional:"Entitätsname (optional)",entity_name_optional_placeholder:"Geben Sie den Entitätsnamen ein (optional)",aim:{name:"Zielen",description:"Zielt auf das Ziel"},change_instance:{name:"Instanz wechseln",description:"Wechselt zu einer bereits erstellten Instanz derselben Karte. Funktioniert nur außerhalb des Roten Alarms."},chat_log:{name:"Chat-Log umschalten",description:"Chat-Log-Aufzeichnung ein-/ausschalten (1=an, 0=aus)"},goto_character_select:{name:"Zum Charakterauswahlbildschirm",description:"Zum Charakterauswahlbildschirm wechseln, ohne sich abzumelden."},holster:{name:"Waffe ablegen",description:"Waffe ablegen"},holster_toggle:{name:"Waffe umschalten",description:"Waffe ein-/ausblenden"},logout:{name:"Abmelden",description:"Aktuellen Charakter abmelden"},quit:{name:"Spiel beenden",description:"Fenster schließen"},remember_ui_lists:{name:"UI-Listen merken",description:"Ob die Platzierung und Breite der UI-Listen gemerkt werden soll"},safe_login:{name:"Sicherer Login",description:"Bei Aktivierung wird der Spieler auf die zuletzt besuchte statische Karte eingeloggt"},setactivecostume:{name:"Aktives Kostüm setzen",description:"Setzt das aktuelle aktive Kostüm. Erfordert zwei Modifikatoren."},shooter_clear_offset_tray_binds:{name:"Shooter Offset-Tray-Bindings löschen",description:"Löscht Offset-Tray-Bindings im Shooter-Modus"},shooter_clear_overlay_tray_binds:{name:"Shooter Overlay-Tray-Bindings löschen",description:"Löscht Overlay-Tray-Bindings im Shooter-Modus"},shooter_primary:{name:"Shooter Primär",description:"Primärangriff im Shooter-Modus"},shooter_secondary:{name:"Shooter Sekundär",description:"Sekundärangriff im Shooter-Modus"},shooter_set_offset_tray_binds:{name:"Shooter Offset-Tray-Bindings setzen",description:"Setzt Offset-Tray-Bindings im Shooter-Modus"},shooter_set_overlay_tray_binds:{name:"Shooter Overlay-Tray-Bindings setzen",description:"Setzt Overlay-Tray-Bindings im Shooter-Modus"},shooter_tertiary:{name:"Shooter Tertiär",description:"Tertiärangriff im Shooter-Modus"},show_game_ui:{name:"Spiel-UI anzeigen",description:"Zeigt die Spiel-Benutzeroberfläche an"},show_game_ui_no_extra_keybinds:{name:"Spiel-UI anzeigen (ohne zusätzliche Keybinds)",description:"Zeigt die Spiel-UI ohne zusätzliche Escape-Keybinds an"},toggle_shooter_mode:{name:"Shooter-Modus umschalten",description:"Zwischen Shooter- und RPG-Modus umschalten"},ui_cancel:{name:"UI Abbrechen",description:"Antwortet mit 'Abbrechen' auf ein offenes Dialogfeld; funktioniert nicht in allen Dialogen"},ui_gen_layers_reset:{name:"UI-Layout zurücksetzen",description:"Setzt das Layout zurück, wenn der Server die Position beweglicher Fenster aktualisiert"},ui_load:{name:"UI-Einstellungen laden",description:"Lädt die Standard-UI-Einstellungsdatei, normalerweise Live\\ui_settings.txt"},ui_load_file:{name:"UI-Einstellungsdatei laden",description:"Lädt eine benannte UI-Einstellungsdatei"},ui_ok:{name:"UI OK",description:"Antwortet mit 'OK' auf ein offenes Dialogfeld; funktioniert nicht in allen Dialogen"},ui_remember_positions:{name:"UI-Positionen merken",description:"Ob UI-Größen und -Positionen gemerkt werden sollen. Standardmäßig aktiviert."},ui_resolution:{name:"UI-Auflösung anzeigen",description:"Zeigt die aktuelle UI-Bildschirmauflösung an"},ui_save:{name:"UI-Einstellungen speichern",description:"Speichert das UI-Layout in der Standard-UI-Einstellungsdatei, normalerweise Live\\ui_settings.txt"},ui_save_file:{name:"UI-Einstellungsdatei speichern",description:"Speichert das UI-Layout in einer benannten UI-Einstellungsdatei"},ui_tooltip_delay:{name:"Tooltip-Verzögerung setzen",description:"Setzt die zusätzliche Verzögerung in Sekunden, bevor Tooltips angezeigt werden"},unholster:{name:"Waffe ziehen",description:"Waffe ziehen"}},category_descriptions:{targeting:"Zielauswahl und -verwaltung",combat:"Waffenfeuer und Kampfaktionen",tray:"Fähigkeiten aus Aktions-Trays ausführen",power:"Schildenergie und Verteilungsverwaltung",movement:"Schiffsbewegung und Navigation",camera:"Kamerasteuerung und Ansichtsverwaltung",communication:"Chat und Teamkommunikation",system:"UI- und Systembefehle"},no_aliases:"Keine Aliase",no_aliases_defined:"Keine Aliase definiert",create_alias_to_get_started:"Erstellen Sie einen Alias um zu beginnen",create_aliases_hint:"Erstellen Sie Befehlsaliase um komplexe Befehlssequenzen zu vereinfachen.",alias_deleted:'Alias "{{alias}}" gelöscht',please_select_a_key_first:"Bitte wählen Sie zuerst eine Taste",alias_added_to_key:'Alias "{{alias}}" zu {{key}} hinzugefügt',no_active_profile:"Kein aktives Profil",alias_exists:"Ein Alias mit diesem Namen existiert bereits",alias_template_exists:'Alias "{{alias}}" existiert bereits',alias_created_from_template:'Alias "{{alias}}" aus Vorlage erstellt',template_not_found:"Vorlage nicht gefunden",alias_not_found:"Alias nicht gefunden",alias_created:'Alias "{{alias}}" erstellt',alias_updated:'Alias "{{alias}}" aktualisiert',no_profile_selected_for_import:"Kein Profil für Import ausgewählt",no_keybinds_found_in_file:"Keine Keybinds in Datei gefunden",import_failed:"Import fehlgeschlagen: {{error}}",no_aliases_found_in_file:"Keine Aliase in Datei gefunden",failed_to_get_profile_for_import:"Profil für Import konnte nicht abgerufen werden",import_completed_keybinds:"Import abgeschlossen: {{count}} Keybinds",import_completed_keybinds_with_aliases:"Import abgeschlossen: {{keyCount}} Keybinds ({{aliasCount}} Aliase ignoriert - verwenden Sie Aliase importieren)",import_completed_aliases:"Import abgeschlossen: {{count}} Aliase",no_profile_selected_to_export:"Kein Profil für Export ausgewählt",keybind_file_exported:"Keybind-Datei erfolgreich exportiert",failed_to_export_keybind_file:"Keybind-Datei Export fehlgeschlagen: {{error}}",profile_exported_json:"Profil als JSON exportiert",failed_to_export_profile:"Profil Export fehlgeschlagen: {{error}}",complete_project_exported:"Vollständiges Projekt exportiert",failed_to_export_project:"Projekt Export fehlgeschlagen: {{error}}",data_exported_csv:"Daten als CSV exportiert",failed_to_export_csv:"CSV Export fehlgeschlagen: {{error}}",html_report_exported:"HTML-Bericht exportiert",failed_to_export_html_report:"HTML-Bericht Export fehlgeschlagen: {{error}}",no_command_to_copy:"Kein Befehl zum Kopieren",no_profiles_to_export:"Keine Profile zum Exportieren",exporting_profiles:"Exportiere {{count}} Profile...",aliases_exported_successfully:"Aliase erfolgreich exportiert",failed_to_export_aliases:"Alias Export fehlgeschlagen: {{error}}",sync_folder_set:"Sync-Ordner ausgewählt",failed_to_set_sync_folder:"Sync-Ordner auswählen fehlgeschlagen: {{error}}",no_sync_folder_selected:"Kein Sync-Ordner ausgewählt",project_synced_successfully:"Projekt erfolgreich synchronisiert",permission_denied_to_folder:"Berechtigung zum Schreiben in Ordner verweigert",failed_to_sync_project:"Projekt-Synchronisation fehlgeschlagen: {{error}}",general:"Allgemein",synchronization:"Synchronisation",appearance:"Erscheinungsbild",advanced:"Erweitert",general_settings:"Allgemeine Einstellungen",synchronization_settings:"Synchronisationseinstellungen",appearance_settings:"Erscheinungsbildeinstellungen",language_settings:"Spracheinstellungen",advanced_settings:"Erweiterte Einstellungen",auto_save:"Automatisch speichern",auto_save_description:"Änderungen automatisch während der Arbeit speichern",validation_mode:"Validierungsmodus",validation_mode_description:"Wie streng Befehle und Keybinds validiert werden sollen",strict:"Streng",lenient:"Nachsichtig",disabled:"Deaktiviert",sync_folder_description:"Wählen Sie einen Ordner zum automatischen Synchronisieren Ihrer Projekte",auto_sync:"Automatische Synchronisation",auto_sync_description:"Änderungen automatisch mit dem ausgewählten Ordner synchronisieren",auto_sync_interval:"Auto-Sync-Intervall",auto_sync_interval_description:"Wie oft Ihre Änderungen automatisch synchronisiert werden sollen",after_every_change:"Nach jeder Änderung",every_1_minute:"Jede Minute",every_2_minutes:"Alle 2 Minuten",every_5_minutes:"Alle 5 Minuten",auto_sync_completed:"Auto-Sync abgeschlossen",selected_folder:"Ausgewählter Ordner",theme:"Theme",theme_description:"Wählen Sie zwischen hellem und dunklem Theme",light_theme:"Hell",dark_theme:"Dunkel",compact_mode:"Kompaktmodus",compact_mode_description:"Kompakteres Interface-Layout verwenden",interface_language:"Interface-Sprache",language_description:"Wählen Sie die Sprache für das Interface",debug_mode:"Debug-Modus",debug_mode_description:"Debug-Protokollierung und Entwicklertools aktivieren",backup_interval:"Backup-Intervall",backup_interval_description:"Wie oft Ihre Arbeit automatisch gesichert werden soll",every_15_minutes:"Alle 15 Minuten",every_30_minutes:"Alle 30 Minuten",every_hour:"Jede Stunde",preferences_saved:"Einstellungen erfolgreich gespeichert",failed_to_save_preferences:"Einstellungen konnten nicht gespeichert werden",vfx_manager_description:"Wählen Sie visuelle Effekte aus, die mit dynFxSetFXExlusionList-Aliasen deaktiviert werden sollen. Effekte sind nach Umgebung organisiert.",app_description:"Ein umfassendes webbasiertes Tool zum Erstellen, Bearbeiten und Verwalten von Star Trek Online Keybind-Konfigurationen mit visueller Bearbeitung und erweiterten Funktionen.",csv_header:"Taste,Befehl,Typ,Beschreibung,Position",default_export_filename:"export.txt",select_a_space_ground_build_or_aliases_to_preview_export:"Wählen Sie einen Raum-/Boden-Build oder Aliase aus, um die Exportvorschau anzuzeigen.",or_capture_keys:"Oder Tasten erfassen:",click_here_then_press_keys:"Hier klicken, dann Tastenkombination drücken",press_key_combination_now:"Drücken Sie jetzt die Tastenkombination...",supports_single_modifier_plus_key_combinations:"Unterstützt Einzelmodifikator + Tastenkombinationen (z.B. Strg+A, Alt+1, Umschalt+Leertaste)",alias_mode:"Alias-Modus",alias_options:"Alias-Optionen",create:"Erstellen",create_new_alias:"Neuen Alias erstellen",cycle_type:"Zyklus-Typ",filter_aliases:"Aliase filtern",select_an_alias_to_edit:"Wählen Sie einen Alias zum Bearbeiten",select_an_alias_to_see_the_generated_command:"Wählen Sie einen Alias um den generierten Befehl zu sehen",select_options:"Optionen auswählen",toggle_type:"Umschalt-Typ",no_alias_selected:"Kein Alias ausgewählt",select_alias_from_left_panel:"Wählen Sie einen Alias aus dem linken Bereich aus, um seine Befehlssequenz anzuzeigen und zu bearbeiten.",select_key_from_left_panel:"Wählen Sie eine Taste aus dem linken Bereich aus, um ihre Befehlssequenz anzuzeigen und zu bearbeiten.",validation_error:"Validierungsfehler",failed_to_load_application:"Anwendung konnte nicht geladen werden",profile_created:'Profil "{{name}}" erstellt',failed_to_create_profile:"Profil konnte nicht erstellt werden",failed_to_clone_profile:"Profil konnte nicht geklont werden",cannot_delete_the_last_profile:"Das letzte Profil kann nicht gelöscht werden",profile_deleted:'Profil "{{profileName}}" gelöscht',failed_to_delete_profile:"Profil konnte nicht gelöscht werden",invalid_key_name:"Ungültiger Tastenname",key_added:'Taste "{{keyName}}" hinzugefügt',key_already_exists:'Taste "{{keyName}}" existiert bereits',key_deleted:'Taste "{{keyName}}" gelöscht',command_added_to_alias:"Befehl zum Alias hinzugefügt",commands_added:"{{count}} Befehle hinzugefügt",command_added:"Befehl hinzugefügt",command_deleted_from_alias:"Befehl aus Alias gelöscht",command_deleted:"Befehl gelöscht",switched_to_mode:"Zu {{mode}}-Modus gewechselt",alias_already_exists:'Alias "{{name}}" existiert bereits',commands_cleared_for_key:"Befehle für {{keyName}} gelöscht",project_loaded_successfully:"Projekt erfolgreich geladen",failed_to_load_project_file:"Projektdatei konnte nicht geladen werden",invalid_project_file:"Ungültige Projektdatei",project_exported_successfully:"Projekt erfolgreich exportiert",no_commands_to_duplicate:"Keine Befehle zum Duplizieren",key_duplicated:'Taste "{{keyName}}" als "{{newKeyName}}" dupliziert',template_system_coming_soon:"Template-System kommt bald",no_commands_to_validate:"Keine Befehle zu validieren",command_chain_is_valid:"Befehlskette ist gültig",please_configure_a_command:"Bitte konfigurieren Sie einen Befehl",command_updated_successfully:"Befehl erfolgreich aktualisiert",error_message:"Fehler: {{error}}",failed_to_select_all_space_effects:"Alle Weltraum-Effekte konnten nicht ausgewählt werden",failed_to_select_all_ground_effects:"Alle Boden-Effekte konnten nicht ausgewählt werden",space_preview_error:"Weltraum-Vorschau-Fehler: {{error}}",ground_preview_error:"Boden-Vorschau-Fehler: {{error}}",space_alias_error:"Weltraum-Alias-Fehler: {{error}}",failed_to_generate_space_alias:"Weltraum-Alias konnte nicht generiert werden",ground_alias_error:"Boden-Alias-Fehler: {{error}}",failed_to_generate_ground_alias:"Boden-Alias konnte nicht generiert werden",no_profile_selected:"Kein Profil ausgewählt",no_profile_found:"Kein Profil gefunden",switched_to_theme:"Zu {{themeName}} gewechselt",language_updated:"Sprache aktualisiert",auto_sync_failed:"Auto-Sync fehlgeschlagen: {{error}}",nothing_to_copy:"Nichts zu kopieren",content_copied_to_clipboard:"Inhalt in Zwischenablage kopiert",failed_to_generate_export:"Export konnte nicht generiert werden",no_profile_selected_to_clone:"Kein Profil zum Klonen ausgewählt",no_profile_selected_to_rename:"Kein Profil zum Umbenennen ausgewählt",profile_name_is_required:"Profilname ist erforderlich",profile_name_too_long:"Profilname ist zu lang (max. 50 Zeichen)",profile_name_already_exists:"Ein Profil mit diesem Namen existiert bereits",failed_to_save_profile:"Profil konnte nicht gespeichert werden: {{error}}",no_profile_selected_to_delete:"Kein Profil zum Löschen ausgewählt",no_keybinds_to_export:"Keine Keybinds zum Exportieren",no_aliases_to_export:"Keine Aliase zum Exportieren",failed_to_reset_application:"Anwendung konnte nicht zurückgesetzt werden: {{error}}",default_demo_data_loaded:"Standard-Demo-Daten erfolgreich geladen",failed_to_load_default_data:"Standarddaten konnten nicht geladen werden",failed_to_load_default_data_with_error:"Standarddaten konnten nicht geladen werden: {{error}}",failed_to_create_profile_from_template:"Profil konnte nicht aus Template erstellt werden",profile_exported:'Profil "{{profileName}}" exportiert',failed_to_import_profile:"Profil konnte nicht importiert werden: {{error}}",application_reset_successfully:"Anwendung erfolgreich zurückgesetzt",clear_commands:"Befehle löschen",command_info:"Befehl: {{command}}\nTyp: {{type}}",commands_updated_successfully:"{{count}} Befehle erfolgreich aktualisiert",confirm_clear_commands:'Sind Sie sicher, dass Sie alle Befehle für "{{keyName}}" löschen möchten?',confirm_delete_alias:'Sind Sie sicher, dass Sie den Alias "{{aliasName}}" löschen möchten?',confirm_delete_key:'Sind Sie sicher, dass Sie die Taste "{{keyName}}" und alle ihre Befehle löschen möchten?',confirm_delete_profile:'Sind Sie sicher, dass Sie das Profil "{{profileName}}" löschen möchten?\n\nDiese Aktion kann nicht rückgängig gemacht werden.',confirm_reset_application:"Sind Sie sicher, dass Sie die Anwendung zurücksetzen möchten?\n\nDies wird alle Profile, Keybinds und Einstellungen löschen. Diese Aktion kann nicht rückgängig gemacht werden.",delete_alias:"Alias löschen",delete_key:"Taste löschen",failed_to_copy_to_clipboard:"In Zwischenablage kopieren fehlgeschlagen",failed_to_import_aliases_generic:"Aliase konnten nicht importiert werden: {{error}}",failed_to_import_keybind_file:"Keybind-Datei konnte nicht importiert werden: {{error}}",failed_to_import_keybind_file_generic:"Keybind-Datei konnte nicht importiert werden: {{error}}",generated_vertigo_aliases:"{{count}} Vertigo-Alias{{plural}} generiert! Überprüfen Sie die Alias-Liste.",keybinds_exported_successfully:"{{environment}} Keybinds erfolgreich exportiert",no_effects_selected:"Keine Effekte ausgewählt. Bitte wählen Sie mindestens einen Effekt aus, um Aliase zu generieren.",profile_created_from:'Profil "{{newName}}" aus "{{sourceProfile}}" erstellt',profile_created_from_current:'Profil "{{name}}" aus aktuellem Profil "{{currentProfile}}" erstellt',profile_created_from_template_generic:'Profil "{{profileName}}" aus Template erstellt',profile_imported_successfully:'Profil "{{profileName}}" erfolgreich importiert',profile_renamed:'Profil von "{{oldName}}" zu "{{name}}" umbenannt',sto_tools_keybind_manager_loaded_successfully:"STO Tools Keybind Manager erfolgreich geladen",switched_to_profile:"Zu Profil gewechselt: {{name}} ({{environment}})",yes:"Ja",no:"Nein",active:"Aktiv",inactive:"Inaktiv",active_state:"Aktiver Zustand",no_aliases_available:"Keine Aliase verfügbar",no_commands:"Keine Befehle",profile_not_found:"Profil nicht gefunden",click_add_command_to_start_building_your_command_chain:"Klicken Sie auf 'Befehl hinzufügen', um mit dem Erstellen Ihrer Befehlsfolge für zu beginnen",click_add_command_to_start_building_your_alias_chain:"Klicken Sie auf 'Befehl hinzufügen', um mit dem Erstellen Ihrer Alias-Folge für zu beginnen",create_aliases_in_the_alias_manager_first:"Erstellen Sie zuerst Aliase im Alias-Manager",enter_sto_command:"STO-Befehl eingeben",enter_the_exact_sto_command_syntax:"Geben Sie die genaue STO-Befehlssyntax ein",enter_your_message:"Geben Sie Ihre Nachricht ein",maximum_100_characters:"Maximal 100 Zeichen",replaced_with_your_current_targets_name:"Wird durch den Namen Ihres aktuellen Ziels ersetzt",this_alias_will_automatically_toggle_between_its_onoff_states_when_executed:"Dieser Alias wechselt automatisch zwischen seinen Ein/Aus-Zuständen, wenn er ausgeführt wird",select_an_alias:"Alias auswählen",select_targeting_command:"Zielbefehle auswählen",select_combat_command:"Kampfbefehle auswählen",select_shield_command:"Schildbefehle auswählen",select_movement_command:"Bewegungsbefehle auswählen",select_camera_command:"Kamerabefehle auswählen",select_system_command:"Systembefehle auswählen",select_communication_type:"Kommunikationstyp auswählen",create_alias:"Alias erstellen",alias_commands:"Alias-Befehle",available_aliases:"Verfügbare Aliase",common_commands:"Häufige Befehle",sto_variables:"STO-Variablen",example:"Beispiel",message:"Nachricht",display_text:"Anzeigetext",descriptive_name_for_this_command:"Beschreibender Name für diesen Befehl",filename:"Dateiname",position:"Position",distance:"Entfernung",amount:"Menge",state:"Zustand",command:"Befehl",command_variant:"Befehlsvariante",communication_type:"Kommunikationstyp",combat_command:"Kampfbefehl",movement_command:"Bewegungsbefehl",camera_command:"Kamerabefehl",shield_command:"Schildbefehl",system_command:"Systembefehl",targeting_command:"Zielbefehl",tray_number:"Fachnummer",slot_number:"Slotnummer",start_tray:"Startfach",end_tray:"Endfach",start_slot:"Startslot",end_slot:"Endslot",backup_tray:"Backup-Fach",backup_slot:"Backup-Slot",backup_start_tray:"Backup-Startfach",backup_end_tray:"Backup-Endfach",backup_start_slot:"Backup-Startslot",backup_end_slot:"Backup-Endslot",backup_configuration:"Backup-Konfiguration",range_configuration:"Bereichskonfiguration",backup_range_configuration:"Backup-Bereichskonfiguration",single_tray_slot:"Einzelfach-Slot",single_tray_with_backup:"Einzelfach mit Backup",tray_range:"Fachbereich",tray_range_with_backup:"Fachbereich mit Backup",whole_tray:"Ganzes Fach",whole_tray_with_backup:"Ganzes Fach mit Backup",configure_command_options_to_see_preview:"Konfigurieren Sie Befehlsoptionen, um eine Vorschau zu sehen",key:"Taste",no_profile:"Kein Profil",create_command_aliases:"Befehlsaliase erstellen",bridge_officer:"Brückenoffizier",select_bridge_officer_command:"Wählen Sie einen Brückenoffizier-Befehl",net_graph:"Netzwerk-Graph",net_graph_command:"Netzwerk-Graph-Befehl",select_net_graph_command:"Wählen Sie einen Netzwerk-Graph-Befehl",net_timing_graph:"Netzwerk-Timing-Graph",net_timing_graph_alpha:"Netzwerk-Timing-Graph Alpha",net_timing_graph_paused:"Netzwerk-Timing-Graph Pausiert",netgraph:"Netzwerk-Graph",enable_disable:"Aktivieren/Deaktivieren",transparency_level:"Transparenzstufe",pause_state:"Pausenzustand",cosmetic_command:"Kosmetischer Befehl",delay_seconds:"Verzögerung (Sekunden)",first_modifier:"Erster Modifikator",modifier_1:"Modifikator 1",modifier_2:"Modifikator 2",off:"Aus",on:"An",parameter_configuration:"Parameter-Konfiguration",second_modifier:"Zweiter Modifikator",select_cosmetic_command:"Kosmetischen Befehl auswählen",stotrayexecbytray_description:"Führt Tray-Befehle basierend auf der aktuellen Tray-Nummer aus",tray_command:"Tray-Befehl",trayexecbytray_description:"Führt Befehle basierend auf der aktuellen Tray-Nummer aus",vfx_aliases:"VFX-Aliase",delete_selected_key:"Ausgewählte Taste löschen",duplicate_selected_key:"Ausgewählte Taste duplizieren",show_all_keys:"Alle Tasten anzeigen"},J={sto_tools_keybind_manager:"STO Tools Keybind Manager",open:"Ouvrir",save:"Enregistrer",explorer:"Explorateur",keybinds:"Raccourcis",import_keybinds:"Importer les raccourcis",export_keybinds:"Exporter les raccourcis",aliases:"Alias",import_aliases:"Importer les alias",export_aliases:"Exporter les alias",import:"Importer",import_menu:"Importer",backup:"Sauvegarde",backup_menu:"Sauvegarde",backup_application_state:"Sauvegarder l'état de l'application",restore_application_state:"Restaurer l'état de l'application",preferences:"Préférences",language:"Langue",sync_folder_label:"Dossier de synchronisation :",no_folder_selected:"Aucun dossier sélectionné",download:"Télécharger",vfx:"VFX",dark_mode:"Mode sombre",load_default_data:"Charger les données par défaut",reset_application:"Réinitialiser l'application",set_sync_folder:"Définir dossier de synchronisation",sync_now:"Synchroniser maintenant",about:"À propos",new:"Nouveau",clone:"Cloner",rename:"Renommer",delete:"Supprimer",space:"Espace",ground:"Sol",modified:"Modifié",valid:"Valide",keys:"touches",keys_firstupper:"Touches",key_singular:"touche",all:"Tout",add_key:"Ajouter une touche",copy:"Copier",select_a_key_to_edit:"Sélectionnez une touche à modifier",commands:"commandes",command_singular:"commande",stabilize_execution_order:"Stabiliser l'ordre d'exécution",validate:"Valider",clear:"Effacer",no_key_selected:"Aucune touche sélectionnée",select_a_key_from_the_left_panel_to_view_and_edit_its_command_chain:"Sélectionnez une touche dans le panneau de gauche pour voir et modifier sa chaîne de commandes.",generated_command:"Commande générée :",select_a_key_to_see_the_generated_command:"Sélectionnez une touche pour voir la commande générée",add_command:"Ajouter une commande",from_template:"À partir d'un modèle",add_alias:"Ajouter un alias",copy_from_key:"Copier depuis la touche",command_library:"Bibliothèque de commandes",add_new_key:"Ajouter une nouvelle touche",key_name:"Nom de la touche :",use_standard_key_names_like_f1_ctrl_a_shift_space_etc:"Utilisez des noms de touches standard comme F1, Ctrl+A, Shift+Space, etc.",common_keys:"Touches communes :",ctrl:"Ctrl",alt:"Alt",shift:"Maj",cancel:"Annuler",command_type:"Type de commande :",select_command_type:"Sélectionner le type de commande...",targeting:"Ciblage",combat:"Combat",tray_execution:"Exécution de plateau",shield_management:"Gestion des boucliers",movement:"Mouvement",camera:"Caméra",communication:"Communication",system:"Système",alias:"Alias",custom_command:"Commande personnalisée",select_a_command_type_to_see_preview:"Sélectionnez un type de commande pour voir l'aperçu",profile:"Profil",profile_name:"Nom du profil :",description_optional:"Description (optionnelle) :",command_alias_manager:"Gestionnaire d'alias de commandes",new_alias:"Nouvel alias",edit_alias:"Modifier l'alias",alias_name:"Nom de l'alias :",use_alphanumeric_characters_only_no_spaces:"Utilisez uniquement des caractères alphanumériques, pas d'espaces",description:"Description :",target:"$Target",example_target_self_power_exec_science_team_team_healing_target:"Exemple : target_self $$ +power_exec Science_Team $$ team Healing [$Target]",use_in_communication_commands_to_include_target_name:"- Utilisez dans les commandes de communication pour inclure le nom de la cible",preview:"Aperçu :",alias_myalias_command_sequence:'alias MonAlias "séquence de commandes"',save_alias:"Enregistrer l'alias",select_key:"Sélectionner la Touche",select_key_dialog_title:"Sélectionner la Touche",select_key_dialog_description:"Choisissez parmi les touches disponibles ci-dessous :",key_combination:"Combinaison de Touches :",capture_key:"Capturer la Touche",select_this_key:"Sélectionner Cette Touche",select_modifier_key:"Sélectionner Modificateur + Touche",step_1_select_modifiers_optional:"Étape 1 : Sélectionner les Modificateurs (Optionnel)",step_2_select_key:"Étape 2 : Sélectionner la Touche",common:"Commun",letters:"Lettres",numbers:"Chiffres",function:"Fonction",arrows:"Flèches",symbols:"Symboles",mouse:"Souris",gamepad:"Manette",common_keys1:"Touches communes",find_other_keys:"Trouver d'autres touches...",vfx_manager:"Gestionnaire VFX",select_visual_effects_to_disable_using_dynfxsetfxexlusionlist_aliases_effects_are_organized_by_environment:"Sélectionnez les effets visuels à désactiver en utilisant les alias dynFxSetFXExlusionList. Les effets sont organisés par environnement.",space_effects:"Effets d'espace",select_all:"Tout sélectionner",clear_all:"Tout effacer",selected:"sélectionné",ground_effects:"Effets de sol",generated_aliases:"Alias générés :",space_alias:"Alias d'espace :",no_space_effects_selected:"Aucun effet d'espace sélectionné",ground_alias:"Alias de sol :",no_ground_effects_selected:"Aucun effet de sol sélectionné",show_player_say:"Afficher le Say du joueur",generate_aliases:"Générer des Alias",about_sto_tools_keybind_manager:"À propos de STO Tools Keybind Manager",a_comprehensive_web_based_tool_for_creating_editing_and_managing_star_trek_online_keybind_configurations_with_visual_editing_and_advanced_features:"Un outil web complet pour créer, modifier et gérer les configurations de raccourcis Star Trek Online avec édition visuelle et fonctionnalités avancées.",features:"Fonctionnalités :",visual_keybind_editor:"Éditeur visuel de raccourcis",sto_command_library_with_search_and_categorization:"Bibliothèque de commandes STO avec recherche et catégorisation",multiple_profile_management_create_clone_rename_delete:"Gestion de profils multiples (créer, cloner, renommer, supprimer)",custom_alias_system_for_complex_command_sequences:"Système d'alias personnalisé pour les séquences de commandes complexes",vertigo_inspired_vfx_manager_for_visual_effects_control:"Gestionnaire VFX inspiré de VERTIGO pour le contrôle des effets visuels",import_export_keybind_and_alias_files_and_project_backups:"Import/export de fichiers de raccourcis et d'alias, et sauvegardes de projet",real_time_validation_and_command_preview:"Validation en temps réel et aperçu des commandes",quick_start:"Démarrage rapide :",create_a_new_profile_or_use_the_default_profile:"Créez un nouveau profil ou utilisez le profil par défaut",select_keys_from_the_grid_and_add_commands_from_the_library:"Sélectionnez des touches dans la grille et ajoutez des commandes depuis la bibliothèque",use_the_command_chain_editor_to_build_complex_sequences:"Utilisez l'éditeur de chaînes de commandes pour construire des séquences complexes",export_your_keybinds_as_txt_files_for_use_in_sto:"Exportez vos raccourcis en fichiers .txt pour utilisation dans STO",resources:"Ressources :",copyright:"© 2025 STO Tools. Tous droits réservés.",got_it:"Compris !",file_explorer:"Explorateur de fichiers",select_an_item_on_the_left_to_preview_export:"Sélectionnez un élément à gauche pour prévisualiser l'export",close:"Fermer",select_export_format:"Sélectionner le format d'export",export_as:"Exporter en :",sto_keybind_file_txt:"Fichier de raccourcis STO (.txt)",json_profile_json:"Profil JSON (.json)",complete_project_json:"Projet complet (.json)",csv_data_csv:"Données CSV (.csv)",html_report_html:"Rapport HTML (.html)",alias_file_txt:"Fichier d'alias (.txt)",environment:"Environnement :",export:"Exporter",filter_keys:"Filtrer les touches...",search_commands:"Rechercher des commandes...",e_g_f5_ctrl_a_shift_1:"ex. F5, Ctrl+A, Maj+1",enter_profile_name:"Entrez le nom du profil",describe_this_keybind_profile:"Décrivez ce profil de raccourcis",myalias:"MonAlias",brief_description_of_what_this_alias_does:"Brève description de ce que fait cet alias",enter_command_sequence_use_to_separate_commands:"Entrez la séquence de commandes (utilisez $$ pour séparer les commandes)",search_keys:"Rechercher des touches...",open_project_json:"Ouvrir le JSON du projet",save_project_json:"Enregistrer le JSON du projet",keybind_operations:"Opérations de raccourcis",alias_operations:"Opérations d'alias",settings:"Paramètres",select_profile:"Sélectionner un profil",new_profile:"Nouveau profil",clone_profile:"Cloner le profil",rename_profile:"Renommer le profil",delete_profile:"Supprimer le profil",space_mode:"Mode espace",ground_mode:"Mode sol",unsaved_changes:"Modifications non enregistrées",validation_status:"Statut de validation",bound_keys:"Touches liées",toggle_between_grid_and_categorized_view:"Basculer entre la vue grille et catégorisée",ensures_consistent_execution_order_by_mirroring_commands_phase_1_left_to_right_phase_2_right_to_left:"Assure un ordre d'exécution cohérent en miroir des commandes (Phase 1 : gauche à droite, Phase 2 : droite à gauche)",validate_command_chain:"Valider la chaîne de commandes",clear_all_commands:"Effacer toutes les commandes",copy_to_clipboard:"Copier dans le presse-papiers",collapse_expand:"Réduire/Développer",insert_target_variable:"Insérer la variable $Target",sto_keybind_report:"Rapport de raccourcis STO",mode:"Mode :",generated:"Généré :",created_by:"Créé par :",statistics:"Statistiques",keys_bound:"Touches liées :",total_commands:"Total des commandes :",aliases_defined:"Alias définis :",no_keybinds_defined:"Aucun raccourci défini.",command_aliases:"Alias de commandes",report_footer:"Ce rapport a été généré par STO Tools Keybind Manager. Pour plus d'informations sur les raccourcis Star Trek Online, visitez le Wiki STO.",bridge_officer:"Officier de pont",enable_disable:"Activer/Désactiver",net_graph:"Graphique réseau",net_graph_command:"Commande de graphique réseau",select_bridge_officer_command:"Sélectionner une commande d'officier de pont",select_net_graph_command:"Sélectionner une commande de graphique réseau",transparency_level:"Niveau de transparence",pause_state:"État de pause",command_categories:{targeting:"Ciblage",combat:"Combat",cosmetic:"Cosmétique",bridge_officer:"Officier de passerelle",tray:"Exécution de Plateau",power:"Gestion des Boucliers",movement:"Mouvement",camera:"Caméra",communication:"Communication",system:"Système"},command_definitions:{target:{name:"Cibler par nom",description:"Cibler une entité par son nom (nécessite des guillemets)"},target_enemy_near:{name:"Cibler l'ennemi le plus proche",description:"Cibler l'ennemi le plus proche en vue"},target_friend_near:{name:"Cibler l'allié le plus proche",description:"Cibler l'entité amie la plus proche"},target_self:{name:"Se cibler soi-même",description:"Cibler votre propre vaisseau/personnage"},target_clear:{name:"Effacer la cible",description:"Supprimer le verrouillage de cible actuel"},target_teammate_1:{name:"Cibler coéquipier 1",description:"Cibler le premier membre de l'équipe"},target_teammate_2:{name:"Cibler coéquipier 2",description:"Cibler le deuxième membre de l'équipe"},target_teammate_3:{name:"Cibler coéquipier 3",description:"Cibler le troisième membre de l'équipe"},target_teammate_4:{name:"Cibler coéquipier 4",description:"Cibler le quatrième membre de l'équipe"},fire_all:{name:"Tirer toutes les armes",description:"Tirer toutes les armes"},fire_phasers:{name:"Tirer armes à énergie",description:"Tirer toutes les armes à énergie"},fire_torps:{name:"Tirer torpilles",description:"Tirer toutes les torpilles"},fire_mines:{name:"Tirer mines",description:"Tirer toutes les mines"},fire_phasers_torps:{name:"Tirer phasers et torpilles",description:"Tirer phasers et torpilles"},fire_projectiles:{name:"Tirer les Projectiles",description:"Tirer les torpilles et mines"},setactivecostume:{name:"Définir le Costume Actif",description:"Définit le costume actif actuel. Nécessite deux modificateurs."},custom_tray:{name:"Exécution de plateau",description:"Exécuter un emplacement de plateau spécifique"},tray_with_backup:{name:"Exécution de plateau avec sauvegarde",description:"Exécuter un emplacement de plateau spécifique avec capacité de sauvegarde"},tray_range:{name:"Exécution de plage de plateau",description:"Exécuter une plage d'emplacements de plateau"},tray_range_with_backup:{name:"Plage de plateau avec sauvegarde",description:"Exécuter une plage d'emplacements de plateau avec capacités de sauvegarde"},whole_tray:{name:"Exécution de plateau entier",description:"Exécuter tous les emplacements d'un plateau"},whole_tray_with_backup:{name:"Plateau entier avec sauvegarde",description:"Exécuter tous les emplacements d'un plateau avec plateau de sauvegarde"},distribute_shields:{name:"Distribuer les boucliers",description:"Distribue uniformément les boucliers comme si on cliquait au milieu de l'icône vaisseau et boucliers"},reroute_shields_rear:{name:"Rediriger boucliers arrière",description:"Rediriger l'énergie des boucliers vers l'arrière"},reroute_shields_left:{name:"Rediriger boucliers gauche",description:"Rediriger l'énergie des boucliers vers la gauche"},reroute_shields_right:{name:"Rediriger boucliers droite",description:"Rediriger l'énergie des boucliers vers la droite"},reroute_shields_forward:{name:"Rediriger boucliers avant",description:"Rediriger l'énergie des boucliers vers l'avant"},full_impulse:{name:"Impulsion maximale",description:"Engager le moteur à impulsion maximale"},reverse:{name:"Marche arrière",description:"Moteurs en marche arrière"},throttle_adjust:{name:"Ajuster les gaz",description:"Augmenter ou diminuer les gaz d'une certaine quantité"},throttle_set:{name:"Régler les gaz",description:"Régler les gaz à une position spécifique (négatif = marche arrière, 0 = arrêt)"},throttle_toggle:{name:"Basculer les gaz",description:"Alterner entre gaz maximum et arrêt complet"},turn_left:{name:"Tourner à gauche",description:"Tourner le vaisseau à gauche (continu tant que maintenu)"},turn_right:{name:"Tourner à droite",description:"Tourner le vaisseau à droite (continu tant que maintenu)"},pitch_up:{name:"Cabrer",description:"Cabrer le nez du vaisseau vers le haut (changement d'altitude dans l'espace)"},pitch_down:{name:"Piquer",description:"Piquer le nez du vaisseau vers le bas (changement d'altitude dans l'espace)"},strafe_left:{name:"Déplacement latéral gauche",description:"Déplacer le vaisseau latéralement à gauche"},strafe_right:{name:"Déplacement latéral droite",description:"Déplacer le vaisseau latéralement à droite"},forward:{name:"Avancer",description:"Avancer"},backward:{name:"Reculer",description:"Reculer"},auto_forward:{name:"Avance automatique",description:"Le personnage avance jusqu'à ce que de nouvelles commandes de mouvement soient données"},follow:{name:"Suivre la cible",description:"Suivre l'entité ciblée"},follow_cancel:{name:"Annuler le suivi",description:"Arrêter de suivre et oublier la cible"},zoom_in:{name:"Zoomer",description:"Zoomer la caméra"},zoom_out:{name:"Dézoomer",description:"Dézoomer la caméra"},zoom_in_small:{name:"Zoomer légèrement",description:"Zoomer légèrement la caméra"},zoom_out_small:{name:"Dézoomer légèrement",description:"Dézoomer légèrement la caméra"},cam_distance:{name:"Définir distance caméra",description:"Définir la distance de la caméra par rapport au joueur"},cam_reset:{name:"Réinitialiser caméra",description:"Réinitialiser la position de la caméra par défaut"},cam_target_lock:{name:"Verrouiller caméra sur cible",description:"Verrouiller ou déverrouiller la caméra sur la cible"},cam_cycle_distance:{name:"Alterner distance caméra",description:"Alterner la distance de la caméra entre plusieurs valeurs prédéfinies"},cam_mouse_look:{name:"Vue souris",description:"Activer le contrôle de caméra par vue souris"},cam_turn_to_face:{name:"Tourner vers la caméra",description:"Tourner le vaisseau pour faire face à la direction de la caméra"},look_up:{name:"Regarder vers le haut",description:"Changer le point de vue pour regarder droit vers le haut"},look_down:{name:"Regarder vers le bas",description:"Changer le point de vue pour regarder droit vers le bas"},team_message:{name:"Message d'équipe",description:"Envoyer un message à l'équipe"},local_message:{name:"Message local",description:"Envoyer un message à la zone locale"},zone_message:{name:"Message de zone",description:"Envoyer un message à la zone"},toggle_hud:{name:"Basculer HUD",description:"Basculer la visibilité du HUD"},screenshot:{name:"Capture d'écran",description:"Prendre une capture d'écran"},screenshot_jpg:{name:"Capture d'écran JPG",description:"Sauvegarder une capture d'écran en JPG"},autofire_toggle:{name:"Basculer tir automatique",description:"Basculer le tir automatique des armes"},bind_save_file:{name:"Sauvegarder raccourcis vers fichier",description:"Sauvegarder tous vos raccourcis dans un fichier texte"},bind_load_file:{name:"Charger raccourcis depuis fichier",description:"Charger un fichier de raccourcis dans le client"},combat_log:{name:"Basculer journal de combat",description:"Activer/désactiver l'enregistrement du journal de combat (1=activé, 0=désactivé)"},missions:{name:"Afficher/Masquer missions",description:"Afficher/masquer le journal des missions"},inventory:{name:"Afficher/Masquer inventaire",description:"Afficher/masquer votre inventaire"},map:{name:"Afficher/Masquer carte",description:"Afficher/masquer la fenêtre de carte"},logout:{name:"Se déconnecter",description:"Se déconnecter du personnage actuel."},quit:{name:"Quitter le jeu",description:"Fermer la fenêtre."},ui_load:{name:"Charger les paramètres UI",description:"Charge le fichier de sauvegarde par défaut des fenêtres UI, généralement Live\\ui_settings.txt"},ui_save:{name:"Sauvegarder les paramètres UI",description:"Sauvegarde la mise en page UI dans le fichier de sauvegarde par défaut des fenêtres UI, généralement Live\\ui_settings.txt"},ui_load_file:{name:"Charger le fichier de paramètres UI",description:"Charge le fichier de sauvegarde des fenêtres UI nommé"},ui_save_file:{name:"Sauvegarder le fichier de paramètres UI",description:"Sauvegarde la mise en page UI dans le fichier de sauvegarde des fenêtres UI nommé"},ui_cancel:{name:"UI Annuler",description:'Répond "Annuler" à une boîte de dialogue ouverte; peut ne pas fonctionner dans tous les dialogues.'},ui_ok:{name:"UI OK",description:'Répond "OK" à une boîte de dialogue ouverte; peut ne pas fonctionner dans tous les dialogues.'},chat_log:{name:"Basculer le journal de chat",description:"Activer/désactiver le journal de chat. 1=activé, 0=désactivé, pas de paramètre=afficher le statut. Préfixer ++ le transforme en bascule"},remember_ui_lists:{name:"Mémoriser les listes UI",description:"S'il faut mémoriser le placement et la largeur des colonnes des listes UI."},ui_remember_positions:{name:"Mémoriser les positions UI",description:"S'il faut mémoriser les tailles et positions UI. Activé par défaut."},safe_login:{name:"Connexion sécurisée",description:"Si vrai, alors connecte le joueur à sa carte statique la plus récente au lieu de n'importe quoi d'autre."},goto_character_select:{name:"Aller à la sélection de personnage",description:"Aller à l'écran de sélection de personnage sans se déconnecter."},ui_gen_layers_reset:{name:"Réinitialiser la mise en page UI",description:"Réinitialise la mise en page, utilisé quand le serveur met à jour les positions des fenêtres mobiles"},ui_resolution:{name:"Afficher la résolution UI",description:"Affiche la résolution d'écran UI actuelle."},ui_tooltip_delay:{name:"Définir le délai d'infobulle",description:"Définit le délai supplémentaire, en secondes, avant que les infobulles apparaissent"},show_game_ui:{name:"Afficher l'UI du jeu",description:"Afficher l'UI du jeu"},show_game_ui_no_extra_keybinds:{name:"Afficher l'UI du jeu (sans raccourcis supplémentaires)",description:"Cette commande n'ajoute aucun raccourci pour afficher l'UI quand l'utilisateur appuie sur échap"},change_instance:{name:"Changer d'instance",description:"Changer vers une instance déjà créée de la même carte. Ne fonctionne que quand pas en alerte rouge."},aim:{name:"Viser/Lunette",description:"Activer/désactiver la lunette. En mode lunette le joueur fait plus de dégâts. Peut être utilisé comme bascule ou appuyer et maintenir"},holster:{name:"Ranger l'arme",description:"Tenter de ranger votre arme active"},holster_toggle:{name:"Basculer ranger l'arme",description:"Tenter de ranger ou dégainer vos armes"},unholster:{name:"Dégainer l'arme",description:"Tenter de dégainer votre arme active"},toggle_shooter_mode:{name:"Basculer le mode tireur",description:"Activer/désactiver le mode tireur"},shooter_primary:{name:"Tireur primaire",description:"Action primaire du mode tireur"},shooter_secondary:{name:"Tireur secondaire",description:"Action secondaire du mode tireur"},shooter_tertiary:{name:"Tireur tertiaire",description:"Action tertiaire du mode tireur"},shooter_clear_offset_tray_binds:{name:"Effacer les liaisons de plateau de décalage du tireur",description:"Effacer l'emplacement de départ et le mouvement de la boîte d'action jaune qui apparaît sur le plateau en mode tireur"},shooter_clear_overlay_tray_binds:{name:"Effacer les liaisons de plateau superposé du tireur",description:"Effacer les liaisons de plateau superposé pour le mode tireur"},shooter_set_offset_tray_binds:{name:"Définir les liaisons de plateau de décalage du tireur",description:"Définir l'emplacement de départ et le mouvement de la boîte d'action jaune qui apparaît sur le plateau en mode tireur"},shooter_set_overlay_tray_binds:{name:"Définir les liaisons de plateau superposé du tireur",description:"Définir les liaisons de plateau superposé pour le mode tireur"},setrallypoint:{name:"Définir Point de Ralliement",description:"Définit un point de ralliement pour votre cible actuelle"},setrallypointconsole:{name:"Définir Point de Ralliement (Console)",description:"Définit un point de ralliement pour votre cible actuelle (variante console)"},clearrallypoint:{name:"Effacer Point de Ralliement",description:"Efface le point de ralliement pour votre cible actuelle"},clearallrallypoints:{name:"Effacer Tous les Points de Ralliement",description:"Efface tous les points de ralliement"},assist:{name:"Assister",description:"Assister '<name>': Assiste l'entité portant le nom correspondant. Si aucun nom n'est donné, assiste votre cible actuelle."},net_timing_graph:"Graphique de Timing Réseau",net_timing_graph_alpha:"Graphique de Timing Réseau Alpha",net_timing_graph_paused:"Graphique de Timing Réseau Pausé",netgraph:"Graphique Réseau",bridge_officer_command:"Commande d'Officier de Pont",select_bridge_officer_command:"Sélectionnez une commande d'officier de pont",entity_name_optional:"Nom de l'entité (optionnel)",entity_name_optional_placeholder:"Entrez le nom de l'entité (optionnel)"},category_descriptions:{targeting:"Sélection et gestion des cibles",combat:"Tir d'armes et actions de combat",tray:"Exécuter des capacités depuis les plateaux d'action",power:"Gestion de l'énergie et distribution des boucliers",movement:"Mouvement et navigation du vaisseau",camera:"Contrôle de caméra et gestion de vue",communication:"Chat et communication d'équipe",system:"Commandes UI et système"},no_aliases:"Aucun alias",no_aliases_defined:"Aucun alias défini",create_alias_to_get_started:"Créez un alias pour commencer",create_aliases_hint:"Créez des alias de commandes pour simplifier les séquences de commandes complexes.",alias_deleted:'Alias "{{alias}}" supprimé',please_select_a_key_first:"Veuillez d'abord sélectionner une touche",alias_added_to_key:'Alias "{{alias}}" ajouté à {{key}}',no_active_profile:"Aucun profil actif",alias_exists:"Un alias avec ce nom existe déjà",alias_template_exists:'L\'alias "{{alias}}" existe déjà',alias_created_from_template:'Alias "{{alias}}" créé à partir du modèle',template_not_found:"Modèle non trouvé",alias_not_found:"Alias non trouvé",alias_created:'Alias "{{alias}}" créé',alias_updated:'Alias "{{alias}}" mis à jour',no_profile_selected_for_import:"Aucun profil sélectionné pour l'importation",no_keybinds_found_in_file:"Aucun raccourci trouvé dans le fichier",import_failed:"Échec de l'importation : {{error}}",no_aliases_found_in_file:"Aucun alias trouvé dans le fichier",failed_to_get_profile_for_import:"Échec de l'obtention du profil pour l'importation",import_completed_keybinds:"Importation terminée : {{count}} raccourcis",import_completed_keybinds_with_aliases:"Importation terminée : {{keyCount}} raccourcis ({{aliasCount}} alias ignorés - utilisez Importer les alias)",import_completed_aliases:"Importation terminée : {{count}} alias",no_profile_selected_to_export:"Aucun profil sélectionné pour l'exportation",keybind_file_exported:"Fichier de raccourcis exporté avec succès",failed_to_export_keybind_file:"Échec de l'exportation du fichier de raccourcis : {{error}}",profile_exported_json:"Profil exporté en JSON",failed_to_export_profile:"Échec de l'exportation du profil : {{error}}",complete_project_exported:"Projet complet exporté",failed_to_export_project:"Échec de l'exportation du projet : {{error}}",data_exported_csv:"Données exportées en CSV",failed_to_export_csv:"Échec de l'exportation CSV : {{error}}",html_report_exported:"Rapport HTML exporté",failed_to_export_html_report:"Échec de l'exportation du rapport HTML : {{error}}",no_command_to_copy:"Aucune commande à copier",no_profiles_to_export:"Aucun profil à exporter",exporting_profiles:"Exportation de {{count}} profils...",aliases_exported_successfully:"Alias exportés avec succès",failed_to_export_aliases:"Échec de l'exportation des alias : {{error}}",sync_folder_set:"Dossier de synchronisation sélectionné",failed_to_set_sync_folder:"Échec de la sélection du dossier de synchronisation : {{error}}",no_sync_folder_selected:"Aucun dossier de synchronisation sélectionné",project_synced_successfully:"Projet synchronisé avec succès",permission_denied_to_folder:"Permission refusée pour écrire dans le dossier",failed_to_sync_project:"Échec de la synchronisation du projet : {{error}}",general:"Général",synchronization:"Synchronisation",appearance:"Apparence",advanced:"Avancé",general_settings:"Paramètres généraux",synchronization_settings:"Paramètres de synchronisation",appearance_settings:"Paramètres d'apparence",language_settings:"Paramètres de langue",advanced_settings:"Paramètres avancés",auto_save:"Sauvegarde automatique",auto_save_description:"Sauvegarder automatiquement les modifications pendant le travail",validation_mode:"Mode de validation",validation_mode_description:"Niveau de validation des commandes et raccourcis",strict:"Strict",lenient:"Souple",disabled:"Désactivé",sync_folder_description:"Choisissez un dossier pour synchroniser automatiquement vos projets",auto_sync:"Synchronisation automatique",auto_sync_description:"Synchroniser automatiquement les modifications avec le dossier sélectionné",auto_sync_interval:"Intervalle de synchronisation automatique",auto_sync_interval_description:"À quelle fréquence synchroniser automatiquement vos modifications",after_every_change:"Après chaque modification",every_1_minute:"Chaque minute",every_2_minutes:"Toutes les 2 minutes",every_5_minutes:"Toutes les 5 minutes",auto_sync_completed:"Synchronisation automatique terminée",selected_folder:"Dossier sélectionné",theme:"Thème",theme_description:"Choisissez entre les thèmes clair et sombre",light_theme:"Clair",dark_theme:"Sombre",compact_mode:"Mode compact",compact_mode_description:"Utiliser une disposition d'interface plus compacte",interface_language:"Langue de l'interface",language_description:"Choisissez la langue de l'interface",debug_mode:"Mode débogage",debug_mode_description:"Activer la journalisation de débogage et les outils de développement",backup_interval:"Intervalle de sauvegarde",backup_interval_description:"Fréquence de sauvegarde automatique de votre travail",every_15_minutes:"Toutes les 15 minutes",every_30_minutes:"Toutes les 30 minutes",every_hour:"Toutes les heures",preferences_saved:"Préférences sauvegardées avec succès",failed_to_save_preferences:"Échec de la sauvegarde des préférences",vfx_manager_description:"Sélectionnez les effets visuels à désactiver en utilisant les alias dynFxSetFXExlusionList. Les effets sont organisés par environnement.",app_description:"Un outil web complet pour créer, éditer et gérer les configurations de raccourcis de Star Trek Online avec édition visuelle et fonctionnalités avancées.",csv_header:"Touche,Commande,Type,Description,Position",default_export_filename:"export.txt",select_a_space_ground_build_or_aliases_to_preview_export:"Sélectionnez une construction Espace/Sol ou des Alias pour prévisualiser l'exportation.",or_capture_keys:"Ou capturer les touches :",click_here_then_press_keys:"Cliquez ici, puis appuyez sur la combinaison de touches",press_key_combination_now:"Appuyez sur la combinaison de touches maintenant...",supports_single_modifier_plus_key_combinations:"Prend en charge les combinaisons modificateur unique + touche (ex. Ctrl+A, Alt+1, Shift+Space)",alias_mode:"Mode alias",alias_options:"Options d'alias",create:"Créer",create_new_alias:"Créer un nouvel alias",cycle_type:"Type de cycle",filter_aliases:"Filtrer les alias",select_an_alias_to_edit:"Sélectionnez un alias à modifier",select_an_alias_to_see_the_generated_command:"Sélectionnez un alias pour voir la commande générée",select_options:"Sélectionner les options",toggle_type:"Type de basculement",no_alias_selected:"Aucun alias sélectionné",select_alias_from_left_panel:"Sélectionnez un alias dans le panneau de gauche pour afficher et modifier sa chaîne de commandes.",select_key_from_left_panel:"Sélectionnez une touche dans le panneau de gauche pour afficher et modifier sa chaîne de commandes.",validation_error:"Erreur de validation",failed_to_load_application:"Impossible de charger l'application",profile_created:'Profil "{{name}}" créé',failed_to_create_profile:"Impossible de créer le profil",failed_to_clone_profile:"Impossible de cloner le profil",cannot_delete_the_last_profile:"Impossible de supprimer le dernier profil",profile_deleted:'Profil "{{profileName}}" supprimé',failed_to_delete_profile:"Impossible de supprimer le profil",invalid_key_name:"Nom de touche invalide",key_added:'Touche "{{keyName}}" ajoutée',key_already_exists:'La touche "{{keyName}}" existe déjà',key_deleted:'Touche "{{keyName}}" supprimée',command_added_to_alias:"Commande ajoutée à l'alias",commands_added:"{{count}} commandes ajoutées",command_added:"Commande ajoutée",command_deleted_from_alias:"Commande supprimée de l'alias",command_deleted:"Commande supprimée",switched_to_mode:"Passé au mode {{mode}}",alias_already_exists:'L\'alias "{{name}}" existe déjà',commands_cleared_for_key:"Commandes effacées pour {{keyName}}",project_loaded_successfully:"Projet chargé avec succès",failed_to_load_project_file:"Impossible de charger le fichier de projet",invalid_project_file:"Fichier de projet invalide",project_exported_successfully:"Projet exporté avec succès",no_commands_to_duplicate:"Aucune commande à dupliquer",key_duplicated:'Touche "{{keyName}}" dupliquée en "{{newKeyName}}"',template_system_coming_soon:"Système de modèles bientôt disponible",no_commands_to_validate:"Aucune commande à valider",command_chain_is_valid:"Chaîne de commandes valide",please_configure_a_command:"Veuillez configurer une commande",command_updated_successfully:"Commande mise à jour avec succès",error_message:"Erreur : {{error}}",failed_to_select_all_space_effects:"Impossible de sélectionner tous les effets d'espace",failed_to_select_all_ground_effects:"Impossible de sélectionner tous les effets de sol",space_preview_error:"Erreur de prévisualisation d'espace : {{error}}",ground_preview_error:"Erreur de prévisualisation de sol : {{error}}",space_alias_error:"Erreur d'alias d'espace : {{error}}",failed_to_generate_space_alias:"Impossible de générer l'alias d'espace",ground_alias_error:"Erreur d'alias de sol : {{error}}",failed_to_generate_ground_alias:"Impossible de générer l'alias de sol",no_profile_selected:"Aucun profil sélectionné",no_profile_found:"Aucun profil trouvé",switched_to_theme:"Passé à {{themeName}}",language_updated:"Langue mise à jour",auto_sync_failed:"Synchronisation automatique échouée : {{error}}",nothing_to_copy:"Rien à copier",content_copied_to_clipboard:"Contenu copié dans le presse-papiers",failed_to_generate_export:"Impossible de générer l'export",no_profile_selected_to_clone:"Aucun profil sélectionné pour cloner",no_profile_selected_to_rename:"Aucun profil sélectionné pour renommer",profile_name_is_required:"Le nom du profil est requis",profile_name_too_long:"Le nom du profil est trop long (max 50 caractères)",profile_name_already_exists:"Un profil avec ce nom existe déjà",failed_to_save_profile:"Impossible de sauvegarder le profil : {{error}}",no_profile_selected_to_delete:"Aucun profil sélectionné pour supprimer",no_keybinds_to_export:"Aucun raccourci à exporter",no_aliases_to_export:"Aucun alias à exporter",failed_to_reset_application:"Impossible de réinitialiser l'application : {{error}}",default_demo_data_loaded:"Données de démonstration par défaut chargées avec succès",failed_to_load_default_data:"Impossible de charger les données par défaut",failed_to_load_default_data_with_error:"Impossible de charger les données par défaut : {{error}}",failed_to_create_profile_from_template:"Impossible de créer le profil à partir du modèle",profile_exported:'Profil "{{profileName}}" exporté',failed_to_import_profile:"Impossible d'importer le profil : {{error}}",application_reset_successfully:"Application réinitialisée avec succès",clear_commands:"Effacer les commandes",command_info:"Commande : {{command}}\nType : {{type}}",commands_updated_successfully:"{{count}} commandes mises à jour avec succès",confirm_clear_commands:'Êtes-vous sûr de vouloir effacer toutes les commandes pour "{{keyName}}" ?',confirm_delete_alias:'Êtes-vous sûr de vouloir supprimer l\'alias "{{aliasName}}" ?',confirm_delete_key:'Êtes-vous sûr de vouloir supprimer la touche "{{keyName}}" et toutes ses commandes ?',confirm_delete_profile:'Êtes-vous sûr de vouloir supprimer le profil "{{profileName}}" ?\n\nCette action ne peut pas être annulée.',confirm_reset_application:"Êtes-vous sûr de vouloir réinitialiser l'application ?\n\nCela supprimera tous les profils, raccourcis et paramètres. Cette action ne peut pas être annulée.",delete_alias:"Supprimer l'alias",delete_key:"Supprimer la touche",failed_to_copy_to_clipboard:"Échec de la copie dans le presse-papiers",failed_to_import_aliases_generic:"Impossible d'importer les alias : {{error}}",failed_to_import_keybind_file:"Impossible d'importer le fichier de raccourcis : {{error}}",failed_to_import_keybind_file_generic:"Impossible d'importer le fichier de raccourcis : {{error}}",generated_vertigo_aliases:"{{count}} alias Vertigo généré{{plural}} ! Vérifiez la liste des alias.",keybinds_exported_successfully:"Raccourcis {{environment}} exportés avec succès",no_effects_selected:"Aucun effet sélectionné. Veuillez sélectionner au moins un effet pour générer des alias.",profile_created_from:'Profil "{{newName}}" créé à partir de "{{sourceProfile}}"',profile_created_from_current:'Profil "{{name}}" créé à partir du profil actuel "{{currentProfile}}"',profile_created_from_template_generic:'Profil "{{profileName}}" créé à partir du modèle',profile_imported_successfully:'Profil "{{profileName}}" importé avec succès',profile_renamed:'Profil renommé de "{{oldName}}" à "{{name}}"',sto_tools_keybind_manager_loaded_successfully:"STO Tools Keybind Manager chargé avec succès",switched_to_profile:"Passé au profil : {{name}} ({{environment}})",yes:"Oui",no:"Non",active:"Actif",inactive:"Inactif",active_state:"État Actif",no_aliases_available:"Aucun alias disponible",no_commands:"Aucune commande",profile_not_found:"Profil introuvable",click_add_command_to_start_building_your_command_chain:"Cliquez sur 'Ajouter une commande' pour commencer à construire votre chaîne de commandes pour",click_add_command_to_start_building_your_alias_chain:"Cliquez sur 'Ajouter une commande' pour commencer à construire votre chaîne d'alias pour",create_aliases_in_the_alias_manager_first:"Créez d'abord des alias dans le Gestionnaire d'alias",enter_sto_command:"Entrez la commande STO",enter_the_exact_sto_command_syntax:"Entrez la syntaxe exacte de la commande STO",enter_your_message:"Entrez votre message",maximum_100_characters:"Maximum 100 caractères",replaced_with_your_current_targets_name:"Remplacé par le nom de votre cible actuelle",this_alias_will_automatically_toggle_between_its_onoff_states_when_executed:"Cet alias basculera automatiquement entre ses états marche/arrêt lorsqu'il sera exécuté",select_an_alias:"Sélectionner un alias",select_targeting_command:"Sélectionner une commande de ciblage",select_combat_command:"Sélectionner une commande de combat",select_shield_command:"Sélectionner une commande de bouclier",select_movement_command:"Sélectionner une commande de mouvement",select_camera_command:"Sélectionner une commande de caméra",select_system_command:"Sélectionner une commande système",select_communication_type:"Sélectionner le type de communication",create_alias:"Créer un Alias",alias_commands:"Commandes d'Alias",available_aliases:"Alias Disponibles",common_commands:"Commandes Communes",sto_variables:"Variables STO",example:"Exemple",message:"Message",display_text:"Texte d'Affichage",descriptive_name_for_this_command:"Nom descriptif pour cette commande",filename:"Nom de fichier",position:"Position",distance:"Distance",amount:"Quantité",state:"État",command:"Commande",command_variant:"Variante de Commande",communication_type:"Type de Communication",combat_command:"Commande de Combat",movement_command:"Commande de Mouvement",camera_command:"Commande de Caméra",shield_command:"Commande de Bouclier",system_command:"Commande Système",targeting_command:"Commande de Ciblage",tray_number:"Numéro de Plateau",slot_number:"Numéro d'Emplacement",start_tray:"Plateau de Début",end_tray:"Plateau de Fin",start_slot:"Emplacement de Début",end_slot:"Emplacement de Fin",backup_tray:"Plateau de Sauvegarde",backup_slot:"Emplacement de Sauvegarde",backup_start_tray:"Plateau de Début de Sauvegarde",backup_end_tray:"Plateau de Fin de Sauvegarde",backup_start_slot:"Emplacement de Début de Sauvegarde",backup_end_slot:"Emplacement de Fin de Sauvegarde",backup_configuration:"Configuration de Sauvegarde",range_configuration:"Configuration de Plage",backup_range_configuration:"Configuration de Plage de Sauvegarde",single_tray_slot:"Emplacement de Plateau Unique",single_tray_with_backup:"Plateau Unique avec Sauvegarde",tray_range:"Plage de Plateau",tray_range_with_backup:"Plage de Plateau avec Sauvegarde",whole_tray:"Plateau Complet",whole_tray_with_backup:"Plateau Complet avec Sauvegarde",configure_command_options_to_see_preview:"Configurez les options de commande pour voir l'aperçu",key:"touche",no_profile:"Aucun profil",stotrayexecbytray_description:"STOTrayExecByTray (affiche la liaison de touche dans l'UI)",trayexecbytray_description:"TrayExecByTray (aucune indication d'UI)",parameter_configuration:"Configuration des paramètres",modifier_1:"Modificateur 1",modifier_2:"Modificateur 2",first_modifier:"Premier modificateur",second_modifier:"Deuxième modificateur",cosmetic_command:"Commande Cosmétique",select_cosmetic_command:"Sélectionnez une commande cosmétique",tray_command:"Commande de Plateau",vfx_aliases:"Alias VFX",create_command_aliases:"Créer des Alias de Commandes",on:"Activé",off:"Désactivé",delay_seconds:"Délai (secondes)",net_timing_graph:"Graphique de timing réseau",net_timing_graph_alpha:"Graphique de timing réseau alpha",net_timing_graph_paused:"Graphique de timing réseau en pause",netgraph:"Graphique réseau",delete_selected_key:"Supprimer la touche sélectionnée",duplicate_selected_key:"Dupliquer la touche sélectionnée",show_all_keys:"Afficher toutes les touches"},Y={sto_tools_keybind_manager:"STO Tools Keybind Manager",open:"Abrir",save:"Guardar",explorer:"Explorador",keybinds:"Atajos de teclado",import_keybinds:"Importar atajos de teclado",export_keybinds:"Exportar atajos de teclado",aliases:"Alias",import_aliases:"Importar alias",export_aliases:"Exportar alias",import:"Importar",import_menu:"Importar",backup:"Respaldo",backup_menu:"Respaldo",backup_application_state:"Respaldar estado de la aplicación",restore_application_state:"Restaurar estado de la aplicación",preferences:"Preferencias",language:"Idioma",sync_folder_label:"Carpeta de sincronización:",no_folder_selected:"Ninguna carpeta seleccionada",download:"Descargar",vfx:"VFX",dark_mode:"Modo oscuro",load_default_data:"Cargar datos predeterminados",reset_application:"Restablecer aplicación",set_sync_folder:"Establecer carpeta de sincronización",sync_now:"Sincronizar ahora",about:"Acerca de",new:"Nuevo",clone:"Clonar",rename:"Renombrar",delete:"Eliminar",space:"Espacio",ground:"Suelo",modified:"Modificado",valid:"Válido",keys:"teclas",keys_firstupper:"Teclas",key_singular:"tecla",all:"Todo",add_key:"Agregar tecla",copy:"Copiar",select_a_key_to_edit:"Selecciona una tecla para editar",commands:"comandos",command_singular:"comando",stabilize_execution_order:"Estabilizar orden de ejecución",validate:"Validar",clear:"Limpiar",no_key_selected:"Ninguna tecla seleccionada",select_a_key_from_the_left_panel_to_view_and_edit_its_command_chain:"Selecciona una tecla del panel izquierdo para ver y editar su cadena de comandos.",generated_command:"Comando generado:",select_a_key_to_see_the_generated_command:"Selecciona una tecla para ver el comando generado",add_command:"Agregar comando",from_template:"Desde plantilla",add_alias:"Agregar alias",copy_from_key:"Copiar desde tecla",command_library:"Biblioteca de comandos",add_new_key:"Agregar nueva tecla",key_name:"Nombre de la tecla:",use_standard_key_names_like_f1_ctrl_a_shift_space_etc:"Use nombres de teclas estándar como F1, Ctrl+A, Shift+Space, etc.",or_capture_keys:"O capturar teclas:",click_here_then_press_keys:"Haga clic aquí, luego presione la combinación de teclas",press_key_combination_now:"Presione la combinación de teclas ahora...",supports_single_modifier_plus_key_combinations:"Admite combinaciones de modificador único + tecla (ej. Ctrl+A, Alt+1, Shift+Space)",common_keys:"Teclas comunes:",ctrl:"Ctrl",alt:"Alt",shift:"Mayús",cancel:"Cancelar",command_type:"Tipo de comando:",select_command_type:"Seleccionar tipo de comando...",targeting:"Apuntado",combat:"Combate",tray_execution:"Ejecución de bandeja",shield_management:"Gestión de escudos",movement:"Movimiento",camera:"Cámara",communication:"Comunicación",system:"Sistema",alias:"Alias",custom_command:"Comando personalizado",select_a_command_type_to_see_preview:"Selecciona un tipo de comando para ver vista previa",profile:"Perfil",profile_name:"Nombre del perfil:",description_optional:"Descripción (opcional):",command_alias_manager:"Gestor de alias de comandos",new_alias:"Nuevo alias",edit_alias:"Editar alias",alias_name:"Nombre del alias:",use_alphanumeric_characters_only_no_spaces:"Use solo caracteres alfanuméricos, sin espacios",description:"Descripción:",target:"$Target",example_target_self_power_exec_science_team_team_healing_target:"Ejemplo: target_self $$ +power_exec Science_Team $$ team Healing [$Target]",use_in_communication_commands_to_include_target_name:"- Use en comandos de comunicación para incluir nombre del objetivo",preview:"Vista previa:",alias_myalias_command_sequence:'alias MiAlias "secuencia de comandos"',save_alias:"Guardar alias",select_key:"Seleccionar Tecla",select_key_dialog_title:"Seleccionar Tecla",select_key_dialog_description:"Elija de las teclas disponibles a continuación:",key_combination:"Combinación de Teclas:",capture_key:"Capturar Tecla",select_this_key:"Seleccionar Esta Tecla",select_modifier_key:"Seleccionar Modificador + Tecla",step_1_select_modifiers_optional:"Paso 1: Seleccionar Modificadores (Opcional)",step_2_select_key:"Paso 2: Seleccionar Tecla",common:"Común",letters:"Letras",numbers:"Números",function:"Función",arrows:"Flechas",symbols:"Símbolos",mouse:"Ratón",gamepad:"Gamepad",common_keys1:"Teclas comunes",find_other_keys:"Encontrar otras teclas...",vfx_manager:"Gestor VFX",select_visual_effects_to_disable_using_dynfxsetfxexlusionlist_aliases_effects_are_organized_by_environment:"Selecciona efectos visuales para desactivar usando alias dynFxSetFXExlusionList. Los efectos están organizados por entorno.",space_effects:"Efectos de espacio",select_all:"Seleccionar Todo",clear_all:"Limpiar Todo",selected:"seleccionado",ground_effects:"Efectos de suelo",generated_aliases:"Alias generados:",space_alias:"Alias de espacio:",no_space_effects_selected:"No hay efectos espaciales seleccionados",ground_alias:"Alias de suelo:",no_ground_effects_selected:"No hay efectos terrestres seleccionados",show_player_say:"Mostrar Decir del Jugador",generate_aliases:"Generar Alias",about_sto_tools_keybind_manager:"Acerca de STO Tools Keybind Manager",a_comprehensive_web_based_tool_for_creating_editing_and_managing_star_trek_online_keybind_configurations_with_visual_editing_and_advanced_features:"Una herramienta web integral para crear, editar y gestionar configuraciones de atajos de teclado de Star Trek Online con edición visual y características avanzadas.",features:"Características:",visual_keybind_editor:"Editor visual de atajos de teclado",sto_command_library_with_search_and_categorization:"Biblioteca de comandos STO con búsqueda y categorización",multiple_profile_management_create_clone_rename_delete:"Gestión de múltiples perfiles (crear, clonar, renombrar, eliminar)",custom_alias_system_for_complex_command_sequences:"Sistema de alias personalizado para secuencias de comandos complejas",vertigo_inspired_vfx_manager_for_visual_effects_control:"Gestor VFX inspirado en VERTIGO para control de efectos visuales",import_export_keybind_and_alias_files_and_project_backups:"Importar/exportar archivos de atajos y alias, y respaldos de proyecto",real_time_validation_and_command_preview:"Validación en tiempo real y vista previa de comandos",quick_start:"Inicio rápido:",create_a_new_profile_or_use_the_default_profile:"Crea un nuevo perfil o usa el perfil predeterminado",select_keys_from_the_grid_and_add_commands_from_the_library:"Selecciona teclas de la cuadrícula y agrega comandos desde la biblioteca",use_the_command_chain_editor_to_build_complex_sequences:"Usa el editor de cadenas de comandos para construir secuencias complejas",export_your_keybinds_as_txt_files_for_use_in_sto:"Exporta tus atajos como archivos .txt para usar en STO",resources:"Recursos:",copyright:"© 2025 STO Tools. Todos los derechos reservados.",got_it:"¡Entendido!",file_explorer:"Explorador de archivos",select_an_item_on_the_left_to_preview_export:"Selecciona un elemento a la izquierda para previsualizar exportación",close:"Cerrar",select_export_format:"Seleccionar formato de exportación",export_as:"Exportar como:",sto_keybind_file_txt:"Archivo de atajos STO (.txt)",json_profile_json:"Perfil JSON (.json)",complete_project_json:"Proyecto completo (.json)",csv_data_csv:"Datos CSV (.csv)",html_report_html:"Reporte HTML (.html)",alias_file_txt:"Archivo de alias (.txt)",environment:"Entorno:",export:"Exportar",filter_keys:"Filtrar teclas...",search_commands:"Buscar comandos...",e_g_f5_ctrl_a_shift_1:"ej. F5, Ctrl+A, Mayús+1",enter_profile_name:"Ingresa nombre del perfil",describe_this_keybind_profile:"Describe este perfil de atajos de teclado",myalias:"MiAlias",brief_description_of_what_this_alias_does:"Breve descripción de lo que hace este alias",enter_command_sequence_use_to_separate_commands:"Ingresa secuencia de comandos (usa $$ para separar comandos)",search_keys:"Buscar teclas...",open_project_json:"Abrir JSON del proyecto",save_project_json:"Guardar JSON del proyecto",keybind_operations:"Operaciones de atajos",alias_operations:"Operaciones de alias",settings:"Configuración",select_profile:"Seleccionar perfil",new_profile:"Nuevo perfil",clone_profile:"Clonar perfil",rename_profile:"Renombrar perfil",delete_profile:"Eliminar perfil",space_mode:"Modo espacio",ground_mode:"Modo suelo",unsaved_changes:"Cambios no guardados",validation_status:"Estado de validación",bound_keys:"Teclas vinculadas",toggle_between_grid_and_categorized_view:"Alternar entre vista de cuadrícula y categorizada",ensures_consistent_execution_order_by_mirroring_commands_phase_1_left_to_right_phase_2_right_to_left:"Asegura orden de ejecución consistente reflejando comandos (Fase 1: izquierda a derecha, Fase 2: derecha a izquierda)",validate_command_chain:"Validar cadena de comandos",clear_all_commands:"Limpiar todos los comandos",copy_to_clipboard:"Copiar al portapapeles",collapse_expand:"Contraer/Expandir",insert_target_variable:"Insertar variable $Target",sto_keybind_report:"Reporte de atajos STO",mode:"Modo:",generated:"Generado:",created_by:"Creado por:",statistics:"Estadísticas",keys_bound:"Teclas vinculadas:",total_commands:"Total de comandos:",aliases_defined:"Alias definidos:",no_keybinds_defined:"No hay atajos de teclado definidos.",command_aliases:"Alias de comandos",vfx_aliases:"Alias VFX",create_command_aliases:"Crear Alias de Comandos",select_bridge_officer_command:{name:"Seleccionar comando de oficial de puente",description:"Selecciona un comando de oficial de puente"},report_footer:"Este reporte fue generado por STO Tools Keybind Manager. Para más información sobre atajos de teclado de Star Trek Online, visita el Wiki de STO.",command_categories:{targeting:"Apuntado",combat:"Combate",cosmetic:"Cosmético",bridge_officer:"Oficial de Puente",tray:"Ejecución de Bandeja",power:"Gestión de Escudos",movement:"Movimiento",camera:"Cámara",communication:"Comunicación",system:"Sistema"},command_definitions:{target:{name:"Apuntar por nombre",description:"Apuntar entidad por nombre (requiere comillas)"},target_enemy_near:{name:"Apuntar enemigo más cercano",description:"Apuntar al enemigo más cercano visible"},target_friend_near:{name:"Apuntar aliado más cercano",description:"Apuntar a la entidad aliada más cercana"},target_self:{name:"Apuntarse a sí mismo",description:"Apuntar a tu propia nave/personaje"},target_clear:{name:"Limpiar objetivo",description:"Eliminar el bloqueo de objetivo actual"},target_teammate_1:{name:"Apuntar compañero 1",description:"Apuntar al primer miembro del equipo"},target_teammate_2:{name:"Apuntar compañero 2",description:"Apuntar al segundo miembro del equipo"},target_teammate_3:{name:"Apuntar compañero 3",description:"Apuntar al tercer miembro del equipo"},target_teammate_4:{name:"Apuntar compañero 4",description:"Apuntar al cuarto miembro del equipo"},fire_all:{name:"Disparar todas las armas",description:"Disparar todas las armas"},fire_phasers:{name:"Disparar armas de energía",description:"Disparar todas las armas de energía"},fire_torps:{name:"Disparar torpedos",description:"Disparar todos los torpedos"},fire_mines:{name:"Disparar minas",description:"Disparar todas las minas"},fire_phasers_torps:{name:"Disparar phasers y torpedos",description:"Disparar phasers y torpedos"},fire_projectiles:{name:"Disparar Proyectiles",description:"Disparar torpedos y minas"},setactivecostume:{name:"Establecer Disfraz Activo",description:"Establece el disfraz activo actual. Requiere dos modificadores."},custom_tray:{name:"Ejecución de bandeja",description:"Ejecutar ranura específica de bandeja"},tray_with_backup:{name:"Ejecución de bandeja con respaldo",description:"Ejecutar ranura específica de bandeja con habilidad de respaldo"},tray_range:{name:"Ejecución de rango de bandeja",description:"Ejecutar un rango de ranuras de bandeja"},tray_range_with_backup:{name:"Rango de bandeja con respaldo",description:"Ejecutar un rango de ranuras de bandeja con habilidades de respaldo"},whole_tray:{name:"Ejecución de bandeja completa",description:"Ejecutar todas las ranuras de una bandeja"},whole_tray_with_backup:{name:"Bandeja completa con respaldo",description:"Ejecutar todas las ranuras de una bandeja con bandeja de respaldo"},distribute_shields:{name:"Distribuir escudos",description:"Distribuye uniformemente los escudos como si hicieras clic en el medio del ícono de nave y escudos"},reroute_shields_rear:{name:"Redirigir escudos traseros",description:"Redirigir energía de escudos hacia atrás"},reroute_shields_left:{name:"Redirigir escudos izquierdos",description:"Redirigir energía de escudos hacia la izquierda"},reroute_shields_right:{name:"Redirigir escudos derechos",description:"Redirigir energía de escudos hacia la derecha"},reroute_shields_forward:{name:"Redirigir escudos delanteros",description:"Redirigir energía de escudos hacia adelante"},full_impulse:{name:"Impulso completo",description:"Activar motor de impulso completo"},reverse:{name:"Reversa",description:"Motores en reversa"},throttle_adjust:{name:"Ajustar acelerador",description:"Aumentar o disminuir el acelerador por cantidad"},throttle_set:{name:"Establecer acelerador",description:"Establecer el acelerador a una posición específica (negativo = reversa, 0 = parar)"},throttle_toggle:{name:"Alternar acelerador",description:"Alternar entre acelerador completo y parada completa"},turn_left:{name:"Girar izquierda",description:"Girar nave a la izquierda (continuo mientras se mantiene)"},turn_right:{name:"Girar derecha",description:"Girar nave a la derecha (continuo mientras se mantiene)"},pitch_up:{name:"Cabecear arriba",description:"Cabecear nariz de nave hacia arriba (cambio de altitud espacial)"},pitch_down:{name:"Cabecear abajo",description:"Cabecear nariz de nave hacia abajo (cambio de altitud espacial)"},strafe_left:{name:"Desplazamiento lateral izquierdo",description:"Desplazar nave lateralmente a la izquierda"},strafe_right:{name:"Desplazamiento lateral derecho",description:"Desplazar nave lateralmente a la derecha"},forward:{name:"Adelante",description:"Moverse adelante"},backward:{name:"Atrás",description:"Moverse atrás"},auto_forward:{name:"Avance automático",description:"El personaje se mueve adelante hasta que se den nuevos comandos de movimiento"},follow:{name:"Seguir objetivo",description:"Seguir a la entidad objetivo"},follow_cancel:{name:"Cancelar seguimiento",description:"Dejar de seguir y olvidar el objetivo"},zoom_in:{name:"Acercar zoom",description:"Acercar la cámara"},zoom_out:{name:"Alejar zoom",description:"Alejar la cámara"},zoom_in_small:{name:"Acercar zoom ligeramente",description:"Acercar la cámara ligeramente"},zoom_out_small:{name:"Alejar zoom ligeramente",description:"Alejar la cámara ligeramente"},cam_distance:{name:"Establecer distancia de cámara",description:"Establecer la distancia de la cámara del jugador"},cam_reset:{name:"Reiniciar cámara",description:"Reiniciar la posición de la cámara por defecto"},cam_target_lock:{name:"Bloquear cámara al objetivo",description:"Bloquear o desbloquear la cámara al objetivo"},cam_cycle_distance:{name:"Alternar distancia de cámara",description:"Alternar la distancia de la cámara entre varios valores preestablecidos"},cam_mouse_look:{name:"Vista de ratón",description:"Activar control de cámara con vista de ratón"},cam_turn_to_face:{name:"Girar hacia la cámara",description:"Girar nave para mirar hacia la dirección de la cámara"},look_up:{name:"Mirar arriba",description:"Cambiar punto de vista para mirar directamente arriba"},look_down:{name:"Mirar abajo",description:"Cambiar punto de vista para mirar directamente abajo"},team_message:{name:"Mensaje de equipo",description:"Enviar mensaje al equipo"},local_message:{name:"Mensaje local",description:"Enviar mensaje al área local"},zone_message:{name:"Mensaje de zona",description:"Enviar mensaje a la zona"},toggle_hud:{name:"Alternar HUD",description:"Alternar visibilidad del HUD"},screenshot:{name:"Captura de pantalla",description:"Tomar una captura de pantalla"},screenshot_jpg:{name:"Captura de pantalla JPG",description:"Guardar una captura de pantalla como JPG"},autofire_toggle:{name:"Alternar disparo automático",description:"Alternar disparo automático de armas"},bind_save_file:{name:"Guardar atajos a archivo",description:"Guardar todos tus atajos en un archivo de texto"},bind_load_file:{name:"Cargar atajos desde archivo",description:"Cargar un archivo de atajos en el cliente"},combat_log:{name:"Alternar registro de combate",description:"Activar/desactivar grabación del registro de combate (1=activado, 0=desactivado)"},missions:{name:"Mostrar/Ocultar misiones",description:"Mostrar/ocultar el diario de misiones"},inventory:{name:"Mostrar/Ocultar inventario",description:"Mostrar/ocultar tu inventario"},map:{name:"Mostrar/Ocultar mapa",description:"Mostrar/ocultar la ventana del mapa"},logout:{name:"Cerrar sesión",description:"Cerrar sesión del personaje actual."},quit:{name:"Salir del juego",description:"Cerrar la ventana."},ui_load:{name:"Cargar configuración de UI",description:"Carga el archivo de guardado predeterminado de ventanas de UI, generalmente Live\\ui_settings.txt"},ui_save:{name:"Guardar configuración de UI",description:"Guarda el diseño de UI en el archivo de guardado predeterminado de ventanas de UI, generalmente Live\\ui_settings.txt"},ui_load_file:{name:"Cargar archivo de configuración de UI",description:"Carga archivo de guardado de ventanas de UI con nombre"},ui_save_file:{name:"Guardar archivo de configuración de UI",description:"Guarda el diseño de UI en archivo de guardado de ventanas de UI con nombre"},ui_cancel:{name:"UI Cancelar",description:'Responde "Cancelar" a un cuadro de diálogo abierto; puede no funcionar en todos los diálogos.'},ui_ok:{name:"UI OK",description:'Responde "OK" a un cuadro de diálogo abierto; puede no funcionar en todos los diálogos.'},chat_log:{name:"Alternar registro de chat",description:"Activar/desactivar registro de chat. 1=activado, 0=desactivado, sin parámetro=imprimir estado. Anteponer ++ lo convierte en alternador"},remember_ui_lists:{name:"Recordar listas de UI",description:"Si se deben recordar la colocación y ancho de columnas de listas de UI."},ui_remember_positions:{name:"Recordar posiciones de UI",description:"Si se deben recordar tamaños y posiciones de UI. Activado por defecto."},safe_login:{name:"Inicio de sesión seguro",description:"Si es verdadero, entonces inicia sesión al jugador en su mapa estático más reciente en lugar de cualquier otra cosa."},goto_character_select:{name:"Ir a selección de personaje",description:"Ir a la pantalla de selección de personaje sin cerrar sesión."},ui_gen_layers_reset:{name:"Restablecer diseño de UI",description:"Restablece el diseño, usado cuando el servidor actualiza posiciones de ventanas movibles"},ui_resolution:{name:"Imprimir resolución de UI",description:"Imprime la resolución de pantalla de UI actual."},ui_tooltip_delay:{name:"Establecer retraso de tooltip",description:"Establece el retraso adicional, en segundos, antes de que aparezcan los tooltips"},show_game_ui:{name:"Mostrar UI del juego",description:"Mostrar la UI del juego"},show_game_ui_no_extra_keybinds:{name:"Mostrar UI del juego (sin keybinds extra)",description:"Este comando no agrega ningún keybind para mostrar la UI cuando el usuario presiona escape"},change_instance:{name:"Cambiar instancia",description:"Cambiar a una instancia ya creada del mismo mapa. Solo funciona cuando no está en alerta roja."},aim:{name:"Apuntar/Mira",description:"Activar/desactivar mira. En modo mira el jugador hace más daño. Puede usarse como alternador o presionar y mantener"},holster:{name:"Enfundar arma",description:"Intentar enfundar tu arma activa"},holster_toggle:{name:"Alternar enfundar arma",description:"Intentar enfundar o desenfundar tus armas"},unholster:{name:"Desenfundar arma",description:"Intentar desenfundar tu arma activa"},toggle_shooter_mode:{name:"Alternar modo tirador",description:"Activar/desactivar modo tirador"},shooter_primary:{name:"Tirador primario",description:"Acción primaria del modo tirador"},shooter_secondary:{name:"Tirador secundario",description:"Acción secundaria del modo tirador"},shooter_tertiary:{name:"Tirador terciario",description:"Acción terciaria del modo tirador"},shooter_clear_offset_tray_binds:{name:"Limpiar enlaces de bandeja de compensación del tirador",description:"Limpiar la ubicación inicial y movimiento de la caja de acción amarilla que aparece en la bandeja en modo tirador"},shooter_clear_overlay_tray_binds:{name:"Limpiar enlaces de bandeja superpuesta del tirador",description:"Limpiar enlaces de bandeja superpuesta para modo tirador"},shooter_set_offset_tray_binds:{name:"Establecer enlaces de bandeja de compensación del tirador",description:"Establecer la ubicación inicial y movimiento de la caja de acción amarilla que aparece en la bandeja en modo tirador"},shooter_set_overlay_tray_binds:{name:"Establecer enlaces de bandeja superpuesta del tirador",description:"Establecer enlaces de bandeja superpuesta para modo tirador"},setrallypoint:{name:"Establecer Punto de Encuentro",description:"Establece un punto de encuentro para tu objetivo actual"},setrallypointconsole:{name:"Establecer Punto de Encuentro (Consola)",description:"Establece un punto de encuentro para tu objetivo actual (variante consola)"},clearrallypoint:{name:"Borrar Punto de Encuentro",description:"Borra el punto de encuentro para tu objetivo actual"},clearallrallypoints:{name:"Borrar Todos los Puntos de Encuentro",description:"Borra todos los puntos de encuentro"},assist:{name:"Asistir",description:"Asistir '<name>': Asiste a la entidad con el nombre coincidente. Si no se da un nombre, asiste a tu objetivo actual."},net_timing_graph:{name:"Gráfico de Tiempo de Red",description:"Activar o desactivar el gráfico de tiempo de red (0=desactivar, 1=activar)"},net_timing_graph_alpha:{name:"Gráfico de Tiempo de Red Alpha",description:"Establecer nivel de transparencia para el gráfico de tiempo de red (50=mayor transparencia, 255=sin transparencia)"},net_timing_graph_paused:{name:"Gráfico de Tiempo de Red Pausado",description:"Pausar o reanudar el gráfico de tiempo de red (0=pausa desactivada, 1=pausa activada)"},netgraph:{name:"Gráfico de Red",description:"Mostrar datos de red SND y RCV como texto (1=activado, 0=desactivado)"},entity_name_optional:"Nombre de entidad (opcional)",entity_name_optional_placeholder:"Introduce el nombre de la entidad (opcional)",bridge_officer_command:{name:"Comando de Oficial de Puente",description:"Ejecuta una orden de oficial de puente"},select_bridge_officer_command:{name:"Seleccionar comando de oficial de puente",description:"Selecciona un comando de oficial de puente"}},category_descriptions:{targeting:"Selección y gestión de objetivos",combat:"Disparo de armas y acciones de combate",tray:"Ejecutar habilidades desde bandejas de acción",power:"Gestión de energía y distribución de escudos",movement:"Movimiento y navegación de nave",camera:"Control de cámara y gestión de vista",communication:"Chat y comunicación de equipo",system:"Comandos de UI y sistema"},no_aliases:"Sin alias",no_aliases_defined:"Sin alias definidos",create_alias_to_get_started:"Crea un alias para comenzar",create_aliases_hint:"Crea alias de comandos para simplificar secuencias de comandos complejas.",alias_deleted:'Alias "{{alias}}" eliminado',please_select_a_key_first:"Por favor selecciona una tecla primero",alias_added_to_key:'Alias "{{alias}}" agregado a {{key}}',no_active_profile:"Sin perfil activo",alias_exists:"Ya existe un alias con este nombre",alias_template_exists:'El alias "{{alias}}" ya existe',alias_created_from_template:'Alias "{{alias}}" creado desde plantilla',template_not_found:"Plantilla no encontrada",alias_not_found:"Alias no encontrado",alias_created:'Alias "{{alias}}" creado',alias_updated:'Alias "{{alias}}" actualizado',no_profile_selected_for_import:"Ningún perfil seleccionado para importar",no_keybinds_found_in_file:"No se encontraron atajos en el archivo",import_failed:"Importación falló: {{error}}",no_aliases_found_in_file:"No se encontraron alias en el archivo",failed_to_get_profile_for_import:"Falló al obtener perfil para importar",import_completed_keybinds:"Importación completada: {{count}} atajos",import_completed_keybinds_with_aliases:"Importación completada: {{keyCount}} atajos ({{aliasCount}} alias ignorados - usa Importar Alias)",import_completed_aliases:"Importación completada: {{count}} alias",no_profile_selected_to_export:"Ningún perfil seleccionado para exportar",keybind_file_exported:"Archivo de atajos exportado exitosamente",failed_to_export_keybind_file:"Falló al exportar archivo de atajos: {{error}}",profile_exported_json:"Perfil exportado como JSON",failed_to_export_profile:"Falló al exportar perfil: {{error}}",complete_project_exported:"Proyecto completo exportado",failed_to_export_project:"Falló al exportar proyecto: {{error}}",data_exported_csv:"Datos exportados como CSV",failed_to_export_csv:"Falló al exportar CSV: {{error}}",html_report_exported:"Reporte HTML exportado",failed_to_export_html_report:"Falló al exportar reporte HTML: {{error}}",no_command_to_copy:"Ningún comando para copiar",no_profiles_to_export:"Ningún perfil para exportar",exporting_profiles:"Exportando {{count}} perfiles...",aliases_exported_successfully:"Alias exportados exitosamente",failed_to_export_aliases:"Falló al exportar alias: {{error}}",sync_folder_set:"Carpeta de sincronización seleccionada",failed_to_set_sync_folder:"Falló al seleccionar carpeta de sincronización: {{error}}",no_sync_folder_selected:"Ninguna carpeta de sincronización seleccionada",project_synced_successfully:"Proyecto sincronizado exitosamente",permission_denied_to_folder:"Permiso denegado para escribir en la carpeta",failed_to_sync_project:"Falló al sincronizar proyecto: {{error}}",general:"General",synchronization:"Sincronización",appearance:"Apariencia",advanced:"Avanzado",general_settings:"Configuración general",synchronization_settings:"Configuración de sincronización",appearance_settings:"Configuración de apariencia",language_settings:"Configuración de idioma",advanced_settings:"Configuración avanzada",auto_save:"Guardado automático",auto_save_description:"Guardar automáticamente los cambios mientras trabajas",validation_mode:"Modo de validación",validation_mode_description:"Qué tan estrictamente validar comandos y atajos",strict:"Estricto",lenient:"Permisivo",disabled:"Deshabilitado",sync_folder_description:"Elige una carpeta para sincronizar automáticamente tus proyectos",auto_sync:"Sincronización automática",auto_sync_description:"Sincronizar automáticamente los cambios con la carpeta seleccionada",auto_sync_interval:"Intervalo de sincronización automática",auto_sync_interval_description:"Con qué frecuencia sincronizar automáticamente sus cambios",after_every_change:"Después de cada cambio",every_1_minute:"Cada minuto",every_2_minutes:"Cada 2 minutos",every_5_minutes:"Cada 5 minutos",auto_sync_completed:"Sincronización automática completada",selected_folder:"Carpeta seleccionada",theme:"Tema",theme_description:"Elige entre temas claro y oscuro",light_theme:"Claro",dark_theme:"Oscuro",compact_mode:"Modo compacto",compact_mode_description:"Usar un diseño de interfaz más compacto",interface_language:"Idioma de la interfaz",language_description:"Elige el idioma para la interfaz",debug_mode:"Modo de depuración",debug_mode_description:"Habilitar registro de depuración y herramientas de desarrollador",backup_interval:"Intervalo de respaldo",backup_interval_description:"Con qué frecuencia respaldar automáticamente tu trabajo",every_15_minutes:"Cada 15 minutos",every_30_minutes:"Cada 30 minutos",every_hour:"Cada hora",preferences_saved:"Preferencias guardadas exitosamente",failed_to_save_preferences:"Falló al guardar las preferencias",vfx_manager_description:"Selecciona efectos visuales para desactivar usando alias de dynFxSetFXExlusionList. Los efectos están organizados por entorno.",app_description:"Una herramienta integral basada en web para crear, editar y gestionar configuraciones de atajos de Star Trek Online con edición visual y características avanzadas.",csv_header:"Tecla,Comando,Tipo,Descripción,Posición",default_export_filename:"export.txt",select_a_space_ground_build_or_aliases_to_preview_export:"Selecciona una construcción de Espacio/Tierra o Alias para previsualizar la exportación.",alias_mode:"Modo de alias",alias_options:"Opciones de alias",create:"Crear",create_new_alias:"Crear nuevo alias",cycle_type:"Tipo de ciclo",filter_aliases:"Filtrar alias",select_an_alias_to_edit:"Selecciona un alias para editar",select_an_alias_to_see_the_generated_command:"Selecciona un alias para ver el comando generado",select_options:"Seleccionar opciones",toggle_type:"Tipo de alternancia",no_alias_selected:"Ningún alias seleccionado",select_alias_from_left_panel:"Selecciona un alias del panel izquierdo para ver y editar su cadena de comandos.",select_key_from_left_panel:"Selecciona una tecla del panel izquierdo para ver y editar su cadena de comandos.",validation_error:"Error de validación",failed_to_load_application:"No se pudo cargar la aplicación",profile_created:'Perfil "{{name}}" creado',failed_to_create_profile:"No se pudo crear el perfil",failed_to_clone_profile:"No se pudo clonar el perfil",cannot_delete_the_last_profile:"No se puede eliminar el último perfil",profile_deleted:'Perfil "{{profileName}}" eliminado',failed_to_delete_profile:"No se pudo eliminar el perfil",invalid_key_name:"Nombre de tecla inválido",key_added:'Tecla "{{keyName}}" agregada',key_already_exists:'La tecla "{{keyName}}" ya existe',key_deleted:'Tecla "{{keyName}}" eliminada',command_added_to_alias:"Comando agregado al alias",commands_added:"{{count}} comandos agregados",command_added:"Comando agregado",command_deleted_from_alias:"Comando eliminado del alias",command_deleted:"Comando eliminado",switched_to_mode:"Cambiado a modo {{mode}}",alias_already_exists:'El alias "{{name}}" ya existe',commands_cleared_for_key:"Comandos limpiados para {{keyName}}",project_loaded_successfully:"Proyecto cargado exitosamente",failed_to_load_project_file:"No se pudo cargar el archivo del proyecto",invalid_project_file:"Archivo de proyecto inválido",project_exported_successfully:"Proyecto exportado exitosamente",no_commands_to_duplicate:"No hay comandos para duplicar",key_duplicated:'Tecla "{{keyName}}" duplicada como "{{newKeyName}}"',template_system_coming_soon:"Sistema de plantillas próximamente",no_commands_to_validate:"No hay comandos para validar",command_chain_is_valid:"Cadena de comandos es válida",please_configure_a_command:"Por favor configura un comando",command_updated_successfully:"Comando actualizado exitosamente",error_message:"Error: {{error}}",failed_to_select_all_space_effects:"No se pudieron seleccionar todos los efectos de espacio",failed_to_select_all_ground_effects:"No se pudieron seleccionar todos los efectos de suelo",space_preview_error:"Error de vista previa de espacio: {{error}}",ground_preview_error:"Error de vista previa de suelo: {{error}}",space_alias_error:"Error de alias de espacio: {{error}}",failed_to_generate_space_alias:"No se pudo generar el alias de espacio",ground_alias_error:"Error de alias de suelo: {{error}}",failed_to_generate_ground_alias:"No se pudo generar el alias de suelo",no_profile_selected:"Ningún perfil seleccionado",no_profile_found:"No se encontró el perfil",switched_to_theme:"Cambiado a {{themeName}}",language_updated:"Idioma actualizado",auto_sync_failed:"Auto-sincronización falló: {{error}}",nothing_to_copy:"Nada que copiar",content_copied_to_clipboard:"Contenido copiado al portapapeles",failed_to_generate_export:"No se pudo generar la exportación",no_profile_selected_to_clone:"Ningún perfil seleccionado para clonar",no_profile_selected_to_rename:"Ningún perfil seleccionado para renombrar",profile_name_is_required:"El nombre del perfil es requerido",profile_name_too_long:"El nombre del perfil es muy largo (máx. 50 caracteres)",profile_name_already_exists:"Ya existe un perfil con este nombre",failed_to_save_profile:"No se pudo guardar el perfil: {{error}}",no_profile_selected_to_delete:"Ningún perfil seleccionado para eliminar",no_keybinds_to_export:"No hay atajos para exportar",no_aliases_to_export:"No hay alias para exportar",failed_to_reset_application:"No se pudo restablecer la aplicación: {{error}}",default_demo_data_loaded:"Datos de demostración predeterminados cargados exitosamente",failed_to_load_default_data:"No se pudieron cargar los datos predeterminados",failed_to_load_default_data_with_error:"No se pudieron cargar los datos predeterminados: {{error}}",failed_to_create_profile_from_template:"No se pudo crear el perfil desde la plantilla",profile_exported:'Perfil "{{profileName}}" exportado',failed_to_import_profile:"No se pudo importar el perfil: {{error}}",application_reset_successfully:"Aplicación restablecida exitosamente",clear_commands:"Limpiar comandos",command_info:"Comando: {{command}}\nTipo: {{type}}",commands_updated_successfully:"{{count}} comandos actualizados exitosamente",confirm_clear_commands:'¿Estás seguro de que quieres limpiar todos los comandos para "{{keyName}}"?',confirm_delete_alias:'¿Estás seguro de que quieres eliminar el alias "{{aliasName}}"?',confirm_delete_key:'¿Estás seguro de que quieres eliminar la tecla "{{keyName}}" y todos sus comandos?',confirm_delete_profile:'¿Estás seguro de que quieres eliminar el perfil "{{profileName}}"?\n\nEsta acción no se puede deshacer.',confirm_reset_application:"¿Estás seguro de que quieres restablecer la aplicación?\n\nEsto eliminará todos los perfiles, atajos y configuraciones. Esta acción no se puede deshacer.",delete_alias:"Eliminar alias",delete_key:"Eliminar tecla",failed_to_copy_to_clipboard:"Falló al copiar al portapapeles",failed_to_import_aliases_generic:"No se pudieron importar los alias: {{error}}",failed_to_import_keybind_file:"No se pudo importar el archivo de atajos: {{error}}",failed_to_import_keybind_file_generic:"No se pudo importar el archivo de atajos: {{error}}",generated_vertigo_aliases:"¡{{count}} alias de Vertigo generado{{plural}}! Revisa la lista de alias.",keybinds_exported_successfully:"Atajos de {{environment}} exportados exitosamente",no_effects_selected:"No hay efectos seleccionados. Por favor selecciona al menos un efecto para generar alias.",profile_created_from:'Perfil "{{newName}}" creado desde "{{sourceProfile}}"',profile_created_from_current:'Perfil "{{name}}" creado desde el perfil actual "{{currentProfile}}"',profile_created_from_template_generic:'Perfil "{{profileName}}" creado desde plantilla',profile_imported_successfully:'Perfil "{{profileName}}" importado exitosamente',profile_renamed:'Perfil renombrado de "{{oldName}}" a "{{name}}"',sto_tools_keybind_manager_loaded_successfully:"STO Tools Keybind Manager cargado exitosamente",switched_to_profile:"Cambiado al perfil: {{name}} ({{environment}})",yes:"Sí",no:"No",active:"Activo",inactive:"Inactivo",active_state:"Estado Activo",no_aliases_available:"No hay alias disponibles",no_commands:"No hay comandos",profile_not_found:"Perfil no encontrado",click_add_command_to_start_building_your_command_chain:"Haga clic en 'Agregar Comando' para comenzar a construir su cadena de comandos para",click_add_command_to_start_building_your_alias_chain:"Haga clic en 'Agregar Comando' para comenzar a construir su cadena de alias para",create_aliases_in_the_alias_manager_first:"Cree alias en el Administrador de Alias primero",enter_sto_command:"Ingrese comando STO",enter_the_exact_sto_command_syntax:"Ingrese la sintaxis exacta del comando STO",enter_your_message:"Ingrese su mensaje",maximum_100_characters:"Máximo 100 caracteres",replaced_with_your_current_targets_name:"Reemplazado con el nombre de su objetivo actual",this_alias_will_automatically_toggle_between_its_onoff_states_when_executed:"Este alias cambiará automáticamente entre sus estados encendido/apagado cuando se ejecute",select_an_alias:"Seleccionar un alias",select_targeting_command:"Seleccionar comando de objetivo",select_combat_command:"Seleccionar comando de combate",select_shield_command:"Seleccionar comando de escudo",select_movement_command:"Seleccionar comando de movimiento",select_camera_command:"Seleccionar comando de cámara",select_system_command:"Seleccionar comando de sistema",select_communication_type:"Seleccionar tipo de comunicación",create_alias:"Crear Alias",alias_commands:"Comandos de Alias",available_aliases:"Alias Disponibles",common_commands:"Comandos Comunes",sto_variables:"Variables STO",example:"Ejemplo",message:"Mensaje",display_text:"Texto de Visualización",descriptive_name_for_this_command:"Nombre descriptivo para este comando",filename:"Nombre de archivo",position:"Posición",distance:"Distancia",amount:"Cantidad",state:"Estado",command:"Comando",command_variant:"Variante de Comando",communication_type:"Tipo de Comunicación",combat_command:"Comando de Combate",movement_command:"Comando de Movimiento",camera_command:"Comando de Cámara",shield_command:"Comando de Escudo",system_command:"Comando de Sistema",targeting_command:"Comando de Objetivo",tray_number:"Número de Bandeja",slot_number:"Número de Ranura",start_tray:"Bandeja de Inicio",end_tray:"Bandeja Final",start_slot:"Ranura de Inicio",end_slot:"Ranura Final",backup_tray:"Bandeja de Respaldo",backup_slot:"Ranura de Respaldo",backup_start_tray:"Bandeja de Inicio de Respaldo",backup_end_tray:"Bandeja Final de Respaldo",backup_start_slot:"Ranura de Inicio de Respaldo",backup_end_slot:"Ranura Final de Respaldo",backup_configuration:"Configuración de Respaldo",range_configuration:"Configuración de Rango",backup_range_configuration:"Configuración de Rango de Respaldo",single_tray_slot:"Ranura de Bandeja Única",single_tray_with_backup:"Bandeja Única con Respaldo",tray_range:"Rango de Bandeja",tray_range_with_backup:"Rango de Bandeja con Respaldo",whole_tray:"Bandeja Completa",whole_tray_with_backup:"Bandeja Completa con Respaldo",configure_command_options_to_see_preview:"Configure las opciones del comando para ver la vista previa",key:"tecla",no_profile:"Sin perfil",stotrayexecbytray_description:"STOTrayExecByTray (muestra el enlace de tecla en la UI)",trayexecbytray_description:"TrayExecByTray (sin indicación de UI)",parameter_configuration:"Configuración de parámetros",modifier_1:"Modificador 1",modifier_2:"Modificador 2",first_modifier:"Primer modificador",second_modifier:"Segundo modificador",cosmetic_command:"Comando Cosmético",select_cosmetic_command:"Selecciona un comando cosmético",tray_command:"Comando de Bandeja",on:"Activado",off:"Desactivado",delay_seconds:"Retraso (segundos)",bridge_officer:"Oficial de Puente",net_graph:"Gráfico de Red",net_graph_command:"Comando de Gráfico de Red",select_net_graph_command:"Selecciona un comando de gráfico de red",net_timing_graph:"Gráfico de Tiempo de Red",net_timing_graph_alpha:"Gráfico de Tiempo de Red Alpha",net_timing_graph_paused:"Gráfico de Tiempo de Red Pausado",netgraph:"Gráfico de Red",enable_disable:"Activar/Desactivar",transparency_level:"Nivel de Transparencia",pause_state:"Estado de Pausa",delete_selected_key:"Eliminar tecla seleccionada",duplicate_selected_key:"Duplicar tecla seleccionada",show_all_keys:"Mostrar todas las teclas"};const Q=new Proxy({currentProfile:null,currentMode:"space",currentEnvironment:"space",selectedKey:null,isModified:!1,undoStack:[],redoStack:[],maxUndoSteps:50,commandIdCounter:0},{set:(e,t,a)=>(e[t]=a,i&&i.emit&&i.emit(`store:${t}`,a),!0)}),ee="directories";function te(){return new Promise((e,t)=>{const a=indexedDB.open("sto-sync-handles",1);a.onupgradeneeded=()=>{a.result.createObjectStore(ee)},a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)})}const ae="sync-folder";async function ie(e,t,a){const i=t.split("/"),n=i.pop();let o=e;for(const e of i)o=await o.getDirectoryHandle(e,{create:!0});const r=await o.getFileHandle(n,{create:!0}),s=await r.createWritable();await s.write(a),await s.close()}const ne={space:[{label:"Advanced inhibiting turret shield bubble",effect:"Fx_Rep_Temporal_Ship_Chroniton_Stabilization_Proc"},{label:"Approaching Agony",effect:"Cfx_Lockboxfx_Cb29_Ship_Agony_Field"},{label:"Attack Pattern Alpha",effect:"Fx_Ship_Tac_Attackpatternalpha"},{label:"Attack Pattern Beta",effect:"Fx_Ship_Tac_Attackpatternbeta"},{label:"Attack Pattern Delta",effect:"Fx_Ship_Tac_Attackpatterndelta"},{label:"Attack Pattern Omega",effect:"Fx_Ship_Tac_Attackpatternomega"},{label:"Beacon of Kahless",effect:"Fx_Er_Bbs_Beacon_Of_Kahless_Flash"},{label:"Boost Morale",effect:"Fx_Ship_Spec_Powers_Command_Boost_Morale_Bufffx,Cfx_Ship_Spec_Powers_Command_Boost_Morale_Activate"},{label:"Brace for Impact",effect:"Fx_Bop_Braceforimpact,Cfx_Ship_Sci_Hazardemitter_Buff"},{label:"Breath of the Dragon",effect:"Fx_Ship_Cp_T6_Hysperian_Dragonbreath"},{label:"Call Emergency Artillery",effect:"Fx_Ships_Boffs_Cmd_Callartillery_Activate,Fx_Ships_Boffs_Cmd_Callartillery_Explosion"},{label:"Competitive Engine Buff Effect",effect:"Fx_Ship_Mod_Haste_Buff_Gen"},{label:"Co-opt Energy Weapons",effect:"Fx_Capt_Powers_Ship_Sci_Coopt_Energy_Wep_Aoe,Cfx_Capt_Powers_Ship_Sci_Coopt_Energy_Wep_Area"},{label:"Concentrate Fire Power",effect:"Fx_Ships_Boff_Cmd_Confire_Activatefx,Cfx_Ships_Boff_Cmd_Confire_Mark"},{label:"Cnidarian Jellyfish AoE",effect:"Cfx_Ship_Sp_T6_Jellyfish_Cnidarian_Defense_Aoe"},{label:"Dark Matter Anomaly",effect:"Cfx_Ship_Console_Dark_Matter_Anamoly_Costumefx"},{label:"Delphic Tear",effect:"Fx_Ships_Consoles_Cb21_Delphictear"},{label:"Destabilising Resonance Beam",effect:"P_Er_Ship_Destabilizing_Resonance_Beam_Aoe_Particles"},{label:"Elachi Walker Combat Pet (3 effects)",effect:"Soundfx_Elachiwalker_Footstep_Pet,Fx_Er_Tfo_Elachi_Walker_Combat_Pet_Deathfx,Soundfx_Elachiwalker_Petsummon"},{label:"Electrified Anomalies Trait",effect:"Fx_Tp_Ship_T6_Risian_Science_Electrified_Anomalies_Arc_Foe,Fx_Tp_Ship_T6_Risian_Science_Electrified_Anomalies_Arc_Friend"},{label:"Emergency Pwr to Shields",effect:"Fx_Ship_Eng_Emergencypowershields"},{label:"Emergency Pwr to Wep",effect:"Fx_Ship_Eng_Emergencypowerweapons"},{label:"Engineering Fleet III",effect:"Fx_Ship_Boff_Fleet_Capt_Engineering_Teambuff"},{label:"Engineering Team",effect:"Cfx_Ship_Crewteam_Engineeringteam_Buff"},{label:"EPS Power Transfer",effect:"Cfx_Ship_Eng_Epspowertransfer_Target"},{label:"Focus Frenzy",effect:"Fx_Skilltree_Ship_Ffrenzy_Activatefx"},{label:"Go Down Fighting",effect:"Fx_Bop_Godownfighting"},{label:"Hangar Pet Rank Up",effect:"Fx_Ship_Levelup_Fighter_Rankup"},{label:"Hazard Emitters",effect:"Cfx_Ship_Sci_Hazardemitter_Buff"},{label:"Intel Fleet III",effect:"Fx_Ship_Boff_Fleet_Capt_Intel_Teambuff"},{label:"Intel Team (uses 3 effects)",effect:"Cfx_Ship_Cruiser_Auras_Taunt,Cfx_Spc_Boffpowers_Intel_Intelteam_Buff,Fx_Ships_Intel_Lyinginwait"},{label:"Kemocite on ship animation",effect:"C1_E_Ship_Xindi_Lockboxcb15_Kemocite_Weaponry_Bufffx"},{label:"Kemocite HitFX ring",effect:"Fx_Ship_Xindi_Lockboxcb15_Kemocite_Weaponry_Aoe_Proc"},{label:"Kentari Ferocity Weapons Glow",effect:"P_Trait_Powers_Ship_Lukari_Colony_Kentari_Ferocity_Weapons_Glow"},{label:"Kobayashi Maru powerup silenced",effect:"Fx_Evr_Kmaru_Ship_Dev_Resupply_Drop_Powerup_Bufffx,Fx_Evr_Kmaru_Ship_Dev_Resupply_Drop_Powerup"},{label:"Less Obvious Loot Drop Common",effect:"Cfx_Space_Loot_Drop_Common_Costumefx"},{label:"Less Obvious Loot Drop Uncommon",effect:"Cfx_Space_Loot_Drop_Uncommon_Costumefx"},{label:"Less Obvious Loot Drop Rare",effect:"Cfx_Space_Loot_Drop_Rare_Costumefx"},{label:"Less Obvious Loot Drop Very Rare",effect:"Cfx_Space_Loot_Drop_Veryrare_Costumefx"},{label:"Less Obvious Loot Drop Lock Box",effect:"Cfx_Space_Loot_Drop_Chancebox_Costumefx"},{label:"Less Obvious Loot Drop Dilithium",effect:"Cfx_Space_Loot_Drop_Dilithium_Costumefx"},{label:"Miraculous Repairs",effect:"Fx_Bop_Miracleworker"},{label:"MW - Align Shield Frequencies",effect:"Fx_Spc_Boffpowers_Miracleworker_Alignshieldfrequencies_Hitfx"},{label:"MW - Destabilize Warp Core",effect:"Fx_Spc_Boffpowers_Miracleworker_Destabilizewarpcore"},{label:"MW - Exceed rated limits",effect:"Fx_Spc_Boffpowers_Miracleworker_Energyweaponsexceedratedlimits_Dot_Hitfx,Fx_Spc_Boffpowers_Miracleworker_Energyweaponsexceedratedlimits"},{label:"MW - Fix em up (and other green glows)",effect:"Fx_Ship_Mod_Damage_Buff"},{label:"MW - Mixed Armaments Synergy",effect:"Fx_Spc_Boffpowers_Miracleworker_Mixedarmamentssynergy"},{label:"MW - Narrow Sensor Bands",effect:"Fx_Spc_Boffpowers_Miracleworker_Narrowsensorbands"},{label:"MW - Null Pointer Flood",effect:"Fx_Spc_Boffpowers_Miracleworker_Nullpointerflood"},{label:"MW - Reroute shilds to Hull containment",effect:"Fx_Spc_Boffpowers_Miracleworker_Rerouteshieldstohullcontainment,Cfx_Spc_Boffpowers_Miracleworker_Rerouteshieldstohullcontainment"},{label:"Nadion Inversion",effect:"Fx_Bop_Nadioinversion"},{label:"Nanoprobe Shield Generator (Dyson Rep)",effect:"Cfx_Rp_Dyson_Ship_Reactive_Shielding"},{label:"Neutronic Eddies",effect:"Cfx_Ships_Cp_T6_Risian_Science_Neutronic_Edides_Costumefx"},{label:"Overwhelm Emitters",effect:"Fx_Ships_Boff_Cmd_Owemitters_Activatefx"},{label:"Photonic Officer",effect:"Fx_Bop_Photonicofficer_activate"},{label:"PILOT - Clean Getaway",effect:"Fx_Spc_Boff_Pilot_Cleangetaway_Activate"},{label:"PILOT - Coolant Ignition (mostly)",effect:"Fx_Spc_Boff_Pilot_Coolantinjection_Ignite,Fx_Spc_Boff_Pilot_Coolantinjection_Costumefx"},{label:"PILOT - Deploy Countermeasures",effect:"Fx_Spc_Boff_Pilot_Deploycm"},{label:"PILOT - Fly her apart",effect:"Cfx_Spc_Boff_Pilot_Flyapart_Dot"},{label:"PILOT - Form Up (mostly)",effect:"Fx_Spc_Boff_Pilot_Formup_Teleport,Fx_Spc_Boff_Pilot_Formup_Buff_Wepbuff"},{label:"PILOT - hold Together",effect:"Cfx_Spc_Boff_Pilot_Holdtogether"},{label:"PILOT - Lambda",effect:"Fx_Ship_Mod_Damage_Buff,Fx_Spc_Boff_Pilot_Aplambda_Bufffx,Fx_Spc_Boff_Pilot_Aplambda"},{label:"PILOT - Lock Trajectory",effect:"Fx_Spc_Boff_Pilot_Flares_Switch,Cfx_Spc_Boff_Pilot_Locktrajectory"},{label:"PILOT - Pilot Team",effect:"Cfx_Spc_Boff_Pilot_Pilotteam_Buff"},{label:"PILOT - Reroute Reserves to Weapons",effect:"Fx_Spc_Boff_Pilot_Reroute_Wepbuff,Fx_Spc_Boff_Pilot_Reroute_Activate"},{label:"PILOT - Subspace Boom",effect:"Cfx_Spc_Boff_Pilot_Ssboom_Costumefx_Neverdie,Fx_Spc_Boff_Pilot_Ssboom_Boom"},{label:"Plasma Storm",effect:"Cfx_Ship_Cp_Cb27_Generate_Plasma_Storm_Costumefx"},{label:"Rally Point Marker",effect:"Cfx_Ships_Boff_Cmd_Rallypoint_Marker"},{label:"Reverse Shield Polarity",effect:"Cfx_Ship_Eng_Reverseshieldpolarity_Buff"},{label:"Scattering Field",effect:"Cfx_Ship_Sci_Dampeningfield_Aoe,Cfx_Ship_Sci_Dampeningfield_Shield_Buff"},{label:"Science Team",effect:"Cfx_Ship_Crewteam_Scienceteam_Buff"},{label:"Science Fleet III",effect:"Fx_Ship_Boff_Fleet_Capt_Science_Teambuff"},{label:"Soliton Wave Generator (uses 4 effects)",effect:"Cfx_Ship_Risa_Loot_Soliton_Wave_Suckfx_Target,Cfx_Ship_Risa_Loot_Soliton_Wave_Suckfx,Cfx_Ship_Risa_Loot_Soliton_Wave_Out,Cfx_Ship_Risa_Loot_Soliton_Wave_In"},{label:"Spore Infused Anomalies",effect:"Fx_Trait_Powers_Ship_T6_Somerville_Sia_Blast"},{label:"Subspace Vortex Teleport Effect",effect:"Fx_Ship_Xindi_Lockboxcb15_Subspace_Vortex_Teleport"},{label:"Suppression Barrage",effect:"Cfx_Ships_Boff_Cmd_Sbarrage_Buff"},{label:"Surgical Strikes",effect:"Fx_Spc_Boffpowers_Int_Sstrikes_Buff"},{label:"Tactical Fleet III",effect:"Fx_Ship_Boff_Fleet_Capt_Tactical_Teambuff"},{label:"Tactical Initiative",effect:"Fx_Bop_Tacticalinitiative"},{label:"Tactical Team",effect:"Cfx_Ship_Crewteam_Tacticalteam_Buff"},{label:"Target Rich Environment",effect:"Fx_Ship_Trait_Cb20_Targetrichenvironment"},{label:"Temporal Anchor",effect:"Cfx_Ship_Trait_Temporal_Anchor_Costumefx"},{label:"Temporal Vortex Probe",effect:"C1_Eventreward_Fcd_Temporal_Vortex_Costumefx,Fx_Eventreward_Fcd_Temporal_Vortex_Blast"},{label:"Timeline Collapse (5 effects!)",effect:"Cfx_Ship_Temp_Tcollapse_Costume,Fx_Ship_Temp_Tcollapse_Hitfx,Fx_Ship_Temp_Tcollapse_Explode,Fx_Ship_Temp_Tcollapse_Beamhitfx,Fx_Ship_Temp_Tcollapse"},{label:"V'Ger Torpedo (Volatile Digital Transformation)",effect:"Fx_Ship_Torpedo_Plasma_Vger_Anniv_Explode,Cfx_Ship_Torpedo_Vger_Disintegrate_In_Tintable"},{label:"Viral Impulse Burst",effect:"Fx_Spc_Boffpowers_int_Viralimpulse"},{label:"Vulcan Jelly Fish Eject Red Matter",effect:"Cfx_ship_jellyfish_eject_red_matter_costumefx"},{label:"Vulnerability Assessment Sweep",effect:"Fx_Capt_Powers_Ship_Tac_Vulnerability_Assessment_Sweep"}],ground:[{label:"Agony Field Generator",effect:"Fx_Ground_Lockboxfx_Cb29_Agony_Field_Generator"},{label:"Anti-time ground",effect:"Cfx_Rep_Temp_Char_Kit_Sci_Antitime_Entanglement_Field_Costumefx"},{label:"Ball Lightning",effect:"Cfx_Char_Kit_Univ_Sum_Ball_Lightning_Costumefx"},{label:"Chaos Blaze",effect:"Cfx_Char_Chaos_Blaze_Aoe"},{label:"Conussive Tachyon Emission",effect:"fx_Char_Delta_Rep_Cte_Aoe"},{label:"Disco Ball (Party Bomb)",effect:"Cfx_Char_Device_Partybomb"},{label:"Dot-7 Drone Support Field",effect:"Cfx_Er_Bbs_char_Dot7_Drone_support_Field"},{label:"Eng Proficiency (Character Glow)",effect:"Cfx_Ground_Kit_Eng_Engineeringproficiency"},{label:"Ever Watchful",effect:"Cfx_Ground_Kit_Tac_Overwatch_Bufffx,Fx_Ground_Kit_Tac_Overwatch_Activatefx"},{label:"Herald AP Beam Projector ground weapon",effect:"Fx_Char_Icoenergy_Rifle_Energyblast,Fx_Char_Icoenergy_Assault_Beam_Lockbox"},{label:"Lava Floor",effect:"Cfx_Char_Kit_Univ_Sum_The_Floor_Is_Lava_Costumefx,Cfx_Char_Kit_Univ_Sum_The_Floor_Is_Lava_Geyser"},{label:"Less Obvious Loot Drop Common",effect:"Cfx_Gnd_Loot_Drop_Common_Costumefx"},{label:"Less Obvious Loot Drop Uncommon",effect:"Cfx_Gnd_Loot_Drop_Uncommon_Costumefx"},{label:"Less Obvious Loot Drop Rare",effect:"Cfx_Gnd_Loot_Drop_Rare_Costumefx"},{label:"Less Obvious Loot Drop Very Rare",effect:"Cfx_Gnd_Loot_Drop_Veryrare_Costumefx"},{label:"Less Obvious Loot Drop Lock Box",effect:"Cfx_Gnd_Loot_Drop_Chancebox_Costumefx"},{label:"Less Obvious Loot Drop Dilithium",effect:"Cfx_Gnd_Loot_Drop_Dilithium_Costumefx"},{label:"Motivation (Tac Kit Module)",effect:"Cfx_Ground_Kit_Tac_Motivation_Buff,Fx_Ground_Kit_Tac_Motivation"},{label:"Orbital Devastation",effect:"Fx_Char_Voth_Orbitalstrike_Chasebeam"},{label:"Pahvan Crystal Prism noisy tether",effect:"Cfx_Er_Tfo_Pahvan_Crystal_Prism_Tether_Beam"},{label:"Rally Cry",effect:"Fx_Ground_Kit_Tac_Rallycry"},{label:"Red Riker Gun Sound effect",effect:"Cfx_Ep_Winterevent_Redriker_Sniper_Chargefx"},{label:"Scientific Aptitude (character glow)",effect:"Cfx_Ground_Kit_Sci_Scientificaptitude"},{label:"Solar Gateway",effect:"Fx_Char_Ico_Capt_Portal,Fx_Char_Ico_Capt_Portal_Sunbeam"},{label:"Smoke Grenade",effect:"Fx_Char_Grenade_smoke_costume,Fx_Char_Grenade_Smoke_Explode"},{label:"Sompek Energy Rebounder",effect:"Fx_Env_Gnd_Qadhos_Arena_Phaserhazard_Cylinder_Turret"},{label:"Strike Team III (character red glow)",effect:"Cfx_Ground_Kit_Tac_Striketeam"},{label:"Symphony of Lightning Char Glow",effect:"Fx_Er_Featured_Char_Kuumaarke_Wristgun_Tir_bufffx"},{label:"Symphony of Lightning Drone AoE",effect:"Cfx_Er_Featured_Char_Kuumaarke_Set_Symphony_Of_Lightning_Drone_Aoe"},{label:"Symphony of Lightning STRIKE",effect:"Fx_Er_Featured_Char_Kuumaarke_Set_Symphony_Of_Lightning_Strike"},{label:"Trajectory Bending",effect:"Cfx_Char_Xindi_Cb15_Tac_Kit_Trajectory_Bending"},{label:"Visual Dampening Field",effect:"Cfx_Char_Trait_Mirror_Vdfield"}]};class oe{constructor(){this.currentCategory="general",this.settings={},this.settingDefinitions=this.defineSettings()}init(){this.setupEventListeners(),this.loadSettings()}defineSettings(){return{syncFolderName:{type:"folder",default:null,category:"sync",element:"currentSyncFolder"},autoSync:{type:"boolean",default:!1,category:"sync",element:"autoSync"},autoSyncInterval:{type:"select",default:"change",options:["change","60","120","300"],category:"sync",element:"autoSyncInterval"}}}setupEventListeners(){document.querySelectorAll(".category-item").forEach(e=>{i.onDom(e,"click","category-select",e=>{const t=e.currentTarget.dataset.category;this.switchCategory(t)})}),i.onDom("savePreferencesBtn","click","save-preferences",()=>{this.saveAllSettings()});const e=document.getElementById("setSyncFolderBtn");e&&e.addEventListener("click",async()=>{if("undefined"!=typeof stoSync&&stoSync.setSyncFolder)try{const e=await stoSync.setSyncFolder();e&&e.name&&(this.loadSettings(),this.updateFolderUI())}catch(e){console.error("Failed to set sync folder:",e)}else console.warn("Sync functionality not available")}),this.setupSettingControls()}setupSettingControls(){Object.entries(this.settingDefinitions).forEach(([e,t])=>{const a=document.getElementById(t.element);if(a)switch(t.type){case"boolean":i.onDom(a,"change",`setting-${e}`,t=>{this.updateSetting(e,t.target.checked)});break;case"select":i.onDom(a,"change",`setting-${e}`,t=>{this.updateSetting(e,t.target.value)})}})}switchCategory(e){document.querySelectorAll(".category-item").forEach(e=>{e.classList.remove("active")}),document.querySelector(`[data-category="${e}"]`).classList.add("active"),document.querySelectorAll(".settings-panel").forEach(e=>{e.classList.remove("active")}),document.getElementById(`${e}-settings`).classList.add("active"),this.currentCategory=e}loadSettings(){if("undefined"==typeof stoStorage)return void console.warn("stoStorage not available yet, deferring settings load");const e=stoStorage.getSettings();Object.entries(this.settingDefinitions).forEach(([t,a])=>{const i=void 0!==e[t]?e[t]:a.default;this.settings[t]=i,this.updateUI(t,i)})}updateUI(e,t){const a=this.settingDefinitions[e];if(!a)return;const i=document.getElementById(a.element);if(i){switch(a.type){case"boolean":i.checked=!!t;break;case"select":i.value=t;break;case"folder":this.updateFolderUI(t)}"autoSync"===e&&"undefined"!=typeof app&&app.autoSyncManager&&(app.autoSyncManager.isEnabled=!!t)}}updateFolderUI(e){const t=document.getElementById("currentSyncFolder");if(t){const e="undefined"!=typeof stoStorage?stoStorage.getSettings():{},a=e.syncFolderName,i=e.syncFolderPath;a&&"null"!==a?(t.textContent=a,t.title=i&&i!==a?i:`Selected sync folder: ${a}`):(t.textContent=void 0!==H?H.t("no_folder_selected"):"No folder selected",t.title="")}}updateSetting(e,t){switch(this.settings[e]=t,e){case"autoSync":case"autoSyncInterval":"undefined"!=typeof app&&app.autoSyncManager&&app.autoSyncManager.updateAutoSync()}}saveAllSettings(){"undefined"!=typeof stoStorage?stoStorage.saveSettings(this.settings)?("undefined"!=typeof stoUI&&stoUI.showToast(H.t("preferences_saved"),"success"),Object.entries(this.settings).forEach(([e,t])=>{}),"undefined"!=typeof modalManager&&modalManager.hide("preferencesModal")):"undefined"!=typeof stoUI&&stoUI.showToast(H.t("failed_to_save_preferences"),"error"):console.error("stoStorage not available")}showPreferences(){this.loadSettings(),this.updateFolderUI(),"undefined"!=typeof modalManager&&modalManager.show("preferencesModal"),this.switchCategory("sync")}getSetting(e){return void 0!==this.settings[e]?this.settings[e]:this.settingDefinitions[e]?.default}addSetting(e,t){this.settingDefinitions[e]=t,this.settings[e]=t.default}removeSetting(e){delete this.settingDefinitions[e],delete this.settings[e]}populatePreferencesModal(){const e=document.getElementById("preferencesModal");e&&"function"==typeof window.applyTranslations&&window.applyTranslations(e),this.updateFolderUI()}}class re{constructor(){this.syncTimer=null,this.pendingChanges=!1,this.lastSyncTime=null,this.isEnabled=!1,this.interval="change"}init(){this.loadSettings(),this.setupEventListeners(),this.updateAutoSync()}loadSettings(){if("undefined"==typeof stoStorage)return void console.warn("stoStorage not available yet, deferring auto-sync setup");const e=stoStorage.getSettings();this.isEnabled=e.autoSync||!1,this.interval=e.autoSyncInterval||"change"}setupEventListeners(){i.on("profile-modified",()=>{this.onDataChange()}),i.on("keybind-modified",()=>{this.onDataChange()}),i.on("alias-modified",()=>{this.onDataChange()}),i.on("command-modified",()=>{this.onDataChange()}),i.on("project-saved",()=>{this.onManualSave()}),i.on("project-synced",()=>{this.onManualSave()})}onDataChange(){this.isEnabled&&(this.pendingChanges=!0,"change"===this.interval?this.performAutoSync():this.scheduleSync())}onManualSave(){this.pendingChanges=!1,this.clearSyncTimer()}scheduleSync(){if(this.syncTimer)return;const e=1e3*parseInt(this.interval);this.syncTimer=setTimeout(()=>{this.performAutoSync()},e)}clearSyncTimer(){this.syncTimer&&(clearTimeout(this.syncTimer),this.syncTimer=null)}async performAutoSync(){if(this.isEnabled&&this.pendingChanges)if("undefined"!=typeof stoSync)if(await stoSync.getSyncFolderHandle())try{this.updateModifiedIndicator("syncing"),await stoSync.syncProject(),this.pendingChanges=!1,this.lastSyncTime=new Date,this.updateModifiedIndicator("synced"),"change"!==this.interval&&"undefined"!=typeof stoUI&&stoUI.showToast(H.t("auto_sync_completed"),"success"),this.clearSyncTimer(),i.emit("auto-sync-completed",{timestamp:this.lastSyncTime})}catch(e){console.error("Auto-sync failed:",e),this.updateModifiedIndicator("error"),"change"!==this.interval&&"undefined"!=typeof stoUI&&stoUI.showToast(H.t("auto_sync_failed",{error:e.message}),"error")}else console.warn("No sync folder configured for auto-sync");else console.warn("Sync manager not available")}updateModifiedIndicator(e){const t=document.getElementById("modifiedIndicator");if(t)switch(t.classList.remove("syncing","synced","error"),e){case"syncing":t.style.display="inline",t.classList.add("syncing"),t.innerHTML='<i class="fas fa-sync fa-spin"></i> Syncing...';break;case"synced":t.style.display="inline",t.classList.add("synced"),t.innerHTML='<i class="fas fa-check"></i> Synced',setTimeout(()=>{t.classList.contains("synced")&&(t.style.display="none",t.classList.remove("synced"))},2e3);break;case"error":t.style.display="inline",t.classList.add("error"),t.innerHTML='<i class="fas fa-exclamation-triangle"></i> Sync Error',setTimeout(()=>{t.classList.contains("error")&&(t.style.display="none",t.classList.remove("error"))},5e3);break;default:t.style.display="none",t.innerHTML=""}}updateAutoSync(){this.loadSettings(),this.isEnabled?this.pendingChanges&&"change"!==this.interval&&this.scheduleSync():this.clearSyncTimer()}enable(){this.isEnabled=!0,this.updateAutoSync()}disable(){this.isEnabled=!1,this.clearSyncTimer()}setInterval(e){this.interval=e,this.clearSyncTimer(),this.isEnabled&&this.pendingChanges&&"change"!==e&&this.scheduleSync()}getStatus(){return{enabled:this.isEnabled,interval:this.interval,pendingChanges:this.pendingChanges,lastSyncTime:this.lastSyncTime,timerActive:!!this.syncTimer}}async forcSync(){this.pendingChanges=!0,await this.performAutoSync()}}const se={async loadData(){const e=stoStorage.getAllData();this.currentProfile=e.currentProfile;const t=e.profiles[this.currentProfile];this.currentEnvironment=t&&t.currentEnvironment||"space",e.profiles[this.currentProfile]||(this.currentProfile=Object.keys(e.profiles)[0],this.saveCurrentProfile())},saveProfile(){const e=this.getCurrentProfile();if(!e)return;this.saveCurrentBuild();const t=stoStorage.getProfile(this.currentProfile);if(!t)return;const a={...t,name:e.name,description:e.description||t.description,aliases:e.aliases||{},keybindMetadata:e.keybindMetadata||t.keybindMetadata,created:t.created,lastModified:(new Date).toISOString(),currentEnvironment:this.currentEnvironment};stoStorage.saveProfile(this.currentProfile,a)},saveData(){const e=stoStorage.getAllData();return e.currentProfile=this.currentProfile,e.lastModified=(new Date).toISOString(),!!stoStorage.saveAllData(e)&&(this.setModified(!1),!0)},saveCurrentProfile(){const e=stoStorage.getAllData();return e.currentProfile=this.currentProfile,stoStorage.saveAllData(e)},setModified(e=!0){this.isModified=e;const t=document.getElementById("modifiedIndicator");t&&(t.style.display=e?"inline":"none"),e&&i.emit("profile-modified")},getCurrentProfile(){const e=stoStorage.getProfile(this.currentProfile);return e?this.getCurrentBuild(e):null},getCurrentBuild(e){return e?(e.builds||(e.builds={space:{keys:{}},ground:{keys:{}}}),e.builds[this.currentEnvironment]||(e.builds[this.currentEnvironment]={keys:{}}),e.builds[this.currentEnvironment].keys||(e.builds[this.currentEnvironment].keys={}),{...e,keys:e.builds[this.currentEnvironment].keys,aliases:e.aliases||{}}):null},switchProfile(e){if(e!==this.currentProfile){this.currentProfile=e,this.selectedKey=null;const t=stoStorage.getProfile(e);t&&(this.currentEnvironment=t.currentEnvironment||"space"),this.saveCurrentProfile(),this.renderKeyGrid(),this.renderCommandChain(),this.updateProfileInfo();const a=this.getCurrentProfile();stoUI.showToast(i18next.t("switched_to_profile",{name:a.name,environment:this.currentEnvironment}),"success")}},createProfile(e,t="",a="space"){const i=this.generateProfileId(e),n={name:e,description:t,currentEnvironment:a,builds:{space:{keys:{}},ground:{keys:{}}},aliases:{},created:(new Date).toISOString(),lastModified:(new Date).toISOString()};return stoStorage.saveProfile(i,n)?(this.switchProfile(i),this.renderProfiles(),stoUI.showToast(i18next.t("profile_created",{name:e}),"success"),i):(stoUI.showToast(i18next.t("failed_to_create_profile"),"error"),null)},cloneProfile(e,t){const a=stoStorage.getProfile(e);if(!a)return null;const i=this.generateProfileId(t),n={...JSON.parse(JSON.stringify(a)),name:t,description:`Copy of ${a.name}`,created:(new Date).toISOString(),lastModified:(new Date).toISOString()};return stoStorage.saveProfile(i,n)?(this.renderProfiles(),stoUI.showToast(i18next.t("profile_created_from",{newName:t,sourceProfile:a.name}),"success"),i):(stoUI.showToast(i18next.t("failed_to_clone_profile"),"error"),null)},deleteProfile(e){const t=stoStorage.getProfile(e);if(!t)return!1;const a=stoStorage.getAllData();if(Object.keys(a.profiles).length<=1)return stoUI.showToast(i18next.t("cannot_delete_the_last_profile"),"warning"),!1;if(stoStorage.deleteProfile(e)){if(this.currentProfile===e){const e=Object.keys(stoStorage.getAllData().profiles);this.switchProfile(e[0])}return this.renderProfiles(),stoUI.showToast(i18next.t("profile_deleted",{profileName:t.name}),"success"),!0}return stoUI.showToast(i18next.t("failed_to_delete_profile"),"error"),!1},generateProfileId(e){const t=e.toLowerCase().replace(/[^a-z0-9]/g,"_");let a=t,i=1;const n=stoStorage.getAllData();for(;n.profiles[a];)a=`${t}_${i}`,i++;return a}},ce={selectKey(e){this.selectedKey=e;const t=this.getCurrentProfile(),a=document.getElementById("stabilizeExecutionOrder");if(a&&t&&t.keybindMetadata){let i=!1;if(t.keybindMetadata[this.currentEnvironment]){const a=t.keybindMetadata[this.currentEnvironment];i=!(!a[e]||!a[e].stabilizeExecutionOrder)}a.checked=i}else a&&(a.checked=!1);this.renderKeyGrid(),this.renderCommandChain(),this.updateChainActions()},addKey(e){if(!this.isValidKeyName(e))return stoUI.showToast(i18next.t("invalid_key_name"),"error"),!1;const t=stoStorage.getProfile(this.currentProfile);return t?(t.builds||(t.builds={space:{keys:{}},ground:{keys:{}}}),t.builds[this.currentEnvironment]||(t.builds[this.currentEnvironment]={keys:{}}),t.builds[this.currentEnvironment].keys[e]?(stoUI.showToast(i18next.t("key_already_exists",{keyName:e}),"warning"),!1):(t.builds[this.currentEnvironment].keys[e]=[],stoStorage.saveProfile(this.currentProfile,t),this.renderKeyGrid(),this.selectKey(e),this.setModified(!0),stoUI.showToast(i18next.t("key_added",{keyName:e}),"success"),!0)):(stoUI.showToast(i18next.t("no_profile_selected"),"error"),!1)},deleteKey(e){const t=stoStorage.getProfile(this.currentProfile);return t?!!(t.builds&&t.builds[this.currentEnvironment]&&t.builds[this.currentEnvironment].keys&&t.builds[this.currentEnvironment].keys[e])&&(delete t.builds[this.currentEnvironment].keys[e],stoStorage.saveProfile(this.currentProfile,t),this.selectedKey===e&&(this.selectedKey=null),this.renderKeyGrid(),this.renderCommandChain(),this.setModified(!0),stoUI.showToast(i18next.t("key_deleted",{keyName:e}),"success"),!0):(stoUI.showToast(i18next.t("no_profile_selected"),"error"),!1)},isValidKeyName:e=>STO_DATA.validation.keyNamePattern.test(e)&&e.length<=20,addCommand(e,t){if("alias"===this.currentEnvironment){const a=this.getCurrentProfile();a.aliases||(a.aliases={}),a.aliases[e]||(a.aliases[e]={description:"",commands:""});const i=a.aliases[e].commands,n=Array.isArray(t)?t.map(e=>e.command).join(" $$ "):t.command;a.aliases[e].commands=i?i+" $$ "+n:n,stoStorage.saveProfile(this.currentProfile,a),stoUI.showToast(i18next.t("command_added_to_alias"),"success")}else{const a=stoStorage.getProfile(this.currentProfile);if(!a)return void stoUI.showToast(i18next.t("no_profile_selected"),"error");a.builds||(a.builds={space:{keys:{}},ground:{keys:{}}}),a.builds[this.currentEnvironment]||(a.builds[this.currentEnvironment]={keys:{}}),a.builds[this.currentEnvironment].keys[e]||(a.builds[this.currentEnvironment].keys[e]=[]),Array.isArray(t)?(t.forEach(t=>{t.id||(t.id=this.generateCommandId()),a.builds[this.currentEnvironment].keys[e].push(t)}),stoUI.showToast(i18next.t("commands_added",{count:t.length}),"success")):(t.id||(t.id=this.generateCommandId()),a.builds[this.currentEnvironment].keys[e].push(t),stoUI.showToast(i18next.t("command_added"),"success")),stoStorage.saveProfile(this.currentProfile,a)}this.renderCommandChain(),"alias"===this.currentEnvironment?this.renderAliasGrid():this.renderKeyGrid(),this.setModified(!0),i.emit("command-modified",{keyName:e,command:t,action:"add"})},deleteCommand(e,t){if("alias"===this.currentEnvironment){const a=this.getCurrentProfile(),n=a.aliases&&a.aliases[e];if(n&&n.commands){const o=n.commands.split("$$").map(e=>e.trim());if(t>=0&&t<o.length){const n=o[t];o.splice(t,1),a.aliases[e].commands=o.join(" $$ "),stoStorage.saveProfile(this.currentProfile,a),this.renderCommandChain(),this.renderAliasGrid(),this.setModified(!0),stoUI.showToast(i18next.t("command_deleted_from_alias"),"success"),i.emit("command-modified",{keyName:e,command:{command:n},action:"delete"})}}}else{const a=stoStorage.getProfile(this.currentProfile);if(!a)return void stoUI.showToast(i18next.t("no_profile_selected"),"error");if(a.builds&&a.builds[this.currentEnvironment]&&a.builds[this.currentEnvironment].keys&&a.builds[this.currentEnvironment].keys[e]&&a.builds[this.currentEnvironment].keys[e][t]){const n=a.builds[this.currentEnvironment].keys[e][t];a.builds[this.currentEnvironment].keys[e].splice(t,1),stoStorage.saveProfile(this.currentProfile,a),this.renderCommandChain(),this.renderKeyGrid(),this.setModified(!0),stoUI.showToast(i18next.t("command_deleted"),"success"),i.emit("command-modified",{keyName:e,command:n,action:"delete"})}}},moveCommand(e,t,a){if("alias"===this.currentEnvironment){const n=this.getCurrentProfile(),o=n.aliases&&n.aliases[e];if(o&&o.commands){const r=o.commands.split("$$").map(e=>e.trim());if(t>=0&&t<r.length&&a>=0&&a<r.length){const[o]=r.splice(t,1);r.splice(a,0,o),n.aliases[e].commands=r.join(" $$ "),stoStorage.saveProfile(this.currentProfile,n),this.renderCommandChain(),this.setModified(!0),i.emit("command-modified",{keyName:e,command:{command:o},action:"move",fromIndex:t,toIndex:a})}}}else{const n=stoStorage.getProfile(this.currentProfile);if(!n)return void stoUI.showToast(i18next.t("no_profile_selected"),"error");const o=n.builds&&n.builds[this.currentEnvironment]&&n.builds[this.currentEnvironment].keys&&n.builds[this.currentEnvironment].keys[e];if(o&&t>=0&&t<o.length&&a>=0&&a<o.length){const[r]=o.splice(t,1);o.splice(a,0,r),stoStorage.saveProfile(this.currentProfile,n),this.renderCommandChain(),this.setModified(!0),i.emit("command-modified",{keyName:e,command:r,action:"move",fromIndex:t,toIndex:a})}}},generateCommandId:()=>"cmd_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)},le={renderProfiles(){const e=document.getElementById("profileSelect");if(!e)return;const t=stoStorage.getAllData();if(e.innerHTML="",0===Object.keys(t.profiles).length){const t=document.createElement("option");t.value="",t.textContent="No profiles available",t.disabled=!0,e.appendChild(t)}else Object.entries(t.profiles).forEach(([t,a])=>{const i=document.createElement("option");i.value=t,i.textContent=a.name,t===this.currentProfile&&(i.selected=!0),e.appendChild(i)});this.updateProfileInfo()},updateProfileInfo(){const e=this.getCurrentProfile();document.querySelectorAll(".mode-btn").forEach(t=>{t.classList.toggle("active",e&&t.dataset.mode===this.currentEnvironment),t.disabled=!this.currentProfile});const t=document.getElementById("keyCount");if(t)if(e){const a=Object.keys(e.keys).length,i=1===a?i18next.t("key"):i18next.t("keys");t.textContent=`${a} ${i}`}else t.textContent=i18next.t("no_profile")},renderKeyGrid(){const e=document.getElementById("keyGrid");if(!e)return;const t=this.getCurrentProfile();if(!t)return;if(e.innerHTML="",!t)return void(e.innerHTML='\n                <div class="empty-state">\n                    <i class="fas fa-folder-open"></i>\n                    <h4>No Profile Selected</h4>\n                    <p>Create a new profile or load default data to get started.</p>\n                </div>\n            ');const a=Object.keys(t.keys),i={};a.forEach(e=>{const a=t.keys[e];a&&a.length>0&&(i[e]=a)});const n=[...new Set([...a,...Object.keys(i)])],o=localStorage.getItem("keyViewMode")||"key-types";"key-types"===o?this.renderKeyTypeView(e,t,n):"grid"===o?this.renderSimpleGridView(e,n):this.renderCommandCategoryView(e,i,n)},renderSimpleGridView(e,t){e.classList.remove("categorized"),t.sort(this.compareKeys.bind(this)).forEach(t=>{const a=this.createKeyElement(t);e.appendChild(a)})},renderCommandCategoryView(e,t,a){e.classList.add("categorized");const i=this.categorizeKeys(t,a);Object.entries(i).sort(([e,t],[a,i])=>t.priority!==i.priority?t.priority-i.priority:t.name.localeCompare(i.name)).forEach(([t,a])=>{const i=this.createKeyCategoryElement(t,a);e.appendChild(i)})},categorizeKeys(e,t){const a={};return a.unknown={name:"Unknown",icon:"fas fa-question-circle",keys:new Set,priority:0},Object.entries(STO_DATA.commands).forEach(([e,t])=>{a[e]={name:t.name,icon:t.icon,keys:new Set,priority:1}}),t.forEach(t=>{const i=e[t]||[];if(!i||0===i.length)return void a.unknown.keys.add(t);const n=new Set;i.forEach(e=>{if(e.type&&a[e.type])n.add(e.type);else if(window.stoCommands){const t=window.stoCommands.detectCommandType(e.command);a[t]&&n.add(t)}}),n.size>0?n.forEach(e=>{a[e].keys.add(t)}):(a.custom||(a.custom={name:"Custom Commands",icon:"fas fa-cog",keys:new Set,priority:2}),a.custom.keys.add(t))}),Object.values(a).forEach(e=>{e.keys=Array.from(e.keys).sort(this.compareKeys.bind(this))}),a},createKeyCategoryElement(e,t,a="command"){const i=document.createElement("div");i.className="category",i.dataset.category=e;const n="key-type"===a?`keyTypeCategory_${e}_collapsed`:`keyCategory_${e}_collapsed`,o="true"===localStorage.getItem(n);return i.innerHTML=`\n            <h4 class="${o?"collapsed":""}" data-category="${e}" data-mode="${a}">\n                <i class="fas fa-chevron-right category-chevron"></i>\n                <i class="${t.icon}"></i>\n                ${t.name}\n                <span class="key-count">(${t.keys.length})</span>\n            </h4>\n            <div class="category-commands ${o?"collapsed":""}">\n                ${t.keys.map(e=>this.createKeyElementHTML(e)).join("")}\n            </div>\n        `,i.querySelector("h4").addEventListener("click",()=>{this.toggleKeyCategory(e,i,a)}),i.querySelectorAll(".command-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.key;this.selectKey(t)})}),i},createKeyElementHTML(e){const t=this.getCurrentProfile().keys[e]||[],a=this.selectedKey===e,i=e.length;let n;return n=i<=6?"short":i<=12?"medium":"long",`\n            <div class="command-item ${a?"active":""}" data-key="${e}" data-length="${n}">\n                <span class="key-label">${e}</span>\n                ${t.length>0?`\n                    <span class="command-count-badge">${t.length}</span>\n                `:""}\n            </div>\n        `},toggleKeyCategory(e,t,a="command"){const i=t.querySelector("h4"),n=t.querySelector(".category-commands"),o=i.querySelector(".category-chevron"),r="key-type"===a?`keyTypeCategory_${e}_collapsed`:`keyCategory_${e}_collapsed`;n.classList.contains("collapsed")?(n.classList.remove("collapsed"),i.classList.remove("collapsed"),o.style.transform="rotate(90deg)",localStorage.setItem(r,"false")):(n.classList.add("collapsed"),i.classList.add("collapsed"),o.style.transform="rotate(0deg)",localStorage.setItem(r,"true"))},formatKeyName:e=>e.includes("+")?e.replace(/\+/g,"<br>+<br>"):e.includes("_")?e.replace(/_/g,"<br>_<br>"):e,detectKeyTypes(e){const t=[];e.includes("+")&&e.split("+").some(e=>e.match(/^(Ctrl|Control|Alt|Shift|Win|Cmd|Super)$/i))&&t.push("modifiers");const a=e.split("+").pop();return a.match(/^F\d+$/)?t.push("function"):a.match(/^(Lbutton|Rbutton|Mbutton|Leftdrag|Rightdrag|Middledrag|Leftclick|Rightclick|Middleclick|Leftdoubleclick|Rightdoubleclick|Middledoubleclick|Wheelplus|Wheelminus|Mousechord|Mouse|Wheel|LMouse|RMouse|MMouse|XMouse|Drag)/i)?t.push("mouse"):a.match(/^(Numpad|Keypad)/i)?t.push("numberpad"):a.match(/^(Ctrl|Control|Alt|Shift|Win|Cmd|Super)$/i)?t.includes("modifiers")||t.push("modifiers"):a.match(/^(Up|Down|Left|Right|Home|End|PageUp|PageDown|Insert|Delete)$/i)?t.push("navigation"):a.match(/^(Space|Tab|Enter|Return|Escape|Esc|Backspace|CapsLock|ScrollLock|NumLock|PrintScreen|Pause|Break)$/i)?t.push("system"):a.match(/^[0-9]$/)||a.match(/^[A-Za-z]$/)?t.push("alphanumeric"):a.match(/^[`~!@#$%^&*()_+\-=\[\]{}\\|;':",./<>?]$/)||a.match(/^(Comma|Period|Semicolon|Quote|Slash|Backslash|Minus|Plus|Equals|Bracket|Grave|Tilde)$/i)?t.push("symbols"):t.push("other"),t.length>0?t:["other"]},categorizeKeysByType(e,t){const a={function:{name:"Function Keys",icon:"fas fa-keyboard",keys:new Set,priority:1},alphanumeric:{name:"Letters & Numbers",icon:"fas fa-font",keys:new Set,priority:2},numberpad:{name:"Numberpad",icon:"fas fa-calculator",keys:new Set,priority:3},modifiers:{name:"Modifier Keys",icon:"fas fa-hand-paper",keys:new Set,priority:4},navigation:{name:"Navigation",icon:"fas fa-arrows-alt",keys:new Set,priority:5},system:{name:"System Keys",icon:"fas fa-cogs",keys:new Set,priority:6},mouse:{name:"Mouse & Wheel",icon:"fas fa-mouse",keys:new Set,priority:7},symbols:{name:"Symbols & Punctuation",icon:"fas fa-at",keys:new Set,priority:8},other:{name:"Other Keys",icon:"fas fa-question-circle",keys:new Set,priority:9}};return t.forEach(e=>{this.detectKeyTypes(e).forEach(t=>{a[t]?a[t].keys.add(e):a.other.keys.add(e)})}),Object.values(a).forEach(e=>{e.keys=Array.from(e.keys).sort(this.compareKeys.bind(this))}),a},renderKeyTypeView(e,t,a){e.classList.add("categorized");const i=this.categorizeKeysByType(t.keys,a);Object.entries(i).sort(([e,t],[a,i])=>t.priority-i.priority).forEach(([t,a])=>{const i=this.createKeyCategoryElement(t,a,"key-type");e.appendChild(i)})},compareKeys(e,t){const a=e=>"Space"===e?0:e.match(/^[0-9]$/)?1:e.match(/^F[0-9]+$/)?2:e.includes("Ctrl+")?3:e.includes("Alt+")?4:e.includes("Shift+")?5:6,i=a(e),n=a(t);return i!==n?i-n:e.localeCompare(t)},createKeyElement(e){const t=this.getCurrentProfile().keys[e]||[],a=e===this.selectedKey,i=document.createElement("div");i.className="key-item "+(a?"active":""),i.dataset.key=e,i.title=`${e}: ${t.length} command${1!==t.length?"s":""}`;const n=this.formatKeyName(e);let o;if(n.includes("<br>")){const t=e.split(/[+_]/),a=Math.max(...t.map(e=>e.length));o=a<=4?"short":a<=8?"medium":"long"}else{const t=e.length;o=t<=3?"short":t<=5?"medium":t<=8?"long":"extra-long"}return i.dataset.length=o,i.innerHTML=`\n            <div class="key-label">${n}</div>\n            ${t.length>0?`\n                <div class="activity-bar" style="width: ${Math.min(15*t.length,100)}%"></div>\n                <div class="command-count-badge">${t.length}</div>\n            `:""}\n        `,i.addEventListener("click",()=>{this.selectKey(e)}),i}},de={showParameterModal(e,t,a){this.currentParameterCommand={categoryId:e,commandId:t,commandDef:a},document.getElementById("parameterModal")||this.createParameterModal();const i=document.getElementById("parameterModal");i&&i.setAttribute("data-command-def",JSON.stringify(a)),this.populateParameterModal(a),modalManager.show("parameterModal")},createParameterModal(){const e=document.createElement("div");e.className="modal",e.id="parameterModal",e.innerHTML='\n              <div class="modal-content">\n                  <div class="modal-header">\n                      <h3 id="parameterModalTitle">Configure Command Parameters</h3>\n                      <button class="modal-close" data-modal="parameterModal">\n                          <i class="fas fa-times"></i>\n                      </button>\n                  </div>\n                  <div class="modal-body">\n                      <div id="parameterInputs">\n                          \x3c!-- Parameter inputs will be populated here --\x3e\n                      </div>\n                      <div class="command-preview-modal">\n                          <label>Generated Command:</label>\n                          <div class="command-preview" id="parameterCommandPreview">\n                              \x3c!-- Command preview will be shown here --\x3e\n                          </div>\n                      </div>\n                  </div>\n                  <div class="modal-footer">\n                      <button class="btn btn-primary" id="saveParameterCommandBtn">Add Command</button>\n                      <button class="btn btn-secondary" data-modal="parameterModal">Cancel</button>\n                  </div>\n              </div>\n          ',document.body.appendChild(e),i.onDom("saveParameterCommandBtn","click","parameter-command-save",()=>{this.saveParameterCommand()}),e.querySelectorAll('.modal-close, [data-modal="parameterModal"]').forEach(e=>{e.addEventListener("click",()=>{this.cancelParameterCommand()})})},cancelParameterCommand(){this.currentParameterCommand=null;const e=document.getElementById("saveParameterCommandBtn");e&&(e.textContent=i18next.t("add_command")),modalManager.hide("parameterModal")},populateParameterModal(e){const t=document.getElementById("parameterInputs");document.getElementById("parameterModalTitle").textContent=`Configure: ${e.name}`,t.innerHTML="",Object.entries(e.parameters).forEach(([e,a])=>{const i=document.createElement("div");i.className="form-group";const n=document.createElement("label");let o;if(n.textContent=this.formatParameterName(e),n.setAttribute("for",`param_${e}`),"message"===e){const t=document.createElement("div");t.className="input-with-button",o=document.createElement("input"),o.type="text",o.id=`param_${e}`,o.name=e,o.value=a.default||"",a.placeholder&&(o.placeholder=a.placeholder);const r=document.createElement("button");r.type="button",r.className="btn btn-small insert-target-btn",r.title="Insert $Target variable",r.innerHTML='<i class="fas fa-crosshairs"></i> $Target',t.appendChild(o),t.appendChild(r);const s=document.createElement("small");s.textContent=this.getParameterHelp(e,a);const c=document.createElement("div");c.className="variable-help",c.innerHTML="<strong>$Target</strong> - Use to include your current target's name in the message",i.appendChild(n),i.appendChild(t),i.appendChild(s),i.appendChild(c)}else{"select"===a.type?(o=document.createElement("select"),o.id=`param_${e}`,o.name=e,a.options.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent="STOTrayExecByTray"===e?"STOTrayExecByTray (shows key binding on UI)":"TrayExecByTray (no UI indication)",e===a.default&&(t.selected=!0),o.appendChild(t)})):(o=document.createElement("input"),o.type="number"===a.type?"number":"text",o.id=`param_${e}`,o.name=e,o.value=a.default||"",a.placeholder&&(o.placeholder=a.placeholder),"number"===a.type&&(void 0!==a.min&&(o.min=a.min),void 0!==a.max&&(o.max=a.max),void 0!==a.step&&(o.step=a.step)));const t=document.createElement("small");t.textContent=this.getParameterHelp(e,a),i.appendChild(n),i.appendChild(o),i.appendChild(t)}t.appendChild(i),o.addEventListener("input",()=>{this.updateParameterPreview()}),"SELECT"===o.tagName&&o.addEventListener("change",()=>{this.updateParameterPreview()})}),this.updateParameterPreview()},formatParameterName:e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),getParameterHelp:(e,t)=>({entityName:"Name of the entity to target (e.g., ship name, player name)",active:"Whether the command is active (1 = active, 0 = inactive)",tray:"Primary tray number (0-9, where 0 is the first tray)",slot:"Primary slot number (0-9, where 0 is the first slot)",backup_tray:"Backup tray number (0-9, where 0 is the first tray)",backup_slot:"Backup slot number (0-9, where 0 is the first slot)",amount:"Throttle adjustment amount (-1 to 1)",position:"Throttle position (-1 = full reverse, 0 = stop, 1 = full forward)",distance:"Camera distance from target",filename:"Name of the keybind file (without extension)",message:"Text message to send",state:"Enable (1) or disable (0) combat log",command_type:"STOTrayExecByTray shows key binding on UI, TrayExecByTray does not"}[e]||`${t.type} value ${void 0!==t.min?`(${t.min} to ${t.max})`:""}`),updateParameterPreview(){if(!this.currentParameterCommand)return;const{categoryId:e,commandId:t,commandDef:a}=this.currentParameterCommand,i=this.getParameterValues(),n=this.buildParameterizedCommand(e,t,a,i),o=document.getElementById("parameterCommandPreview");if(o&&n)if(Array.isArray(n)){const e=n.map(e=>e.command);o.textContent=e.join(" $$ ")}else o.textContent=n.command},getParameterValues(){const e={};return document.querySelectorAll("#parameterInputs input, #parameterInputs select").forEach(t=>{const a=t.name;let i=t.value;"number"===t.type&&(i=parseFloat(i)||0),e[a]=i}),e},buildParameterizedCommand(e,t,a,i){const n={targeting:e=>"target"===t&&e.entityName?{command:`${a.command} "${e.entityName}"`,text:`Target: ${e.entityName}`}:{command:a.command,text:a.name},tray:i=>{const n=i.tray||0,o=i.slot||0;if("tray_with_backup"===t){const e=void 0!==i.active?i.active:1,t=i.backup_tray||0,a=i.backup_slot||0;return{command:`TrayExecByTrayWithBackup ${e} ${n} ${o} ${t} ${a}`,text:`Execute Tray ${n+1} Slot ${o+1} (backup: Tray ${t+1} Slot ${a+1})`}}if("tray_range"===t){const t=i.start_tray||0,n=i.start_slot||0,o=i.end_tray||0,r=i.end_slot||0,s=i.command_type||"STOTrayExecByTray";return stoCommands.generateTrayRangeCommands(t,n,o,r,s).map((i,s)=>{let c,l;try{const e=i.replace("+","").trim().split(/\s+/);c=parseInt(e[1]),l=parseInt(e[2])}catch(e){c=void 0,l=void 0}return{command:i,type:e,icon:a.icon,text:0===s?`Execute Range: Tray ${t+1} Slot ${n+1} to Tray ${o+1} Slot ${r+1}`:i,id:this.generateCommandId(),parameters:{tray:c,slot:l}}})}if("tray_range_with_backup"===t){const t=i.active||1,n=i.start_tray||0,o=i.start_slot||0,r=i.end_tray||0,s=i.end_slot||0,c=i.backup_start_tray||0,l=i.backup_start_slot||0,d=i.backup_end_tray||0,m=i.backup_end_slot||0;return stoCommands.generateTrayRangeWithBackupCommands(t,n,o,r,s,c,l,d,m).map((t,i)=>{let o,s,c,l,d;try{const e=t.trim().split(/\s+/);o=parseInt(e[1]),s=parseInt(e[2]),c=parseInt(e[3]),l=parseInt(e[4]),d=parseInt(e[5])}catch(e){}return{command:t,type:e,icon:a.icon,text:0===i?`Execute Range with Backup: Tray ${n+1}-${r+1}`:t,id:this.generateCommandId(),parameters:{active:o,tray:s,slot:c,backup_tray:l,backup_slot:d}}})}if("whole_tray"===t){const t=i.command_type||"STOTrayExecByTray";return stoCommands.generateWholeTrayCommands(n,t).map((t,i)=>{let o;try{const e=t.replace("+","").trim().split(/\s+/);o=parseInt(e[2])}catch(e){o=void 0}return{command:t,type:e,icon:a.icon,text:0===i?`Execute Whole Tray ${n+1}`:t,id:this.generateCommandId(),parameters:{tray:n,slot:o}}})}if("whole_tray_with_backup"===t){const t=i.active||1,o=i.backup_tray||0;return stoCommands.generateWholeTrayWithBackupCommands(t,n,o).map((t,i)=>{let r,s,c,l,d;try{const e=t.trim().split(/\s+/);r=parseInt(e[1]),s=parseInt(e[2]),c=parseInt(e[3]),l=parseInt(e[4]),d=parseInt(e[5])}catch(e){}return{command:t,type:e,icon:a.icon,text:0===i?`Execute Whole Tray ${n+1} (with backup Tray ${o+1})`:t,id:this.generateCommandId(),parameters:{active:r,tray:s,slot:c,backup_tray:l,backup_slot:d}}})}{const e=this.currentParameterCommand&&this.currentParameterCommand.isEditing,t=i.command_type||"STOTrayExecByTray",a="+";if(e){const e=this.getCurrentProfile().keys[this.selectedKey][this.currentParameterCommand.editIndex];if(e&&(e.command.startsWith("TrayExecByTray")||e.command.startsWith("+TrayExecByTray")))return{command:`+TrayExecByTray ${n} ${o}`,text:`Execute Tray ${n+1} Slot ${o+1}`}}return{command:`${a}${t} ${n} ${o}`,text:`Execute Tray ${n+1} Slot ${o+1}`}}},movement:e=>{let i=a.command;return"throttle_adjust"===t&&void 0!==e.amount?i=`${a.command} ${e.amount}`:"throttle_set"===t&&void 0!==e.position&&(i=`${a.command} ${e.position}`),{command:i,text:a.name}},camera:e=>{let i=a.command;return"cam_distance"===t&&void 0!==e.distance&&(i=`${a.command} ${e.distance}`),{command:i,text:a.name}},communication:e=>({command:`${a.command} ${e.message||"Message text here"}`,text:`${a.name}: ${e.message||"Message text here"}`}),system:e=>{let i=a.command;return"bind_save_file"!==t&&"bind_load_file"!==t||!e.filename?"combat_log"===t&&void 0!==e.state&&(i=`${a.command} ${e.state}`):i=`${a.command} ${e.filename}`,{command:i,text:a.name}}},o=n[e];if(o){const t=o(i);return Array.isArray(t)?t:{command:t.command,type:e,icon:a.icon,text:t.text,id:this.generateCommandId(),parameters:i}}return null},saveParameterCommand(){if(!this.selectedKey||!this.currentParameterCommand)return;const{categoryId:e,commandId:t,commandDef:a,editIndex:i,isEditing:n}=this.currentParameterCommand,o=this.getParameterValues(),r=this.buildParameterizedCommand(e,t,a,o);if(r){if(n&&void 0!==i)if(Array.isArray(r)){const e=this.getCurrentProfile();e.keys[this.selectedKey].splice(i,1,...r),stoStorage.saveProfile(this.currentProfile,e),this.renderCommandChain(),this.setModified(!0),stoUI.showToast(i18next.t("commands_updated_successfully",{count:r.length}),"success")}else{const e=this.getCurrentProfile();e.keys[this.selectedKey][i]=r,stoStorage.saveProfile(this.currentProfile,e),this.renderCommandChain(),this.setModified(!0),stoUI.showToast(i18next.t("command_updated_successfully"),"success")}else this.addCommand(this.selectedKey,r);modalManager.hide("parameterModal"),this.currentParameterCommand=null,document.getElementById("saveParameterCommandBtn").textContent=i18next.t("add_command")}},editCommand(e){if(!this.selectedKey)return;const t=this.getCurrentProfile().keys[this.selectedKey];if(!t||!t[e])return;const a=t[e];if(a.parameters&&a.type){const t=this.findCommandDefinition(a);if(t&&t.customizable)return void this.editParameterizedCommand(e,a,t)}const i=this.findCommandDefinition(a);i&&i.customizable?this.editParameterizedCommand(e,a,i):stoUI.showToast(i18next.t("command_info",{command:a.command,type:a.type}),"info",3e3)},findCommandDefinition(e){if(e.command.includes("TrayExec")){const t=STO_DATA.commands.tray;if(t)if(e.command.includes("TrayExecByTrayWithBackup")&&e.command.includes("$$")){if(e.command.split("$$").map(e=>e.trim()).length>1){const e=t.commands.tray_range_with_backup;if(e)return{commandId:"tray_range_with_backup",...e}}}else if((e.command.includes("STOTrayExecByTray")||e.command.includes("TrayExecByTray"))&&e.command.includes("$$")&&!e.command.includes("WithBackup")){if(e.command.split("$$").map(e=>e.trim()).length>1){const e=t.commands.tray_range;if(e)return{commandId:"tray_range",...e}}}else if(e.command.includes("TrayExecByTrayWithBackup")){const e=t.commands.tray_with_backup;if(e)return{commandId:"tray_with_backup",...e}}else if(e.command.includes("STOTrayExecByTray")||e.command.includes("TrayExecByTray")&&!e.command.includes("WithBackup")){const e=t.commands.custom_tray;if(e)return{commandId:"custom_tray",...e}}}const t=STO_DATA.commands[e.type];if(!t)return null;for(const[a,i]of Object.entries(t.commands))if(i.command===e.command)return{commandId:a,...i};for(const[a,i]of Object.entries(t.commands))if(i.customizable&&e.command.startsWith(i.command.split(" ")[0]))return{commandId:a,...i};return null},editParameterizedCommand(e,t,a){this.currentParameterCommand={categoryId:t.type,commandId:a.commandId,commandDef:a,editIndex:e,isEditing:!0},document.getElementById("parameterModal")||this.createParameterModal(),this.populateParameterModalForEdit(a,t.parameters),document.getElementById("parameterModalTitle").textContent=`Edit: ${a.name}`,document.getElementById("saveParameterCommandBtn").textContent="Update Command",modalManager.show("parameterModal")},populateParameterModalForEdit(e,t){const a=document.getElementById("parameterInputs");a.innerHTML="",Object.entries(e.parameters).forEach(([e,i])=>{const n=document.createElement("div");n.className="form-group";const o=document.createElement("label");let r;if(o.textContent=this.formatParameterName(e),o.setAttribute("for",`param_${e}`),"select"===i.type){r=document.createElement("select"),r.id=`param_${e}`,r.name=e,i.options.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent="STOTrayExecByTray"===e?"STOTrayExecByTray (shows key binding on UI)":"TrayExecByTray (no UI indication)",r.appendChild(t)});const a=t&&void 0!==t[e]?t[e]:i.default;r.value=null!=a?a:i.default}else{r=document.createElement("input"),r.type="number"===i.type?"number":"text",r.id=`param_${e}`,r.name=e;const a=t&&void 0!==t[e]?t[e]:i.default;r.value=null!=a?a:"",i.placeholder&&(r.placeholder=i.placeholder),"number"===i.type&&(void 0!==i.min&&(r.min=i.min),void 0!==i.max&&(r.max=i.max),void 0!==i.step&&(r.step=i.step))}const s=document.createElement("small");s.textContent=this.getParameterHelp(e,i),n.appendChild(o),n.appendChild(r),n.appendChild(s),a.appendChild(n),r.addEventListener("input",()=>{this.updateParameterPreview()}),"SELECT"===r.tagName&&r.addEventListener("change",()=>{this.updateParameterPreview()})}),this.updateParameterPreview()},filterCommandLibrary(){document.querySelectorAll(".command-item").forEach(e=>{const t=e.dataset.command;if(!t)return;let a=null;for(const[e,i]of Object.entries(STO_DATA.commands))if(i.commands[t]){a=i.commands[t];break}if(a){let t=!0;t=!a.environment||a.environment===this.currentEnvironment,e.style.display=t?"flex":"none"}}),document.querySelectorAll(".category").forEach(e=>{const t=e.querySelectorAll('.command-item:not([style*="display: none"])').length>0;e.style.display=t?"block":"none"})},showKeySelectionModal(){console.log("[KeyCapture] showKeySelectionModal called"),this.setupKeySelectionModal(),modalManager.show("keySelectionModal")},setupKeySelectionModal(){console.log("[KeyCapture] setupKeySelectionModal called"),this.setupModifierKeySelection();const e=document.getElementById("keySelectionCaptureBtn");console.log("[KeyCapture] setupKeySelectionModal: captureKeyBtn:",e),e&&(e.onclick=null,e.removeEventListener("click",()=>{}),e.addEventListener("click",e=>{console.log("[KeyCapture] captureKeyBtn clicked (event delegation)"),e.preventDefault(),e.stopPropagation(),this.startKeyCapture("keySelectionModal")}))},setupModifierKeySelection(){this.selectedModifiers=[],this.selectedKey=null;const e=document.querySelector(".modifier-buttons");e&&(e.innerHTML="",(STO_DATA.keys.modifiers&&STO_DATA.keys.modifiers.keys||[]).forEach(t=>{const a=document.createElement("button");a.type="button",a.className="modifier-btn",a.dataset.modifier=t.key,a.dataset.selected="false";const i=document.createElement("span");i.className="modifier-label";const n=t.key.toLowerCase();"ctrl"===n||"alt"===n||"shift"===n?(i.setAttribute("data-i18n",n),i.textContent=t.description||t.key):i.textContent=t.description||t.key,a.appendChild(i),a.addEventListener("click",()=>{"true"===a.dataset.selected?(a.dataset.selected="false",this.selectedModifiers=this.selectedModifiers.filter(e=>e!==t.key)):(a.dataset.selected="true",this.selectedModifiers.push(t.key)),this.updateKeyPreview()}),e.appendChild(a)}));const t=document.querySelectorAll(".tab-btn");t.forEach(e=>{e.addEventListener("click",()=>{const a=e.dataset.tab;t.forEach(e=>e.classList.remove("active")),e.classList.add("active"),document.querySelectorAll(".key-tab").forEach(e=>e.classList.remove("active")),document.getElementById(`${a}-tab`).classList.add("active"),this.populateKeyTab(a)})});const a=document.getElementById("confirmKeySelection");a&&a.addEventListener("click",()=>{if(this.selectedKey){const e=this.buildKeyCombination();this.selectKeyFromModal(e)}}),this.populateKeyTab("common")},populateKeyTab(e){const t=`${e}KeyGrid`,a=document.getElementById(t);if(!a||a.children.length>0)return;let i=[];switch(e){case"common":i=STO_DATA.keys.common.keys;break;case"letters":i=STO_DATA.keys.letters.keys;break;case"numbers":i=STO_DATA.keys.numbers.keys;break;case"function":i=STO_DATA.keys.function.keys;break;case"arrows":i=STO_DATA.keys.arrows.keys;break;case"symbols":i=STO_DATA.keys.symbols.keys;break;case"mouse":i=STO_DATA.keys.mouse.keys;break;case"gamepad":i=STO_DATA.keys.gamepad.keys}a.innerHTML="",i.forEach(e=>{const t=document.createElement("div");t.className="key-item",t.dataset.key=e.key;const i=this.formatKeyName(e.key);let n;if(i.includes("<br>")){const t=e.key.split(/[+_]/),a=Math.max(...t.map(e=>e.length));n=a<=4?"short":a<=8?"medium":"long"}else{const t=e.key.length;n=t<=3?"short":t<=5?"medium":t<=8?"long":"extra-long"}t.dataset.length=n,t.innerHTML=`\n          <div class="key-label">${i}</div>\n        `,t.addEventListener("click",()=>{a.querySelectorAll(".key-item").forEach(e=>{e.classList.remove("selected")}),t.classList.add("selected"),this.selectedKey=e.key,this.updateKeyPreview()}),a.appendChild(t)})},buildKeyCombination(){return this.selectedKey?0===this.selectedModifiers.length?this.selectedKey:[...this.selectedModifiers,this.selectedKey].join("+"):null},updateKeyPreview(){const e=document.getElementById("keyPreviewDisplay"),t=document.getElementById("confirmKeySelection");if(!e||!t)return;const a=this.buildKeyCombination();a?(e.innerHTML=`<span class="key-combination">${a}</span>`,t.disabled=!1):(e.innerHTML='<span class="no-selection" data-i18n="no_key_selected">No key selected</span>',t.disabled=!0);const i=document.getElementById("captureKeyBtn");console.log("[KeyCapture] setupKeySelectionModal: captureKeyBtn:",i),i&&(i.onclick=null,i.removeEventListener("click",()=>{}),i.addEventListener("click",e=>{console.log("[KeyCapture] captureKeyBtn clicked (event delegation)"),e.preventDefault(),e.stopPropagation(),this.startKeyCapture("keySelectionModal")}))},populateCommonKeys(){const e=document.getElementById("commonKeysGrid");if(!e)return;const t=STO_DATA.keys.common.keys;e.innerHTML="",t.forEach(t=>{const a=document.createElement("div");a.className="key-button",a.onclick=()=>this.selectKeyFromModal(t.key),a.innerHTML=`\n                  <div class="key-name">${t.key}</div>\n                  <div class="key-desc">${t.description}</div>\n              `,e.appendChild(a)})},selectKeyFromModal(e){modalManager.hide("keySelectionModal"),this.addKey(e)},insertTargetVariable(e){const t=e.selectionStart,a=e.value,i=a.slice(0,t)+"$Target"+a.slice(t);e.value=i,e.setSelectionRange(t+7,t+7),e.focus(),e.dispatchEvent(new Event("input",{bubbles:!0}))},showVertigoModal(){const e=stoStorage.getProfile(this.currentProfile);e&&vertigoManager.loadState(e),this.vertigoInitialState={selectedEffects:{space:new Set(vertigoManager.selectedEffects.space),ground:new Set(vertigoManager.selectedEffects.ground)},showPlayerSay:vertigoManager.showPlayerSay},this.populateVertigoModal(),this.setupVertigoEventListeners(),modalManager.show("vertigoModal")},populateVertigoModal(){const e=document.getElementById("spaceEffectsList");e&&(e.innerHTML="",VFX_EFFECTS.space.forEach(t=>{const a=this.createEffectItem("space",t);e.appendChild(a)}));const t=document.getElementById("groundEffectsList");t&&(t.innerHTML="",VFX_EFFECTS.ground.forEach(e=>{const a=this.createEffectItem("ground",e);t.appendChild(a)})),this.updateVertigoCheckboxes("space"),this.updateVertigoCheckboxes("ground");const a=document.getElementById("vertigoShowPlayerSay");a&&(a.checked=vertigoManager.showPlayerSay),this.updateVertigoEffectCounts(),this.updateVertigoPreview()},createEffectItem(e,t){const a=document.createElement("div");a.className="effect-item",a.innerHTML=`\n              <input type="checkbox" id="effect_${e}_${t.effect.replace(/[^a-zA-Z0-9]/g,"_")}" \n                     data-environment="${e}" \n                     data-effect="${t.effect}">\n              <label for="effect_${e}_${t.effect.replace(/[^a-zA-Z0-9]/g,"_")}" \n                     class="effect-label">${t.label}</label>\n          `;const i=a.querySelector('input[type="checkbox"]');return i.addEventListener("change",()=>{vertigoManager.toggleEffect(e,t.effect),this.updateVertigoEffectCounts(),this.updateVertigoPreview(),a.classList.toggle("selected",i.checked)}),a.querySelector(".effect-label").addEventListener("click",()=>{i.checked=!i.checked,i.dispatchEvent(new Event("change"))}),a},setupVertigoEventListeners(){["spaceSelectAll","spaceClearAll","groundSelectAll","groundClearAll","vertigoShowPlayerSay","saveVertigoBtn"].forEach(e=>{const t=document.getElementById(e);t&&t.replaceWith(t.cloneNode(!0))}),i.onDom("spaceSelectAll","click","vertigo-space-select-all",()=>{try{vertigoManager.selectAllEffects("space"),this.updateVertigoCheckboxes("space"),this.updateVertigoEffectCounts(),this.updateVertigoPreview()}catch(e){e instanceof InvalidEnvironmentError?stoUI.showToast(i18next.t("error_message",{error:e.message}),"error"):(stoUI.showToast(i18next.t("failed_to_select_all_space_effects"),"error"),console.error("Error selecting all space effects:",e))}}),i.onDom("spaceClearAll","click","vertigo-space-clear-all",()=>{vertigoManager.selectedEffects.space.clear(),this.updateVertigoCheckboxes("space"),this.updateVertigoEffectCounts(),this.updateVertigoPreview()}),i.onDom("groundSelectAll","click","vertigo-ground-select-all",()=>{try{vertigoManager.selectAllEffects("ground"),this.updateVertigoCheckboxes("ground"),this.updateVertigoEffectCounts(),this.updateVertigoPreview()}catch(e){e instanceof InvalidEnvironmentError?stoUI.showToast(i18next.t("error_message",{error:e.message}),"error"):(stoUI.showToast(i18next.t("failed_to_select_all_ground_effects"),"error"),console.error("Error selecting all ground effects:",e))}}),i.onDom("groundClearAll","click","vertigo-ground-clear-all",()=>{vertigoManager.selectedEffects.ground.clear(),this.updateVertigoCheckboxes("ground"),this.updateVertigoEffectCounts(),this.updateVertigoPreview()}),i.onDom("vertigoShowPlayerSay","change","vertigo-show-playersay",e=>{vertigoManager.showPlayerSay=e.target.checked,this.updateVertigoPreview()}),i.onDom("saveVertigoBtn","click","vertigo-save",()=>{this.generateVertigoAliases()})},updateVertigoCheckboxes(e){document.querySelectorAll(`input[data-environment="${e}"]`).forEach(t=>{const a=t.dataset.effect,i=vertigoManager.isEffectSelected(e,a);t.checked=i,t.closest(".effect-item").classList.toggle("selected",i)})},updateVertigoEffectCounts(){const e=vertigoManager.getEffectCount("space"),t=vertigoManager.getEffectCount("ground"),a=document.getElementById("spaceEffectCount"),i=document.getElementById("groundEffectCount");a&&(a.textContent=`${e} selected`),i&&(i.textContent=`${t} selected`)},updateVertigoPreview(){const e=document.getElementById("spaceAliasCommand"),t=document.getElementById("groundAliasCommand");if(e)try{const t=vertigoManager.generateAlias("space");e.textContent=t||"No space effects selected"}catch(t){t instanceof InvalidEnvironmentError?(e.textContent="Error: Invalid environment",stoUI.showToast(i18next.t("space_preview_error",{error:t.message}),"error")):(e.textContent="Error generating preview",console.error("Error generating space alias preview:",t))}if(t)try{const e=vertigoManager.generateAlias("ground");t.textContent=e||"No ground effects selected"}catch(e){e instanceof InvalidEnvironmentError?(t.textContent="Error: Invalid environment",stoUI.showToast(i18next.t("ground_preview_error",{error:e.message}),"error")):(t.textContent="Error generating preview",console.error("Error generating ground alias preview:",e))}},generateVertigoAliases(){let e="",t="";try{e=vertigoManager.generateAlias("space")}catch(e){return e instanceof InvalidEnvironmentError?void stoUI.showToast(i18next.t("space_alias_error",{error:e.message}),"error"):(stoUI.showToast(i18next.t("failed_to_generate_space_alias"),"error"),void console.error("Error generating space alias:",e))}try{t=vertigoManager.generateAlias("ground")}catch(e){return e instanceof InvalidEnvironmentError?void stoUI.showToast(i18next.t("ground_alias_error",{error:e.message}),"error"):(stoUI.showToast(i18next.t("failed_to_generate_ground_alias"),"error"),void console.error("Error generating ground alias:",e))}if(!e&&!t)return void stoUI.showToast(i18next.t("no_effects_selected"),"warning");if(!this.getCurrentProfile())return void stoUI.showToast(i18next.t("no_profile_selected"),"error");const a=stoStorage.getProfile(this.currentProfile);if(!a)return void stoUI.showToast(i18next.t("no_profile_found"),"error");let i=0;if(a.aliases||(a.aliases={}),e){const t="dynFxSetFXExlusionList_Space",n=e.match(/alias\s+\w+\s+<&\s+(.+?)&>/),o=n?n[1]:"";a.aliases[t]={name:t,description:"VFX - Disable Space Visual Effects",commands:o,created:(new Date).toISOString(),lastModified:(new Date).toISOString()},i++}if(t){const e="dynFxSetFXExlusionList_Ground",n=t.match(/alias\s+\w+\s+<&\s+(.+?)&>/),o=n?n[1]:"";a.aliases[e]={name:e,description:"VFX - Disable Ground Visual Effects",commands:o,created:(new Date).toISOString(),lastModified:(new Date).toISOString()},i++}vertigoManager.saveState(a),stoStorage.saveProfile(this.currentProfile,a),this.saveProfile(),this.setModified(!0),"undefined"!=typeof stoAliases&&stoAliases.updateCommandLibrary&&stoAliases.updateCommandLibrary(),this.vertigoInitialState={selectedEffects:{space:new Set(vertigoManager.selectedEffects.space),ground:new Set(vertigoManager.selectedEffects.ground)},showPlayerSay:vertigoManager.showPlayerSay},this.vertigoSaving=!0,modalManager.hide("vertigoModal"),stoUI.showToast(i18next.t("generated_vertigo_aliases",{count:i,plural:i>1?"es":""}),"success")},applyTheme(){const e=stoStorage.getSettings().theme||"default";"dark"===e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),this.updateThemeToggleButton(e)},toggleTheme(){const e=stoStorage.getSettings(),t="dark"===(e.theme||"default")?"default":"dark";e.theme=t,stoStorage.saveSettings(e),this.applyTheme();const a="dark"===t?"Dark Mode":"Light Mode";stoUI.showToast(i18next.t("switched_to_theme",{themeName:a}),"success")},updateThemeToggleButton(e){const t=document.getElementById("themeToggleBtn"),a=document.getElementById("themeToggleText"),i=t?.querySelector("i");t&&a&&i&&("dark"===e?(i.className="fas fa-sun",a.textContent="Light Mode"):(i.className="fas fa-moon",a.textContent="Dark Mode"))},async applyLanguage(){const e=stoStorage.getSettings().language||"en";"undefined"!=typeof i18next&&i18next.language!==e&&await i18next.changeLanguage(e),"function"==typeof applyTranslations&&applyTranslations();const t=document.getElementById("languageFlag");t&&(t.className={en:"fi fi-gb",de:"fi fi-de",es:"fi fi-es",fr:"fi fi-fr"}[e]||"fi fi-gb")},async changeLanguage(e){const t=stoStorage.getSettings();t.language=e,stoStorage.saveSettings(t),await this.applyLanguage(),window.localizeCommandData&&window.localizeCommandData(),this.renderProfiles(),this.renderKeyGrid(),this.renderCommandChain(),this.setupCommandLibrary&&this.setupCommandLibrary(),"undefined"!=typeof stoExport&&stoExport.init&&stoExport.init(),stoUI.showToast(i18next.t("language_updated"),"success")},toggleAliasOptionsDropdown(){const e=document.getElementById("aliasOptionsDropdown"),t=document.getElementById("aliasOptionsMenu");e&&t&&("block"===t.style.display?this.closeAliasOptionsDropdown():this.openAliasOptionsDropdown())},openAliasOptionsDropdown(){const e=document.getElementById("aliasOptionsDropdown"),t=document.getElementById("aliasOptionsMenu");e&&t&&(e.classList.add("active"),t.style.display="block")},closeAliasOptionsDropdown(){const e=document.getElementById("aliasOptionsDropdown"),t=document.getElementById("aliasOptionsMenu");e&&t&&(e.classList.remove("active"),t.style.display="none")},updateAliasOptionsLabel(){const e=[{id:"aliasStabilizeOption",label:"Stabilize"},{id:"aliasToggleOption",label:"Toggle"},{id:"aliasCycleOption",label:"Cycle"}].filter(e=>{const t=document.getElementById(e.id);return t&&t.checked}),t=document.querySelector("#aliasOptionsDropdown .multiselect-label");t&&(0===e.length?t.textContent=i18next.t("select_options"):1===e.length?t.textContent=e[0].label:t.textContent=`${e.length} options selected`)}},me={startKeyCapture(e="keySelectionModal"){console.log("[KeyCapture] startKeyCapture called for modal:",e),this.isCapturingKeys=!0,this.pressedCodes=new Set,this.currentCaptureContext=e,this.hasCapturedValidKey=!1;const t="addKeyModal"===e?"addKeyCaptureStatus":"keyCaptureStatus",a="addKeyModal"===e?"addKeyCapturedKeys":"capturedKeys",i="addKeyModal"===e?"addKeyCaptureBtn":"keySelectionCaptureBtn",n=document.getElementById(t),o=document.getElementById(a),r=document.getElementById(i);console.log("[KeyCapture] Elements found:",{captureStatus:!!n,capturedKeys:!!o,captureBtn:!!r,modalContext:e}),n&&(n.style.display="block"),o&&(o.textContent="",o.setAttribute("data-placeholder","Press keys...")),r&&(r.disabled=!0),console.log("[KeyCapture] Adding key event listeners to document"),document.addEventListener("keydown",this.boundHandleKeyDown),document.addEventListener("keyup",this.boundHandleKeyUp),console.log("[KeyCapture] Event listeners attached:",{keydown:document.onkeydown,hasKeydown:!!document.onkeydown});const s=document.getElementById(e);console.log("[KeyCapture] Modal found:",!!s),s&&(s.focus(),console.log("[KeyCapture] Modal focused")),console.log("[KeyCapture] startKeyCapture completed")},stopKeyCapture(){this.isCapturingKeys=!1,this.pressedCodes.clear();const e=this.currentCaptureContext||"keySelectionModal",t="addKeyModal"===e?"addKeyCaptureStatus":"keyCaptureStatus",a="addKeyModal"===e?"addKeyCaptureBtn":"keySelectionCaptureBtn",i=document.getElementById(t),n=document.getElementById(a);if(i&&(i.style.display="none"),n&&(n.disabled=!1),"addKeyModal"===e){const e=document.getElementById("addKeyConfirmSection");e&&(e.style.display="none")}document.removeEventListener("keydown",this.boundHandleKeyDown),document.removeEventListener("keyup",this.boundHandleKeyUp),this.currentCaptureContext=null},handleKeyDown(e){if(!this.isCapturingKeys)return;if(this.isPureModifier(e.code))return this.pressedCodes.add(e.code),void this.updateCapturedKeysDisplay();this.pressedCodes.add(e.code);const t=this.chordToString(this.pressedCodes);this.updateCapturedKeysDisplay(t),this.addCapturedKeySelectionButton(t),this.hasCapturedValidKey=!0,e.preventDefault()},addCapturedKeySelectionButton(e){if("addKeyModal"===(this.currentCaptureContext||"keySelectionModal")){const t="addKeyCapturedKeys",a=document.getElementById(t);if(!a)return;const i=a.querySelector(".captured-key-select-btn");i&&i.remove();const n=document.createElement("button");n.className="btn btn-primary captured-key-select-btn",n.textContent=`Select "${e}"`,n.onclick=()=>{const t=document.getElementById("newKeyName");t&&(t.value=e),this.addKey(e),modalManager.hide("addKeyModal"),this.stopKeyCapture()},a.appendChild(n)}else{const t=document.getElementById("keyPreviewDisplay"),a=document.getElementById("confirmKeySelection");t&&a&&(t.innerHTML=`<span class="key-combination">${e}</span>`,a.disabled=!1,this.selectedKey=e,this.selectedModifiers=[],document.querySelectorAll(".modifier-btn").forEach(e=>{e.dataset.selected="false"}),document.querySelectorAll(".key-item.selected").forEach(e=>{e.classList.remove("selected")})),this.stopKeyCapture()}},handleKeyUp(e){this.isCapturingKeys&&(this.hasCapturedValidKey||(this.pressedCodes.delete(e.code),this.updateCapturedKeysDisplay()))},isPureModifier:e=>["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"].includes(e),chordToString:e=>[...e].sort().map(e=>{if(e.startsWith("Control"))return"Ctrl";if(e.startsWith("Alt"))return"Alt";if(e.startsWith("Shift"))return"Shift";if(e.startsWith("Meta"))return"Meta";const t=e.match(/^Digit(\d)$/);if(t)return t[1];const a=e.match(/^Key([A-Z])$/);return a?a[1]:e.startsWith("F")&&/^F\d+$/.test(e)?e:{Space:"Space",Enter:"Enter",Tab:"Tab",Escape:"Escape",Backspace:"Backspace",Delete:"Delete",Home:"Home",End:"End",PageUp:"PageUp",PageDown:"PageDown",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right",BracketLeft:"[",BracketRight:"]",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",Backslash:"\\",Minus:"-",Equal:"=",Backquote:"`",IntlBackslash:"\\"}[e]||e.replace(/^Key/,"")}).join("+"),updateCapturedKeysDisplay(e=null){const t="addKeyModal"===(this.currentCaptureContext||"keySelectionModal")?"addKeyCapturedKeys":"capturedKeys",a=document.getElementById(t);if(a)if(e)a.textContent=e;else if(this.pressedCodes.size>0){const e=this.chordToString(this.pressedCodes);a.textContent=e}else a.textContent="",a.setAttribute("data-placeholder","Press keys...")}},_e={setupEventListeners(){const e=document.getElementById("profileSelect");e?.addEventListener("change",e=>{this.switchProfile(e.target.value)}),document.querySelectorAll(".mode-btn").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget.dataset.mode;t&&this.switchMode(t)})}),i.onDom("openProjectBtn","click","project-open",()=>{this.openProject()}),i.onDom("saveProjectBtn","click","project-save",()=>{this.saveProject()}),i.onDom("exportKeybindsBtn","click","keybinds-export",()=>{this.exportKeybinds()}),i.onDom("vertigoBtn","click","vertigo-open",()=>{this.showVertigoModal()}),i.onDom("addKeyBtn","click","key-add",()=>{this.showKeySelectionModal()}),i.onDom("deleteKeyBtn","click","key-delete",()=>{this.selectedKey&&this.confirmDeleteKey(this.selectedKey)}),i.onDom("duplicateKeyBtn","click","key-duplicate",()=>{this.selectedKey&&this.duplicateKey(this.selectedKey)}),i.onDom("addAliasChainBtn","click","alias-chain-add",()=>{this.showAliasCreationModal()}),i.onDom("deleteAliasChainBtn","click","alias-chain-delete",()=>{this.selectedKey&&"alias"===this.currentEnvironment&&this.confirmDeleteAlias(this.selectedKey)}),i.onDom("duplicateAliasChainBtn","click","alias-chain-duplicate",()=>{this.selectedKey&&"alias"===this.currentEnvironment&&this.duplicateAlias(this.selectedKey)}),i.onDom("addCommandBtn","click","command-add",()=>{modalManager.show("addCommandModal")}),i.onDom("clearChainBtn","click","command-chain-clear",()=>{this.selectedKey&&this.confirmClearChain(this.selectedKey)}),i.onDom("validateChainBtn","click","command-chain-validate",()=>{this.validateCurrentChain()}),i.onDom("stabilizeExecutionOrder","change","stabilize-change",e=>{if(this.selectedKey){const t=this.currentEnvironment,a=stoStorage.getProfile(this.currentProfile);a&&(a.keybindMetadata||(a.keybindMetadata={}),a.keybindMetadata[t]||(a.keybindMetadata[t]={}),a.keybindMetadata[t][this.selectedKey]||(a.keybindMetadata[t][this.selectedKey]={}),a.keybindMetadata[t][this.selectedKey].stabilizeExecutionOrder=e.target.checked,stoStorage.saveProfile(this.currentProfile,a),this.setModified(!0))}this.renderCommandChain()}),i.onDom("keyFilter","input","key-filter",e=>{this.filterKeys(e.target.value)}),i.onDom("commandSearch","input","command-search",e=>{this.filterCommands(e.target.value)}),i.onDom("showAllKeysBtn","click","show-all-keys",()=>{this.showAllKeys()}),i.onDom("toggleKeyViewBtn","click","toggle-key-view",()=>{this.toggleKeyView()}),i.onDom("toggleLibraryBtn","click","toggle-library",()=>{this.toggleLibrary()}),i.onDom("aliasOptionsDropdown","click","alias-options-toggle",e=>{e.stopPropagation(),this.toggleAliasOptionsDropdown()}),document.addEventListener("click",e=>{const t=document.getElementById("aliasOptionsDropdown"),a=document.getElementById("aliasOptionsMenu");t&&a&&!t.contains(e.target)&&!a.contains(e.target)&&this.closeAliasOptionsDropdown()}),["aliasStabilizeOption","aliasToggleOption","aliasCycleOption"].forEach(e=>{i.onDom(e,"change",`alias-option-${e}`,()=>{this.updateAliasOptionsLabel()})}),this.setupModalHandlers(),setInterval(()=>{this.isModified&&this.saveData()},3e4),i.onDom("stabilizeExecutionOrderBtn","click","stabilize-toggle",e=>{const t=e.target.closest(".toolbar-btn"),a=document.getElementById("stabilizeExecutionOrder");a.checked=!a.checked,t.classList.toggle("active",a.checked),a.dispatchEvent(new Event("change"))}),i.onDom("aliasOptionsBtn","click","alias-options-toggle",e=>{const t=e.target.closest(".toolbar-btn"),a=document.getElementById("aliasOptions"),i="none"!==a.style.display;a.style.display=i?"none":"block",t.classList.toggle("active",!i)}),this.setupExpandableSearch("keySearchBtn","keyFilter"),this.setupExpandableSearch("aliasSearchBtn","aliasFilter"),this.setupExpandableSearch("commandSearchBtn","commandSearch")},setupExpandableSearch(e,t){const a=document.getElementById(e),n=document.getElementById(t);a&&n&&(i.onDom(e,"click",`${e}-toggle`,e=>{e.preventDefault(),e.stopPropagation(),n.classList.contains("expanded")?n.value.trim()?(n.value="",n.dispatchEvent(new Event("input"))):(n.classList.remove("expanded"),n.blur()):(n.classList.add("expanded"),setTimeout(()=>n.focus(),100))}),document.addEventListener("click",e=>{!e.target.closest(".toolbar-search")&&n.classList.contains("expanded")&&(n.value.trim()||n.classList.remove("expanded"))}),n.addEventListener("keydown",e=>{"Escape"===e.key&&(n.value.trim()?(n.value="",n.dispatchEvent(new Event("input"))):(n.classList.remove("expanded"),n.blur()))}),n.addEventListener("input",()=>{n.value.trim()&&n.classList.add("expanded")}))},setupModalHandlers(){i.onDom("confirmAddKeyBtn","click","key-add-confirm",()=>{const e=document.getElementById("newKeyName")?.value.trim();e&&(this.addKey(e),modalManager.hide("addKeyModal"))}),document.querySelectorAll(".key-suggestion").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.key,a=document.getElementById("newKeyName");a&&(a.value=t)})});const e=document.getElementById("addKeyCaptureBtn");e&&e.addEventListener("click",()=>{this.startKeyCapture("addKeyModal")}),i.onDom("saveCommandBtn","click","command-save",()=>{this.saveCommandFromModal()}),document.querySelectorAll(".modal-close, [data-modal]").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.modal||e.target.closest("button").dataset.modal;t&&(modalManager.hide(t),"vertigoModal"===t&&(this.vertigoInitialState&&!this.vertigoSaving&&(vertigoManager.selectedEffects.space=new Set(this.vertigoInitialState.selectedEffects.space),vertigoManager.selectedEffects.ground=new Set(this.vertigoInitialState.selectedEffects.ground),vertigoManager.showPlayerSay=this.vertigoInitialState.showPlayerSay),delete this.vertigoInitialState,this.vertigoSaving=!1),"addKeyModal"!==t&&"keySelectionModal"!==t||this.stopKeyCapture())})})}},pe={openProject(){const e=document.getElementById("fileInput");e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{stoExport.importJSONFile(e.target.result)?(this.loadData(),this.renderProfiles(),this.renderKeyGrid(),this.renderCommandChain(),stoUI.showToast(i18next.t("project_loaded_successfully"),"success")):stoUI.showToast(i18next.t("failed_to_load_project_file"),"error")}catch(e){stoUI.showToast(i18next.t("invalid_project_file"),"error")}},e.readAsText(t)}},e.click()},saveProject(){const e=stoStorage.exportData(),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="sto_keybinds.json",n.click(),URL.revokeObjectURL(a),stoUI.showToast(i18next.t("project_exported_successfully"),"success"),i.emit("project-saved")},exportKeybinds(){const e=this.getCurrentProfile();if(!e)return;const t=stoExport.generateSTOKeybindFile(e,{environment:this.currentEnvironment}),a=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(a),n=document.createElement("a");n.href=i;const o=e.name.replace(/[^a-zA-Z0-9]/g,"_");n.download=`${o}_${this.currentEnvironment}_keybinds.txt`,n.click(),URL.revokeObjectURL(i),stoUI.showToast(i18next.t("keybinds_exported_successfully",{environment:this.currentEnvironment}),"success")}},ue={switchMode(e){if(!e||"space"!==e&&"ground"!==e&&"alias"!==e)console.warn("Invalid mode provided to switchMode:",e);else if(this.currentEnvironment!==e){"space"!==this.currentEnvironment&&"ground"!==this.currentEnvironment||this.saveCurrentBuild(),this.currentEnvironment=e;const t=stoStorage.getProfile(this.currentProfile);t&&(t.currentEnvironment=e,stoStorage.saveProfile(this.currentProfile,t)),this.updateProfileInfo(),this.updateModeUI(),this.setModified(!0),this.updateModeButtons(),stoUI.showToast(i18next.t("switched_to_mode",{mode:e}),"success")}},updateModeButtons(){const e=document.querySelector('[data-mode="space"]'),t=document.querySelector('[data-mode="ground"]'),a=document.querySelector('[data-mode="alias"]');e&&t&&a&&(e.classList.toggle("active","space"===this.currentEnvironment),t.classList.toggle("active","ground"===this.currentEnvironment),a.classList.toggle("active","alias"===this.currentEnvironment),e.disabled=!this.currentProfile,t.disabled=!this.currentProfile,a.disabled=!this.currentProfile)},updateModeUI(){"alias"===this.currentEnvironment?(this.showAliasView(),this.renderAliasGrid(),this.renderCommandChain(),this.updateChainOptionsForAlias()):(this.showKeyView(),this.renderKeyGrid(),this.renderCommandChain(),this.updateChainOptionsForKeybind(),this.filterCommandLibrary()),this.updateToggleButtonVisibility()},updateToggleButtonVisibility(){const e=document.getElementById("toggleKeyViewBtn");e&&(e.style.display="alias"===this.currentEnvironment?"none":"block")},showAliasView(){const e=document.querySelector(".key-selector-container"),t=document.getElementById("aliasSelectorContainer");e&&(e.style.display="none"),t&&(t.style.display="block")},showKeyView(){const e=document.querySelector(".key-selector-container"),t=document.getElementById("aliasSelectorContainer");e&&(e.style.display="block"),t&&(t.style.display="none")},updateChainOptionsForAlias(){const e=document.getElementById("stabilizeExecutionOrderBtn"),t=document.getElementById("aliasOptionsBtn"),a=document.getElementById("aliasOptions");e&&(e.style.display="none"),t&&(t.style.display="block"),a&&(a.style.display="none")},updateChainOptionsForKeybind(){const e=document.getElementById("stabilizeExecutionOrderBtn"),t=document.getElementById("aliasOptionsBtn"),a=document.getElementById("aliasOptions");e&&(e.style.display="block"),t&&(t.style.display="none"),a&&(a.style.display="none")}},fe={renderCommandChain(){const e=document.getElementById("commandList"),t=document.getElementById("chainTitle"),a=document.getElementById("commandPreview"),i=document.getElementById("commandCount"),n=document.getElementById("emptyState");if(!e||!t||!a)return;if(!this.selectedKey){const o="alias"===this.currentEnvironment?H.t("select_an_alias_to_edit"):H.t("select_a_key_to_edit"),r="alias"===this.currentEnvironment?H.t("select_an_alias_to_see_the_generated_command"):H.t("select_a_key_to_see_the_generated_command");t.textContent=o,a.textContent=r,i&&(i.textContent="0"),n&&(n.style.display="block");const s="alias"===this.currentEnvironment?"fas fa-mask":"fas fa-keyboard",c="alias"===this.currentEnvironment?H.t("no_alias_selected"):H.t("no_key_selected"),l="alias"===this.currentEnvironment?H.t("select_alias_from_left_panel"):H.t("select_key_from_left_panel");return void(e.innerHTML=`<div class="empty-state" id="emptyState"><i class="${s}"></i><h4>${c}</h4><p>${l}</p></div>`)}let o,r=[];if("alias"===this.currentEnvironment){if(o=stoStorage.getProfile(this.currentProfile),!o)return e.innerHTML='\n          <div class="empty-state">\n            <i class="fas fa-exclamation-triangle"></i>\n            <h4>No Valid Profile</h4>\n            <p>Please create or select a valid profile to manage commands.</p>\n          </div>\n        ',void(a.textContent="");const t=o.aliases&&o.aliases[this.selectedKey];if(t&&t.commands){const e=t.commands.split("$$").map(e=>e.trim()).filter(e=>e.length>0);r=e.map((e,t)=>{const a=this.findCommandDefinition({command:e});return{command:e,text:a?a.name:e,type:"alias",icon:a?a.icon:"🎭",id:`alias_${t}`}})}}else{if(o=this.getCurrentProfile(),!o)return e.innerHTML='\n          <div class="empty-state">\n            <i class="fas fa-exclamation-triangle"></i>\n            <h4>No Valid Profile</h4>\n            <p>Please create or select a valid profile to manage commands.</p>\n          </div>\n        ',void(a.textContent="");r=o.keys[this.selectedKey]||[]}const s="alias"===this.currentEnvironment?"Alias Chain":"Command Chain";if(t.textContent=`${s} for ${this.selectedKey}`,i&&(i.textContent=r.length.toString()),0===r.length){const t="alias"===this.currentEnvironment?`${H.t("click_add_command_to_start_building_your_alias_chain")} ${this.selectedKey}.`:`${H.t("click_add_command_to_start_building_your_command_chain")} ${this.selectedKey}.`;e.innerHTML=`\n        <div class="empty-state">\n          <i class="fas fa-plus-circle"></i>\n          <h4 data-i18n="no_commands">${H.t("no_commands")}</h4>\n          <p>${t}</p>\n        </div>\n      `,"alias"===this.currentEnvironment?a.textContent=`alias ${this.selectedKey} <&  &>`:a.textContent=`${this.selectedKey} ""`}else if(e.innerHTML="",r.forEach((t,a)=>{const i=this.createCommandElement(t,a,r.length);e.appendChild(i)}),"alias"===this.currentEnvironment){const e=r.map(e=>e.command).join(" $$ ");a.textContent=`alias ${this.selectedKey} <& ${e} &>`}else{const e=document.getElementById("stabilizeExecutionOrder");let t;t=e&&e.checked&&r.length>1?stoKeybinds.generateMirroredCommandString(r):r.map(e=>e.command).join(" $$ "),a.textContent=`${this.selectedKey} "${t}"`}},createCommandElement(e,t,a){const i=document.createElement("div");i.className="command-item-row",i.dataset.index=t,i.draggable=!0;const n=this.findCommandDefinition(e),o=n&&n.customizable;let r=e.text,s=e.icon;if(n)if(r=n.name,s=n.icon,o&&e.parameters){if("tray_with_backup"===n.commandId){const t=e.parameters;r=`${n.name} (${t.active} ${t.tray} ${t.slot} ${t.backup_tray} ${t.backup_slot})`}else if("custom_tray"===n.commandId){const t=e.parameters;r=`${n.name} (${t.tray} ${t.slot})`}else if("target"===n.commandId){const t=e.parameters;r=`${n.name}: ${t.entityName}`}}else if(o)if(e.command.includes("TrayExecByTrayWithBackup")){const t=e.command.split(" ");t.length>=6&&(r=`${n.name} (${t[1]} ${t[2]} ${t[3]} ${t[4]} ${t[5]})`)}else if(e.command.includes("TrayExec")){const t=e.command.replace("+","").split(" ");t.length>=3&&(r=`${n.name} (${t[1]} ${t[2]})`)}else if(e.command.includes("Target ")){const t=e.command.match(/Target "([^"]+)"/);t&&(r=`${n.name}: ${t[1]}`)}o&&(i.dataset.parameters="true",i.classList.add("customizable"));const c=this.getCommandWarning(e),l=c?`<span class="command-warning-icon" title="${c}"><i class="fas fa-exclamation-triangle"></i></span>`:"",d=o?' <span class="param-indicator" title="Editable parameters">⚙️</span>':"";return i.innerHTML=`\n            <div class="command-number">${t+1}</div>\n            <div class="command-content">\n                <span class="command-icon">${s}</span>\n                <span class="command-text">${r}${d}</span>\n                ${l}\n            </div>\n            <span class="command-type ${e.type}">${e.type}</span>\n            <div class="command-actions">\n                <button class="btn btn-small-icon" onclick="app.editCommand(${t})" title="Edit Command">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-small-icon btn-danger" onclick="app.deleteCommand('${this.selectedKey}', ${t})" title="Delete Command">\n                    <i class="fas fa-times"></i>\n                </button>\n                <button class="btn btn-small-icon" onclick="app.moveCommand('${this.selectedKey}', ${t}, ${t-1})" \n                        title="Move Up" ${0===t?"disabled":""}>\n                    <i class="fas fa-chevron-up"></i>\n                </button>\n                <button class="btn btn-small-icon" onclick="app.moveCommand('${this.selectedKey}', ${t}, ${t+1})" \n                        title="Move Down" ${t===a-1?"disabled":""}>\n                    <i class="fas fa-chevron-down"></i>\n                </button>\n            </div>\n        `,i},getCommandWarning(e){const t=STO_DATA.commands;for(const[a,i]of Object.entries(t))for(const[t,a]of Object.entries(i.commands))if(a.command===e.command||a.name===e.text||e.command.includes(a.command))return a.warning||null;return null},setupCommandLibrary(){const e=document.getElementById("commandCategories");e&&(e.innerHTML="",Object.entries(STO_DATA.commands).forEach(([t,a])=>{const i=this.createCategoryElement(t,a);e.appendChild(i)}),this.filterCommandLibrary(),"undefined"!=typeof stoAliases&&stoAliases.updateCommandLibrary&&stoAliases.updateCommandLibrary())},createCategoryElement(e,t){const a=document.createElement("div");a.className="category",a.dataset.category=e;const i=`commandCategory_${e}_collapsed`,n="true"===localStorage.getItem(i);return a.innerHTML=`\n            <h4 class="${n?"collapsed":""}" data-category="${e}">\n                <i class="fas fa-chevron-right category-chevron"></i>\n                <i class="${t.icon}"></i> \n                ${t.name}\n                <span class="command-count">(${Object.keys(t.commands).length})</span>\n            </h4>\n            <div class="category-commands ${n?"collapsed":""}">\n                ${Object.entries(t.commands).map(([e,t])=>`\n                    <div class="command-item ${t.customizable?"customizable":""}" data-command="${e}" title="${t.description}${t.customizable?" (Customizable)":""}">\n                        ${t.icon} ${t.name}${t.customizable?' <span class="param-indicator">⚙️</span>':""}\n                    </div>\n                `).join("")}\n            </div>\n        `,a.querySelector("h4").addEventListener("click",()=>{this.toggleCommandCategory(e,a)}),a.addEventListener("click",t=>{if(t.target.classList.contains("command-item")){const a=t.target.dataset.command;this.addCommandFromLibrary(e,a)}}),a},toggleCommandCategory(e,t){const a=t.querySelector("h4"),i=t.querySelector(".category-commands"),n=a.querySelector(".category-chevron"),o=`commandCategory_${e}_collapsed`;i.classList.contains("collapsed")?(i.classList.remove("collapsed"),a.classList.remove("collapsed"),n.style.transform="rotate(90deg)",localStorage.setItem(o,"false")):(i.classList.add("collapsed"),a.classList.add("collapsed"),n.style.transform="rotate(0deg)",localStorage.setItem(o,"true"))},addCommandFromLibrary(e,t){if(!this.selectedKey)return void stoUI.showToast(H.t("please_select_a_key_first"),"warning");const a=STO_DATA.commands[e].commands[t];if(!a)return;if(a.customizable&&a.parameters)return void this.showParameterModal(e,t,a);const i={command:a.command,type:e,icon:a.icon,text:a.name,id:this.generateCommandId()};this.addCommand(this.selectedKey,i)},setupDragAndDrop(){const e=document.getElementById("commandList");e&&stoUI.initDragAndDrop(e,{dragSelector:".command-item-row",dropZoneSelector:".command-item-row",onDrop:(e,t,a)=>{if(!this.selectedKey)return;const i=parseInt(t.dragElement.dataset.index),n=parseInt(a.dataset.index);i!==n&&this.moveCommand(this.selectedKey,i,n)}})},updateChainActions(){const e=!!this.selectedKey;if("alias"===this.currentEnvironment){["deleteAliasChainBtn","duplicateAliasChainBtn"].forEach(t=>{const a=document.getElementById(t);a&&(a.disabled=!e)});const t=document.getElementById("addCommandBtn");t&&(t.disabled=!e),["importFromKeyBtn","deleteKeyBtn","duplicateKeyBtn"].forEach(e=>{const t=document.getElementById(e);t&&(t.disabled=!0)})}else["addCommandBtn","importFromKeyBtn","deleteKeyBtn","duplicateKeyBtn"].forEach(t=>{const a=document.getElementById(t);a&&(a.disabled=!e)}),["deleteAliasChainBtn","duplicateAliasChainBtn"].forEach(e=>{const t=document.getElementById(e);t&&(t.disabled=!0)})}},he={renderAliasGrid(){const e=document.getElementById("aliasGrid");if(!e)return;const t=stoStorage.getProfile(this.currentProfile);if(!t||!t.aliases)return void(e.innerHTML='\n        <div class="empty-state">\n          <i class="fas fa-mask"></i>\n          <h4 data-i18n="no_aliases_defined">No aliases defined</h4>\n          <p data-i18n="create_alias_to_get_started">Create an alias to get started</p>\n        </div>\n      ');const a=Object.entries(t.aliases);0!==a.length?(e.classList.remove("categorized"),e.innerHTML=a.map(([e,t])=>this.createAliasChainElement(e,t)).join(""),e.querySelectorAll(".alias-chain-item").forEach(e=>{e.addEventListener("click",()=>{this.selectAlias(e.dataset.alias)})})):e.innerHTML='\n        <div class="empty-state">\n          <i class="fas fa-mask"></i>\n          <h4 data-i18n="no_aliases_defined">No aliases defined</h4>\n          <p data-i18n="create_alias_to_get_started">Create an alias to get started</p>\n        </div>\n      '},createAliasChainElement(e,t){const a=t.commands?t.commands.split("$$").length:0,i=this.selectedKey===e,n=t.description||"",o=e.length;let r;return r=o<=8?"short":o<=12?"medium":o<=16?"long":"extra-long",`\n      <div class="alias-chain-item ${i?"selected":""}" data-alias="${e}" data-length="${r}" title="${n}">\n        <div class="alias-name">${e}</div>\n        <div class="alias-command-count">${a} <span data-i18n="commands">commands</span></div>\n      </div>\n    `},selectAlias(e){this.selectedKey=e,this.renderAliasGrid(),this.renderCommandChain(),this.updateChainActions()},showAliasCreationModal(){const e=this.createAliasCreationModal();document.body.appendChild(e),modalManager.show("aliasCreationModal")},createAliasCreationModal(){const e=document.createElement("div");return e.id="aliasCreationModal",e.className="modal",e.innerHTML='\n      <div class="modal-content">\n        <div class="modal-header">\n          <h2 data-i18n="create_new_alias">Create New Alias</h2>\n          <button class="modal-close" data-modal="aliasCreationModal">\n            <i class="fas fa-times"></i>\n          </button>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <label for="newAliasName" data-i18n="alias_name">Alias Name:</label>\n            <input type="text" id="newAliasName" class="form-control" placeholder="MyAlias" />\n          </div>\n          <div class="form-group">\n            <label for="newAliasDescription" data-i18n="description">Description:</label>\n            <input type="text" id="newAliasDescription" class="form-control" placeholder="Brief description" />\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button class="btn btn-secondary" data-modal="aliasCreationModal" data-i18n="cancel">Cancel</button>\n          <button class="btn btn-primary" id="confirmCreateAliasBtn" data-i18n="create">Create</button>\n        </div>\n      </div>\n    ',e.querySelector("#confirmCreateAliasBtn").addEventListener("click",()=>{const t=e.querySelector("#newAliasName").value.trim(),a=e.querySelector("#newAliasDescription").value.trim();t&&(this.createAliasChain(t,a),modalManager.hide("aliasCreationModal"),document.body.removeChild(e))}),e},createAliasChain(e,t=""){const a=stoStorage.getProfile(this.currentProfile);a&&(a.aliases||(a.aliases={}),a.aliases[e]?stoUI.showToast(H.t("alias_already_exists",{name:e}),"error"):(a.aliases[e]={description:t,commands:""},stoStorage.saveProfile(this.currentProfile,a),this.renderAliasGrid(),this.selectAlias(e),this.setModified(!0),stoUI.showToast(H.t("alias_created",{name:e}),"success")))},async confirmDeleteAlias(e){await stoUI.confirm(H.t("confirm_delete_alias",{aliasName:e}),H.t("delete_alias"),"danger")&&this.deleteAliasChain(e)},deleteAliasChain(e){const t=stoStorage.getProfile(this.currentProfile);t&&t.aliases&&t.aliases[e]&&(delete t.aliases[e],stoStorage.saveProfile(this.currentProfile,t),this.selectedKey===e&&(this.selectedKey=null),this.renderAliasGrid(),this.renderCommandChain(),this.updateChainActions(),this.setModified(!0),stoUI.showToast(H.t("alias_deleted",{aliasName:e}),"success"))},duplicateAlias(e){const t=stoStorage.getProfile(this.currentProfile);if(!t||!t.aliases||!t.aliases[e])return;const a=t.aliases[e];let i=e+"_copy",n=1;for(;t.aliases[i];)i=`${e}_copy${n}`,n++;t.aliases[i]={description:a.description+" (copy)",commands:a.commands},stoStorage.saveProfile(this.currentProfile,t),this.renderAliasGrid(),this.selectAlias(i),this.setModified(!0),stoUI.showToast(H.t("alias_created_from_template",{newAliasName:i}),"success")}};class ye{constructor(){this.store=Q,this.eventListeners=new Map,this.preferencesManager=new oe,this.autoSyncManager=new re,this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.boundHandleKeyUp=this.handleKeyUp.bind(this),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}get currentProfile(){return this.store.currentProfile}set currentProfile(e){this.store.currentProfile=e}get currentMode(){return this.store.currentMode}set currentMode(e){this.store.currentMode=e}get currentEnvironment(){return this.store.currentEnvironment}set currentEnvironment(e){this.store.currentEnvironment=e}get selectedKey(){return this.store.selectedKey}set selectedKey(e){this.store.selectedKey=e}get isModified(){return this.store.isModified}set isModified(e){this.store.isModified=e}get undoStack(){return this.store.undoStack}set undoStack(e){this.store.undoStack=e}get redoStack(){return this.store.redoStack}set redoStack(e){this.store.redoStack=e}get maxUndoSteps(){return this.store.maxUndoSteps}set maxUndoSteps(e){this.store.maxUndoSteps=e}get commandIdCounter(){return this.store.commandIdCounter}set commandIdCounter(e){this.store.commandIdCounter=e}async init(){try{if("undefined"==typeof stoStorage||"undefined"==typeof stoUI)throw new Error("Required dependencies not loaded");await this.loadData(),this.applyTheme(),await this.applyLanguage(),this.setupEventListeners(),this.setupCommandLibrary(),this.setupDragAndDrop(),this.preferencesManager.init(),this.autoSyncManager.init(),this.renderProfiles(),this.updateModeUI(),this.updateModeButtons();const e=localStorage.getItem("keyViewMode")||"key-types";this.updateViewToggleButton(e);const t=stoStorage.getSettings();this.updateThemeToggleButton(t.theme||"default"),this.isFirstTime()&&this.showWelcomeMessage(),stoUI.showToast(i18next.t("sto_tools_keybind_manager_loaded_successfully"),"success"),i.emit("sto-app-ready",{app:this})}catch(e){console.error("Failed to initialize application:",e),"undefined"!=typeof stoUI&&stoUI.showToast&&stoUI.showToast("undefined"!=typeof i18next?i18next.t("failed_to_load_application"):"Failed to load application","error"),i.emit("sto-app-error",{error:e})}}updateViewToggleButton(e){const t=document.getElementById("toggleKeyViewBtn");if(t){const a=t.querySelector("i");"categorized"===e?(a.className="fas fa-sitemap",t.title="Switch to key type view"):"key-types"===e?(a.className="fas fa-th",t.title="Switch to grid view"):(a.className="fas fa-list",t.title="Switch to command categories")}}toggleKeyView(){if("alias"===this.currentEnvironment)return;const e=localStorage.getItem("keyViewMode")||"key-types";let t;t="key-types"===e?"grid":"grid"===e?"categorized":"key-types",localStorage.setItem("keyViewMode",t),this.renderKeyGrid(),this.updateViewToggleButton(t)}saveCurrentBuild(){const e=stoStorage.getProfile(this.currentProfile),t=this.getCurrentProfile();e&&t&&(e.builds||(e.builds={space:{keys:{}},ground:{keys:{}}}),e.builds[this.currentEnvironment]={keys:t.keys||{}},stoStorage.saveProfile(this.currentProfile,e))}async confirmDeleteKey(e){await stoUI.confirm(i18next.t("confirm_delete_key",{keyName:e}),i18next.t("delete_key"),"danger")&&this.deleteKey(e)}async confirmClearChain(e){await stoUI.confirm(i18next.t("confirm_clear_commands",{keyName:e}),i18next.t("clear_commands"),"warning")&&(this.getCurrentProfile().keys[e]=[],this.saveCurrentBuild(),this.renderCommandChain(),this.renderKeyGrid(),this.setModified(!0),stoUI.showToast(i18next.t("commands_cleared_for_key",{keyName:e}),"success"))}isFirstTime(){return!localStorage.getItem("sto_keybind_manager_visited")}showWelcomeMessage(){localStorage.setItem("sto_keybind_manager_visited","true"),modalManager.show("aboutModal")}duplicateKey(e){const t=this.getCurrentProfile(),a=t.keys[e];if(!a||0===a.length)return void stoUI.showToast(i18next.t("no_commands_to_duplicate"),"warning");let i=e+"_copy",n=1;for(;t.keys[i];)i=`${e}_copy_${n}`,n++;const o=a.map(e=>({...e,id:this.generateCommandId()}));t.keys[i]=o,stoStorage.saveProfile(this.currentProfile,t),this.renderKeyGrid(),this.setModified(!0),stoUI.showToast(i18next.t("key_duplicated",{keyName:e,newKeyName:i}),"success")}showTemplateModal(){stoUI.showToast(i18next.t("template_system_coming_soon"))}validateCurrentChain(){if(!this.selectedKey)return void stoUI.showToast(i18next.t("no_key_selected"),"warning");const e=this.getCurrentProfile().keys[this.selectedKey]||[];if(0===e.length)return void stoUI.showToast(i18next.t("no_commands_to_validate"),"warning");const t=stoKeybinds.validateKeybind(this.selectedKey,e);if(t.valid)stoUI.showToast(i18next.t("command_chain_is_valid"),"success");else{const e="Validation errors:\n"+t.errors.join("\n");stoUI.showToast(i18next.t("error_message",{error:e}),"error",5e3)}}filterKeys(e){const t=e.toLowerCase();document.querySelectorAll(".key-item").forEach(a=>{const i=a.dataset.key.toLowerCase(),n=!e||i.includes(t);a.style.display=n?"flex":"none"}),document.querySelectorAll(".command-item[data-key]").forEach(a=>{const i=a.dataset.key.toLowerCase(),n=!e||i.includes(t);a.style.display=n?"flex":"none"}),document.querySelectorAll(".category").forEach(t=>{const a=t.querySelectorAll('.command-item[data-key]:not([style*="display: none"])'),i=!e||a.length>0;t.style.display=i?"block":"none"})}filterCommands(e){const t=document.querySelectorAll(".command-item"),a=e.toLowerCase();t.forEach(t=>{const i=t.textContent.toLowerCase(),n=!e||i.includes(a);t.style.display=n?"flex":"none"}),document.querySelectorAll(".category").forEach(t=>{const a=t.querySelectorAll('.command-item:not([style*="display: none"])'),i=!e||a.length>0;t.style.display=i?"block":"none"})}showAllKeys(){document.querySelectorAll(".key-item").forEach(e=>{e.style.display="flex"}),document.querySelectorAll(".command-item[data-key]").forEach(e=>{e.style.display="flex"}),document.querySelectorAll(".category").forEach(e=>{e.style.display="block"});const e=document.getElementById("keyFilter");e&&(e.value="")}toggleLibrary(){const e=document.getElementById("libraryContent"),t=document.getElementById("toggleLibraryBtn");if(e&&t){const a="none"===e.style.display;e.style.display=a?"block":"none";const i=t.querySelector("i");i&&(i.className=a?"fas fa-chevron-up":"fas fa-chevron-down")}}saveCommandFromModal(){if(!this.selectedKey)return void stoUI.showToast(i18next.t("please_select_a_key_first"),"warning");const e=stoCommands.getCurrentCommand();e?stoCommands.validateCommand(e).valid?(this.addCommand(this.selectedKey,e),modalManager.hide("addCommandModal")):stoUI.showToast(i18next.t("validation_error"),"error"):stoUI.showToast(i18next.t("please_configure_a_command"),"warning")}}Object.assign(ye.prototype,se,ce,le,de,me,_e,pe,ue,fe,he),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("appVersion");t&&(t.textContent=e);const a=document.getElementById("aboutVersion");a&&(a.textContent=e)});const ge=new class{constructor(){this.storageKey="sto_keybind_manager",this.backupKey="sto_keybind_manager_backup",this.settingsKey="sto_keybind_settings",this.version="1.0.0",this.init()}init(){this.migrateData(),this.ensureStorageStructure()}getAllData(){try{const e=localStorage.getItem(this.storageKey),t=localStorage.getItem("sto_app_reset");if(!e)return t?(localStorage.removeItem("sto_app_reset"),this.getEmptyData()):this.getDefaultData();const a=JSON.parse(e);return this.isValidDataStructure(a,!0)?a:this.getDefaultData()}catch(e){return console.error("Error loading data from storage:",e),this.getDefaultData()}}saveAllData(e){try{this.createBackup();const t={...e,version:this.version,lastModified:(new Date).toISOString(),lastBackup:(new Date).toISOString()};return localStorage.setItem(this.storageKey,JSON.stringify(t)),!0}catch(e){return console.error("Error saving data to storage:",e),!1}}getProfile(e){return this.getAllData().profiles[e]||null}saveProfile(e,t){const a=this.getAllData();return a.profiles[e]={...t,lastModified:(new Date).toISOString()},this.saveAllData(a)}deleteProfile(e){const t=this.getAllData();if(t.profiles[e]){if(delete t.profiles[e],t.currentProfile===e){const e=Object.keys(t.profiles);t.currentProfile=e.length>0?e[0]:null}return this.saveAllData(t)}return!1}getSettings(){try{const e=localStorage.getItem(this.settingsKey);if(!e)return this.getDefaultSettings();const t=JSON.parse(e);return{...this.getDefaultSettings(),...t}}catch(e){return console.error("Error loading settings:",e),this.getDefaultSettings()}}saveSettings(e){try{const t={...this.getSettings(),...e};return localStorage.setItem(this.settingsKey,JSON.stringify(t)),!0}catch(e){return console.error("Error saving settings:",e),!1}}createBackup(){try{const e=localStorage.getItem(this.storageKey);if(e){const t={data:e,timestamp:(new Date).toISOString(),version:this.version};localStorage.setItem(this.backupKey,JSON.stringify(t))}}catch(e){console.error("Error creating backup:",e)}}restoreFromBackup(){try{const e=localStorage.getItem(this.backupKey);if(e){const t=JSON.parse(e);return localStorage.setItem(this.storageKey,t.data),!0}}catch(e){console.error("Error restoring from backup:",e)}return!1}exportData(){const e=this.getAllData();return JSON.stringify(e,null,2)}importData(e){try{const t=JSON.parse(e);return!!this.isValidDataStructure(t)&&this.saveAllData(t)}catch(t){return t instanceof SyntaxError&&e.includes("invalid")||console.error("Error importing data:",t),!1}}clearAllData(){try{return localStorage.removeItem(this.storageKey),localStorage.removeItem(this.backupKey),localStorage.removeItem(this.settingsKey),localStorage.setItem("sto_app_reset","true"),!0}catch(e){return console.error("Error clearing data:",e),!1}}getStorageInfo(){try{const e=localStorage.getItem(this.storageKey)?.length||0,t=localStorage.getItem(this.backupKey)?.length||0,a=localStorage.getItem(this.settingsKey)?.length||0;return{totalSize:e+t+a,dataSize:e,backupSize:t,settingsSize:a,available:this.getAvailableStorage()}}catch(e){return console.error("Error getting storage info:",e),null}}getDefaultData(){return{version:this.version,created:(new Date).toISOString(),lastModified:(new Date).toISOString(),currentProfile:"default_space",profiles:{default_space:{...STO_DATA.defaultProfiles.default_space},tactical_space:{...STO_DATA.defaultProfiles.tactical_space}},globalAliases:{},settings:this.getDefaultSettings()}}getEmptyData(){return{version:this.version,created:(new Date).toISOString(),lastModified:(new Date).toISOString(),currentProfile:null,profiles:{},globalAliases:{},settings:this.getDefaultSettings()}}getDefaultSettings(){return{theme:"default",autoSave:!0,showTooltips:!0,confirmDeletes:!0,maxUndoSteps:50,defaultMode:"space",compactView:!1,language:this.detectBrowserLanguage(),syncFolderName:null,syncFolderPath:null,autoSync:!1,autoSyncInterval:"change"}}detectBrowserLanguage(){try{if("undefined"==typeof navigator)return"en";const e=navigator.languages&&navigator.languages[0]||navigator.language;if(!e)return"en";const t=e.toLowerCase().split(/[-_]/)[0];return["en","de","es","fr"].includes(t)?t:"en"}catch(e){return console.error("Error detecting browser language:",e),"en"}}isValidDataStructure(e,t=!1){if(!e||"object"!=typeof e)return!1;const a=["profiles","currentProfile"];for(const t of a)if(!(t in e))return!1;if("object"!=typeof e.profiles)return!1;for(const[a,i]of Object.entries(e.profiles)){const e=this.isValidProfile(i),a=t&&this.needsProfileMigration(i);if(!e&&!a)return!1}return!0}isValidProfile(e){if(!e||"object"!=typeof e)return!1;if(!e.name)return!1;if(e.builds&&"object"==typeof e.builds){const t=e.builds;if(!t.space&&!t.ground)return!1;for(const[e,a]of Object.entries(t))if("space"===e||"ground"===e){if(!a||"object"!=typeof a)return!1;if(!a.keys||"object"!=typeof a.keys)return!1}return!0}return!(!e.mode||!e.keys||"object"!=typeof e.keys)}ensureStorageStructure(){const e=this.getAllData();e.globalAliases||(e.globalAliases={}),e.settings||(e.settings=this.getDefaultSettings()),0===Object.keys(e.profiles).length&&null!==e.currentProfile&&(e.profiles={default_space:{...STO_DATA.defaultProfiles.default_space}},e.currentProfile="default_space"),Object.keys(e.profiles).length>0&&!e.profiles[e.currentProfile]&&(e.currentProfile=Object.keys(e.profiles)[0]),this.saveAllData(e)}migrateData(){const e=this.getAllData();let t=!1;e.version!==this.version&&(console.log(`Migrating data from ${e.version} to ${this.version}`),t=!0);for(const[a,i]of Object.entries(e.profiles))this.needsProfileMigration(i)&&(console.log(`Migrating profile "${i.name}" from old format to new format`),e.profiles[a]=this.migrateProfile(i),t=!0);t&&(e.version=this.version,this.saveAllData(e),console.log("Data migration completed"))}needsProfileMigration(e){return e&&e.mode&&e.keys&&!e.builds}migrateProfile(e){console.log(`Migrating profile: ${e.name}`);const t={name:e.name,description:e.description||"",currentEnvironment:this.mapOldModeToEnvironment(e.mode),builds:{space:{keys:{}},ground:{keys:{}}},aliases:e.aliases||{},keybindMetadata:e.keybindMetadata||{},created:e.created||(new Date).toISOString(),lastModified:(new Date).toISOString()},a=this.mapOldModeToEnvironment(e.mode);if(t.builds[a].keys=e.keys||{},e.keybindMetadata&&"object"==typeof e.keybindMetadata){const i=e.keybindMetadata.space||e.keybindMetadata.ground;t.keybindMetadata=i?e.keybindMetadata:{[a]:e.keybindMetadata}}return t}mapOldModeToEnvironment(e){if(!e)return"space";const t=("string"==typeof e?e:String(e)).toLowerCase();return"ground"===t||"ground mode"===t?"ground":"space"}getAvailableStorage(){try{let e="storage_test",t="0",a=0,i=0,n=10485760;for(;i<=n;){let o=Math.floor((i+n)/2);t="0".repeat(o);try{localStorage.setItem(e,t),localStorage.removeItem(e),a=o,i=o+1}catch(e){n=o-1}}return a}catch(e){return 0}}loadDefaultData(){const e=this.getDefaultData();return this.saveAllData(e)}},be=ge.getSettings();(async()=>{function e(e=document){e.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n"),a=e.getAttribute("data-i18n-attr");if(!t)return;const i=H.t(t);a?e.setAttribute(a,i):e.textContent=i}),e.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const t=e.getAttribute("data-i18n-placeholder");t&&e.setAttribute("placeholder",H.t(t))}),e.querySelectorAll("[data-i18n-title]").forEach(e=>{const t=e.getAttribute("data-i18n-title");t&&e.setAttribute("title",H.t(t))}),e.querySelectorAll("[data-i18n-alt]").forEach(e=>{const t=e.getAttribute("data-i18n-alt");t&&e.setAttribute("alt",H.t(t))})}await H.init({lng:be.language||"en",fallbackLng:"en",resources:{en:{translation:Z},de:{translation:X},fr:{translation:J},es:{translation:Y}}}),window.i18next=H,window.localizeCommandData&&window.localizeCommandData(),window.applyTranslations=e,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e()):e()})();const ve=new class{constructor(){this.currentModal=null,this.languageListenersSetup=!1,this.eventListenersSetup=!1}init(){this.setupEventListeners()}setupEventListeners(){if(this.eventListenersSetup)return;this.eventListenersSetup=!0;const e=document.getElementById("profileSelect");if(e&&e.addEventListener("change",e=>{app.switchProfile(e.target.value)}),i.onDom("newProfileBtn","click","profile-new",()=>{this.showNewProfileModal()}),i.onDom("cloneProfileBtn","click","profile-clone",()=>{this.showCloneProfileModal()}),i.onDom("renameProfileBtn","click","profile-rename",()=>{this.showRenameProfileModal()}),i.onDom("deleteProfileBtn","click","profile-delete",()=>{this.confirmDeleteProfile()}),i.onDom("saveProfileBtn","click","profile-save",()=>{this.handleProfileSave()}),i.onDom("settingsBtn","click","settings-menu",e=>{e.stopPropagation(),this.toggleSettingsMenu()}),i.onDom("importMenuBtn","click","import-menu",e=>{e.stopPropagation(),this.toggleImportMenu()}),i.onDom("backupMenuBtn","click","backup-menu",e=>{e.stopPropagation(),this.toggleBackupMenu()}),i.on("project-open",()=>this.closeBackupMenu()),i.on("project-save",()=>this.closeBackupMenu()),i.onDom("importKeybindsBtn","click","keybinds-import",()=>{this.importKeybinds(),this.closeImportMenu()}),i.onDom("importAliasesBtn","click","aliases-import",()=>{this.importAliases(),this.closeImportMenu()}),i.onDom("loadDefaultDataBtn","click","load-default-data",()=>{this.loadDefaultData(),this.closeSettingsMenu()}),i.onDom("resetAppBtn","click","reset-app",()=>{this.confirmResetApp(),this.closeSettingsMenu()}),i.onDom("syncNowBtn","click","sync-now",()=>{stoSync.syncProject(),this.closeSettingsMenu()}),i.onDom("aboutBtn","click","about-open",()=>{modalManager.show("aboutModal")}),i.onDom("themeToggleBtn","click","theme-toggle",()=>{app.toggleTheme(),this.closeSettingsMenu()}),i.onDom("preferencesBtn","click","preferences-open",()=>{"undefined"!=typeof app&&app.preferencesManager?app.preferencesManager.showPreferences():modalManager.show("preferencesModal"),this.closeSettingsMenu()}),i.onDom("languageMenuBtn","click","language-menu",e=>{e.stopPropagation(),this.toggleLanguageMenu()}),!this.languageListenersSetup){const e=document.querySelectorAll(".language-option");e.length>0?(e.forEach(e=>{i.onDom(e,"click","language-change",e=>{const t=e.currentTarget.dataset.lang;t&&app.changeLanguage(t),this.closeLanguageMenu()})}),this.languageListenersSetup=!0):(console.warn("Language option elements not found during setup"),setTimeout(()=>{if(!this.languageListenersSetup){const e=document.querySelectorAll(".language-option");e.length>0?(e.forEach(e=>{i.onDom(e,"click","language-change",e=>{const t=e.currentTarget.dataset.lang;t&&app.changeLanguage(t),this.closeLanguageMenu()})}),this.languageListenersSetup=!0):console.error("Language option elements still not found after retry")}},1e3))}document.addEventListener("click",()=>{this.closeSettingsMenu(),this.closeImportMenu(),this.closeBackupMenu(),this.closeLanguageMenu()})}showNewProfileModal(){document.getElementById("profileModal");const e=document.getElementById("profileModalTitle"),t=document.getElementById("profileName"),a=document.getElementById("profileDescription");e&&(e.textContent=i18next.t("new_profile")),t&&(t.value="",t.placeholder="Enter profile name"),a&&(a.value=""),this.currentModal="new",modalManager.show("profileModal")}showCloneProfileModal(){const e=app.getCurrentProfile();if(!e)return void stoUI.showToast(i18next.t("no_profile_selected_to_clone"),"warning");document.getElementById("profileModal");const t=document.getElementById("profileModalTitle"),a=document.getElementById("profileName"),i=document.getElementById("profileDescription");t&&(t.textContent=i18next.t("clone_profile")),a&&(a.value=`${e.name} Copy`,a.placeholder="Enter new profile name"),i&&(i.value=`Copy of ${e.name}`),this.currentModal="clone",modalManager.show("profileModal")}showRenameProfileModal(){const e=app.getCurrentProfile();if(!e)return void stoUI.showToast(i18next.t("no_profile_selected_to_rename"),"warning");document.getElementById("profileModal");const t=document.getElementById("profileModalTitle"),a=document.getElementById("profileName"),i=document.getElementById("profileDescription");t&&(t.textContent=i18next.t("rename_profile")),a&&(a.value=e.name,a.placeholder="Enter profile name"),i&&(i.value=e.description||""),this.currentModal="rename",modalManager.show("profileModal")}handleProfileSave(){const e=document.getElementById("profileName"),t=document.getElementById("profileDescription");if(!e)return;const a=e.value.trim(),i=t?.value.trim()||"";if(!a)return stoUI.showToast(i18next.t("profile_name_is_required"),"error"),void e.focus();if(a.length>50)return stoUI.showToast(i18next.t("profile_name_too_long"),"error"),void e.focus();const n=stoStorage.getAllData();if(Object.values(n.profiles).find(e=>e.name.toLowerCase()===a.toLowerCase()&&("rename"!==this.currentModal||e.name!==app.getCurrentProfile()?.name)))return stoUI.showToast(i18next.t("profile_name_already_exists"),"error"),void e.focus();try{switch(this.currentModal){case"new":this.createNewProfile(a,i);break;case"clone":this.cloneCurrentProfile(a,i);break;case"rename":this.renameCurrentProfile(a,i)}modalManager.hide("profileModal"),this.currentModal=null}catch(e){stoUI.showToast(i18next.t("failed_to_save_profile",{error:e.message}),"error")}}createNewProfile(e,t){const a=app.generateProfileId(e),i={name:e,description:t,mode:"space",keys:{},aliases:{},created:(new Date).toISOString(),lastModified:(new Date).toISOString()};if(!stoStorage.saveProfile(a,i))throw new Error("Failed to save profile");app.switchProfile(a),app.renderProfiles(),stoUI.showToast(i18next.t("profile_created",{name:e}),"success")}cloneCurrentProfile(e,t){const a=app.getCurrentProfile();if(!a)throw new Error("No profile to clone");const i=app.generateProfileId(e),n={...JSON.parse(JSON.stringify(a)),name:e,description:t,created:(new Date).toISOString(),lastModified:(new Date).toISOString()};if(!stoStorage.saveProfile(i,n))throw new Error("Failed to save cloned profile");app.switchProfile(i),app.renderProfiles(),stoUI.showToast(i18next.t("profile_created_from_current",{name:e,currentProfile:a.name}),"success")}renameCurrentProfile(e,t){const a=app.getCurrentProfile();if(!a)throw new Error("No profile to rename");const i=a.name;if(a.name=e,a.description=t,a.lastModified=(new Date).toISOString(),!stoStorage.saveProfile(Q.currentProfile,a))throw new Error("Failed to save renamed profile");app.renderProfiles(),app.setModified(!0),stoUI.showToast(i18next.t("profile_renamed",{oldName:i,name:e}),"success")}async confirmDeleteProfile(){const e=app.getCurrentProfile();if(!e)return void stoUI.showToast(i18next.t("no_profile_selected_to_delete"),"warning");const t=stoStorage.getAllData();Object.keys(t.profiles).length<=1?stoUI.showToast(i18next.t("cannot_delete_the_last_profile"),"warning"):await stoUI.confirm(i18next.t("confirm_delete_profile",{profileName:e.name}),i18next.t("delete_profile"),"danger")&&this.deleteCurrentProfile()}deleteCurrentProfile(){const e=app.getCurrentProfile();if(!e)return;const t=e.name;app.deleteProfile(app.currentProfile)?stoUI.showToast(i18next.t("profile_deleted",{profileName:t}),"success"):stoUI.showToast(i18next.t("failed_to_delete_profile"),"error")}toggleSettingsMenu(){const e=document.getElementById("settingsBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.toggle("active")}}closeSettingsMenu(){const e=document.getElementById("settingsBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.remove("active")}}toggleImportMenu(){this.closeSettingsMenu();const e=document.getElementById("importMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.toggle("active")}}closeImportMenu(){const e=document.getElementById("importMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.remove("active")}}toggleBackupMenu(){this.closeSettingsMenu();const e=document.getElementById("backupMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.toggle("active")}}closeBackupMenu(){const e=document.getElementById("backupMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.remove("active")}}toggleLanguageMenu(){const e=document.getElementById("languageMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.toggle("active")}}closeLanguageMenu(){const e=document.getElementById("languageMenuBtn");if(e){const t=e.closest(".dropdown");t&&t.classList.remove("active")}}importKeybinds(){const e=document.getElementById("fileInput");e&&(e.accept=".txt",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{stoKeybinds.importKeybindFile(e.target.result)}catch(e){stoUI.showToast(i18next.t("failed_to_import_keybind_file_generic",{error:e.message}),"error")}},e.readAsText(t)}e.target.value=""},e.click())}exportKeybinds(){const e=app.getCurrentProfile();e?e.keys&&0!==Object.keys(e.keys).length?stoExport.exportSTOKeybindFile(e):stoUI.showToast(i18next.t("no_keybinds_to_export"),"warning"):stoUI.showToast(i18next.t("no_profile_selected_to_export"),"warning")}importAliases(){const e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=e.target.result;stoKeybinds.importAliasFile(t),window.stoAliases&&"function"==typeof window.stoAliases.renderAliasList&&window.stoAliases.renderAliasList()}catch(e){stoUI.showToast(i18next.t("failed_to_import_aliases_generic",{error:e.message}),"error")}},e.readAsText(t)}},e.click()}exportAliases(){const e=app.getCurrentProfile();e?e.aliases&&0!==Object.keys(e.aliases).length?stoExport.exportAliases(e):stoUI.showToast(i18next.t("no_aliases_to_export"),"warning"):stoUI.showToast(i18next.t("no_profile_selected_to_export"),"warning")}async confirmResetApp(){await stoUI.confirm(i18next.t("confirm_reset_application"),i18next.t("reset_application"),"danger")&&this.resetApplication()}resetApplication(){try{stoStorage.clearAllData(),app.currentProfile=null,app.selectedKey=null,app.setModified(!1),app.renderProfiles(),app.renderKeyGrid(),app.renderCommandChain(),app.updateProfileInfo(),stoUI.showToast(i18next.t("application_reset_successfully"),"success")}catch(e){stoUI.showToast(i18next.t("failed_to_reset_application",{error:e.message}),"error")}}loadDefaultData(){try{if(stoStorage.loadDefaultData()){const e=stoStorage.getAllData();app.currentProfile=e.currentProfile,app.selectedKey=null,app.setModified(!1),app.renderProfiles(),app.renderKeyGrid(),app.renderCommandChain(),app.updateProfileInfo(),stoUI.showToast(i18next.t("default_demo_data_loaded"),"success")}else stoUI.showToast(i18next.t("failed_to_load_default_data"),"error")}catch(e){stoUI.showToast(i18next.t("failed_to_load_default_data_with_error",{error:e.message}),"error")}}getProfileAnalysis(e){const t={keyCount:Object.keys(e.keys).length,commandCount:0,aliasCount:Object.keys(e.aliases||{}).length,commandTypes:{},keyTypes:{function:0,number:0,letter:0,special:0,modifier:0},complexity:"Simple",recommendations:[]};return Object.entries(e.keys).forEach(([e,a])=>{t.commandCount+=a.length,/^F\d+$/.test(e)?t.keyTypes.function++:/^\d+$/.test(e)?t.keyTypes.number++:/^[A-Z]$/.test(e)?t.keyTypes.letter++:e.includes("+")?t.keyTypes.modifier++:t.keyTypes.special++,a.forEach(e=>{t.commandTypes[e.type]=(t.commandTypes[e.type]||0)+1})}),t.commandCount>50?t.complexity="Complex":t.commandCount>20&&(t.complexity="Moderate"),this.generateRecommendations(t,e),t}generateRecommendations(e,t){const a=[];e.commandTypes.targeting||e.commandTypes.combat||a.push({type:"setup",title:"Add Basic Combat Commands",description:"Consider adding targeting and firing commands for basic combat functionality.",priority:"high"}),e.commandTypes.power||a.push({type:"defensive",title:"Add Defensive Abilities",description:"Add shield management commands like shield distribution and shield routing.",priority:"medium"}),e.keyTypes.modifier<3&&e.keyCount>10&&a.push({type:"efficiency",title:"Use Modifier Keys",description:"Consider using Ctrl+, Alt+, and Shift+ combinations to access more commands efficiently.",priority:"low"}),0===e.aliasCount&&e.commandCount>15&&a.push({type:"organization",title:i18next.t("create_command_aliases"),description:"Use aliases to group related commands and simplify complex sequences.",priority:"medium"});const i=["FireAll","target_nearest_enemy","+fullimpulse"],n=Object.values(t.keys).some(e=>e.some(e=>i.some(t=>e.command.includes(t))));"ground"===t.mode&&n&&a.push({type:"mode",title:"Check Profile Mode",description:"This profile contains space combat commands but is set to ground mode.",priority:"medium"}),e.recommendations=a}getProfileTemplates(){return{basic_space:{name:"Basic Space Combat",description:"Essential space combat keybinds for new players",mode:"space",keys:{Space:[{command:"target_nearest_enemy",type:"targeting",icon:"🎯",text:"Target nearest enemy"},{command:"FireAll",type:"combat",icon:"🔥",text:"Fire all weapons"}],Tab:[{command:"target_nearest_friend",type:"targeting",icon:"🤝",text:"Target nearest friend"}],F1:[{command:"target_self",type:"targeting",icon:"👤",text:"Target self"},{command:"+power_exec Distribute_Shields",type:"power",icon:"🛡️",text:"Distribute shields"}]},aliases:{}},advanced_tactical:{name:"Advanced Tactical",description:"Comprehensive DPS-focused space build",mode:"space",keys:{Space:[{command:"target_nearest_enemy",type:"targeting",icon:"🎯",text:"Target nearest enemy"},{command:"+STOTrayExecByTray 0 0",type:"tray",icon:"⚡",text:"Execute Tray 1 Slot 1"},{command:"FireAll",type:"combat",icon:"🔥",text:"Fire all weapons"}],1:[{command:"+STOTrayExecByTray 1 0",type:"tray",icon:"⚡",text:"Execute Tray 2 Slot 1"}],2:[{command:"+STOTrayExecByTray 1 1",type:"tray",icon:"⚡",text:"Execute Tray 2 Slot 2"}],F1:[{command:"target_self",type:"targeting",icon:"👤",text:"Target self"}],F2:[{command:"target_self",type:"targeting",icon:"👤",text:"Target self"}]},aliases:{AlphaStrike:{name:"AlphaStrike",commands:"target_nearest_enemy $$ +STOTrayExecByTray 0 0 $$ +STOTrayExecByTray 0 1",description:"Full alpha strike sequence"}}},ground_combat:{name:"Ground Combat",description:"Ground combat and away team keybinds",mode:"ground",keys:{Space:[{command:"target_nearest_enemy",type:"targeting",icon:"🎯",text:"Target nearest enemy"},{command:"+STOTrayExecByTray 0 0",type:"tray",icon:"⚡",text:"Primary attack"}],1:[{command:"+STOTrayExecByTray 0 1",type:"tray",icon:"⚡",text:"Secondary attack"}],2:[{command:"+STOTrayExecByTray 0 2",type:"tray",icon:"⚡",text:"Kit ability 1"}],F1:[{command:"target_self",type:"targeting",icon:"👤",text:"Target self"},{command:"+STOTrayExecByTray 1 0",type:"tray",icon:"💊",text:"Heal self"}]},aliases:{}}}}createProfileFromTemplate(e){const t=this.getProfileTemplates()[e];if(!t)return void stoUI.showToast(i18next.t("template_not_found"),"error");let a=t.name,i=1;const n=stoStorage.getAllData();for(;Object.values(n.profiles).some(e=>e.name===a);)a=`${t.name} ${i}`,i++;const o=app.generateProfileId(a),r={...t,name:a,created:(new Date).toISOString(),lastModified:(new Date).toISOString()};Object.values(r.keys).forEach(e=>{e.forEach(e=>{e.id=app.generateCommandId()})}),stoStorage.saveProfile(o,r)?(app.switchProfile(o),app.renderProfiles(),stoUI.showToast(i18next.t("profile_created_from_template_generic",{profileName:a}),"success")):stoUI.showToast(i18next.t("failed_to_create_profile_from_template"),"error")}exportProfile(e){const t=stoStorage.getProfile(e);if(!t)return void stoUI.showToast(i18next.t("profile_not_found"),"error");const a={version:"1.0.0",exported:(new Date).toISOString(),profile:t},i=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download=`${t.name.replace(/[^a-zA-Z0-9]/g,"_")}_profile.json`,o.click(),URL.revokeObjectURL(n),stoUI.showToast(i18next.t("profile_exported",{profileName:t.name}),"success")}async importProfile(e){try{const t=JSON.parse(e);if(!t.profile)throw new Error("Invalid profile file format");const a=t.profile;let i=a.name,n=1;const o=stoStorage.getAllData();for(;Object.values(o.profiles).some(e=>e.name===i);)i=`${a.name} (${n})`,n++;a.name=i,a.imported=(new Date).toISOString(),a.lastModified=(new Date).toISOString();const r=app.generateProfileId(i);if(stoStorage.saveProfile(r,a))return app.renderProfiles(),stoUI.showToast(i18next.t("profile_imported_successfully",{profileName:i}),"success"),!0;throw new Error("Failed to save imported profile")}catch(e){return stoUI.showToast(i18next.t("failed_to_import_profile",{error:e.message}),"error"),!1}}},ke=new class{constructor(){this.keybindPatterns={standard:/^([a-zA-Z0-9_+\-\s\[\]]+)\s+"([^"]*)"(?:\s+"([^"]*)")?$/,bind:/^\/bind\s+([a-zA-Z0-9_+\-\s\[\]]+)\s+(.+)$/,alias:/^alias\s+([a-zA-Z_][a-zA-Z0-9_]*)\s+(?:"([^"]+)"|<&\s+(.+?)\s+&>)$/,comment:/^[#;].*$/},this.validKeys=this.generateValidKeys()}init(){this.setupEventListeners()}generateValidKeys(){const e=new Set;for(let t=1;t<=12;t++)e.add(`F${t}`);for(let t=0;t<=9;t++)e.add(t.toString());for(let t=65;t<=90;t++)e.add(String.fromCharCode(t));["Space","Tab","Enter","Escape","Backspace","Delete","Insert","Home","End","PageUp","PageDown","Up","Down","Left","Right","NumPad0","NumPad1","NumPad2","NumPad3","NumPad4","NumPad5","NumPad6","NumPad7","NumPad8","NumPad9","NumPadEnter","NumPadPlus","NumPadMinus","NumPadMultiply","NumPadDivide","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","divide","multiply","Button4","Button5","Button6","Button7","Button8","Lbutton","Rbutton","Mbutton","Leftdrag","Rightdrag","Middleclick","Mousechord","Wheelplus","Wheelminus","Semicolon","Equals","Comma","Minus","Period","Slash","Grave","LeftBracket","Backslash","RightBracket","Quote","[","]"].forEach(t=>e.add(t));const t=Array.from(e);return["Ctrl","Alt","Shift","Control"].forEach(a=>{t.forEach(t=>{e.add(`${a}+${t}`)})}),e.add("Ctrl+Alt"),e.add("Ctrl+Shift"),e.add("Alt+Shift"),e.add("Control+Alt"),e.add("Control+Shift"),t.forEach(t=>{e.add(`Ctrl+Alt+${t}`),e.add(`Ctrl+Shift+${t}`),e.add(`Alt+Shift+${t}`),e.add(`Control+Alt+${t}`),e.add(`Control+Shift+${t}`)}),Array.from(e).sort()}parseKeybindFile(e){const t=e.split("\n"),a={keybinds:{},aliases:{},comments:[],errors:[]};return t.forEach((e,t)=>{const i=e.trim();if(i)try{if(this.keybindPatterns.comment.test(i))a.comments.push({line:t+1,content:i});else if(this.keybindPatterns.alias.test(i)){const e=i.match(this.keybindPatterns.alias);if(e){const[,i,n,o]=e,r=n||o;a.aliases[i]={name:i,commands:r,line:t+1}}}else if(this.keybindPatterns.standard.test(i)){const e=i.match(this.keybindPatterns.standard);if(e){const[,i,n,o]=e,r=this.parseCommandString(n);a.keybinds[i]={key:i,commands:r,line:t+1,raw:n,optionalParam:o||null}}}else if(this.keybindPatterns.bind.test(i)){const e=i.match(this.keybindPatterns.bind);if(e){const[,i,n]=e,o=n.replace(/^"(.*)"$/,"$1"),r=this.parseCommandString(o);a.keybinds[i]={key:i,commands:r,line:t+1,raw:o}}}else a.errors.push({line:t+1,content:i,error:"Invalid keybind format"})}catch(e){a.errors.push({line:t+1,content:i,error:e.message})}}),a}generateMirroredCommandString(e){if(!e||e.length<=1)return e.map(e=>e.command||e).join(" $$ ");const t=e.map(e=>e.command||e),a=[...t].reverse().slice(1);return[...t,...a].join(" $$ ")}detectAndUnmirrorCommands(e){if(!e||"string"!=typeof e)return{isMirrored:!1,originalCommands:[]};const t=e.split(" $$ ").map(e=>e.trim()).filter(e=>e);if(t.length<=1)return{isMirrored:!1,originalCommands:t};if(t.length<3||t.length%2==0)return{isMirrored:!1,originalCommands:t};const a=Math.floor(t.length/2),i=t.slice(0,a+1),n=t.slice(a+1),o=i.slice(0,-1).reverse();return n.length===o.length&&n.every((e,t)=>e===o[t])?{isMirrored:!0,originalCommands:i}:{isMirrored:!1,originalCommands:t}}parseCommandString(e){return e.split("$$").map(e=>e.trim()).map((e,t)=>{const a={command:e,type:window.stoCommands?window.stoCommands.detectCommandType(e):"custom",icon:window.stoCommands?window.stoCommands.getCommandIcon(e):"⚙️",text:window.stoCommands?window.stoCommands.getCommandText(e):e,id:`imported_${Date.now()}_${t}`};if(e.includes("+STOTrayExecByTray")){const t=e.match(/\+STOTrayExecByTray\s+(\d+)\s+(\d+)/);t&&(a.parameters={tray:parseInt(t[1]),slot:parseInt(t[2])},a.text=`Execute Tray ${parseInt(t[1])+1} Slot ${parseInt(t[2])+1}`)}else if(e.includes('"')){const t=e.match(/^(\w+)\s+"([^"]+)"$/);t&&(a.parameters={message:t[2]},a.text=`${a.text}: ${t[2]}`)}return a})}importKeybindFile(e){const t=stoStorage.getProfile(Q.currentProfile);if(!t)return stoUI.showToast(H.t("no_profile_selected_for_import"),"warning"),{success:!1,error:"No active profile"};try{const a=this.parseKeybindFile(e),i=Object.keys(a.keybinds).length;if(0===i)return stoUI.showToast(H.t("no_keybinds_found_in_file"),"warning"),{success:!1,error:"No keybinds found"};t.builds||(t.builds={space:{keys:{}},ground:{keys:{}}}),t.builds[Q.currentEnvironment]||(t.builds[Q.currentEnvironment]={keys:{}});const n=t.builds[Q.currentEnvironment].keys;Object.entries(a.keybinds).forEach(([e,a])=>{const i=a.commands.map(e=>e.command).join(" $$ "),o=this.detectAndUnmirrorCommands(i);if(o.isMirrored){n[e]=this.parseCommandString(o.originalCommands.join(" $$ "));const a=Q.currentEnvironment;t.keybindMetadata||(t.keybindMetadata={}),t.keybindMetadata[a]||(t.keybindMetadata[a]={}),t.keybindMetadata[a][e]={stabilizeExecutionOrder:!0}}else n[e]=a.commands}),stoStorage.saveProfile(Q.currentProfile,t),app.setModified(!0),app.renderKeyGrid();const o=H.t("import_completed_keybinds",{count:i});return Object.keys(a.aliases).length>0?stoUI.showToast(H.t("import_completed_keybinds_with_aliases",{keyCount:i,aliasCount:Object.keys(a.aliases).length}),"success"):stoUI.showToast(o,"success"),{success:!0,imported:{keys:i},errors:a.errors}}catch(e){return stoUI.showToast(H.t("failed_to_import_keybind_file",{error:e.message}),"error"),{success:!1,error:e.message}}}importAliasFile(e){if(!app.getCurrentProfile())return stoUI.showToast(H.t("no_profile_selected_for_import"),"warning"),{success:!1,error:"No active profile"};try{const t=this.parseKeybindFile(e),a=Object.keys(t.aliases).length;if(0===a)return stoUI.showToast(H.t("no_aliases_found_in_file"),"warning"),{success:!1,error:"No aliases found"};const i=stoStorage.getProfile(Q.currentProfile);return i?(i.aliases||(i.aliases={}),Object.entries(t.aliases).forEach(([e,t])=>{i.aliases[e]={commands:t.commands,description:t.description||""}}),stoStorage.saveProfile(Q.currentProfile,i),app.setModified(!0),window.stoAliases&&"function"==typeof window.stoAliases.updateCommandLibrary&&window.stoAliases.updateCommandLibrary(),stoUI.showToast(H.t("import_completed_aliases",{count:a}),"success"),{success:!0,imported:{aliases:a},errors:t.errors}):(stoUI.showToast(H.t("failed_to_get_profile_for_import"),"error"),{success:!1,error:"Profile not found"})}catch(e){return stoUI.showToast(H.t("import_failed",{error:e.message}),"error"),{success:!1,error:e.message}}}exportProfile(e){let t="";return t+=`# ${e.name} - ${e.mode} mode\n`,t+="# Generated by STO Tools Keybind Manager\n",t+=`# ${(new Date).toLocaleString()}\n\n`,t+="# Keybind Commands\n",Object.keys(e.keys).sort(this.compareKeys.bind(this)).forEach(a=>{const i=e.keys[a];if(i&&i.length>0){let n,o=!1;if(e.keybindMetadata){const t=e.mode||"space";e.keybindMetadata[t]&&e.keybindMetadata[t][a]&&(o=!!e.keybindMetadata[t][a].stabilizeExecutionOrder)}n=o&&i.length>1?this.generateMirroredCommandString(i):i.map(e=>e.command).join(" $$ "),t+=`${a} "${n}" ""\n`}else t+=`${a} "" ""\n`}),t}compareKeys(e,t){const a=e.match(/^F(\d+)$/),i=t.match(/^F(\d+)$/);if(a&&i)return parseInt(a[1])-parseInt(i[1]);if(a&&!i)return-1;if(!a&&i)return 1;const n=/^\d+$/.test(e),o=/^\d+$/.test(t);if(n&&o)return parseInt(e)-parseInt(t);if(n&&!o)return-1;if(!n&&o)return 1;const r=/^[A-Z]$/.test(e),s=/^[A-Z]$/.test(t);if(r&&s)return e.localeCompare(t);if(r&&!s)return-1;if(!r&&s)return 1;const c=["Space","Tab","Enter","Escape"],l=c.indexOf(e),d=c.indexOf(t);return-1!==l&&-1!==d?l-d:-1!==l&&-1===d?-1:-1===l&&-1!==d?1:e.localeCompare(t)}isValidKey(e){return!(!e||"string"!=typeof e)&&this.validKeys.some(t=>t.toLowerCase()===e.toLowerCase())}isValidAliasName(e){return STO_DATA.validation.aliasNamePattern.test(e)}validateKeybind(e,t){const a=[];return this.isValidKey(e)||a.push(`Invalid key name: ${e}`),t&&0!==t.length?t.forEach((e,t)=>{e.command&&0!==e.command.trim().length||a.push(`Command ${t+1} is empty`)}):a.push("At least one command is required"),t&&t.length>STO_DATA.validation.maxCommandsPerKey&&a.push(`Too many commands (max ${STO_DATA.validation.maxCommandsPerKey})`),{valid:0===a.length,errors:a}}suggestKeys(e=""){const t=e.toLowerCase();return this.validKeys.filter(e=>e.toLowerCase().includes(t)).slice(0,20)}getCommonKeys(){return["Space","Tab","Enter","F1","F2","F3","F4","F5","F6","F7","F8","1","2","3","4","5","6","7","8","9","0","Ctrl+1","Ctrl+2","Ctrl+3","Ctrl+4","Alt+1","Alt+2","Alt+3","Alt+4","Shift+1","Shift+2","Shift+3","Shift+4"]}setupEventListeners(){}handleKeybindFileImport(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{try{this.importKeybindFile(e.target.result)}catch(e){stoUI.showToast(H.t("failed_to_import_keybind_file",{error:e.message}),"error")}},a.readAsText(t),e.target.value=""}generateKeybindId(){return"keybind_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}cloneKeybind(e){return JSON.parse(JSON.stringify(e))}getProfileStats(e){const t={totalKeys:Object.keys(e.keys).length,totalCommands:0,totalAliases:Object.keys(e.aliases||{}).length,commandTypes:{},mostUsedCommands:{}};return Object.values(e.keys).forEach(e=>{t.totalCommands+=e.length,e.forEach(e=>{t.commandTypes[e.type]=(t.commandTypes[e.type]||0)+1,t.mostUsedCommands[e.command]=(t.mostUsedCommands[e.command]||0)+1})}),t}},xe=new class{constructor(){this.currentAlias=null}init(){this.setupEventListeners(),this.updateCommandLibrary()}setupEventListeners(){i.onDom("newAliasBtn","click","alias-new",()=>{this.showEditAliasModal()}),i.onDom("saveAliasBtn","click","alias-save",()=>{this.saveAlias()}),document.addEventListener("input",e=>{["aliasName","aliasCommands","aliasDescription"].includes(e.target.id)&&this.updateAliasPreview()}),document.addEventListener("click",e=>{if(e.target.classList.contains("insert-target-btn")||e.target.closest(".insert-target-btn")){e.preventDefault();const t=(e.target.classList.contains("insert-target-btn")?e.target:e.target.closest(".insert-target-btn")).closest(".textarea-with-button"),a=t?t.querySelector("textarea"):null;a&&this.insertTargetVariable(a)}})}showAliasManager(){this.renderAliasList(),modalManager.show("aliasManagerModal")}renderAliasList(){const e=document.getElementById("aliasList");if(!e)return;const t=app.getCurrentProfile();if(!t||!t.aliases)return void(e.innerHTML=`\n                <div class="empty-state">\n                    <i class="fas fa-mask"></i>\n                    <h4>${H.t("no_aliases")}</h4>\n                    <p>${H.t("create_aliases_hint")}</p>\n                </div>\n            `);const a=Object.entries(t.aliases);0!==a.length?(e.innerHTML=`\n            <div class="alias-grid">\n                ${a.map(([e,t])=>this.createAliasCard(e,t)).join("")}\n            </div>\n        `,e.querySelectorAll(".alias-card").forEach(e=>{const t=e.dataset.alias;e.querySelector(".edit-alias-btn")?.addEventListener("click",()=>{this.editAlias(t)}),e.querySelector(".delete-alias-btn")?.addEventListener("click",()=>{this.confirmDeleteAlias(t)}),e.querySelector(".use-alias-btn")?.addEventListener("click",()=>{this.useAlias(t)})})):e.innerHTML=`\n                <div class="empty-state">\n                    <i class="fas fa-mask"></i>\n                    <h4>${H.t("no_aliases")}</h4>\n                    <p>${H.t("create_aliases_hint")}</p>\n                </div>\n            `}createAliasCard(e,t){const a=t.commands.length>60?t.commands.substring(0,60)+"...":t.commands;return`\n            <div class="alias-card" data-alias="${e}">\n                <div class="alias-header">\n                    <h4>${e}</h4>\n                    <div class="alias-actions">\n                        <button class="btn btn-small-icon edit-alias-btn" title="Edit Alias">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-small-icon use-alias-btn" title="Add to Current Key">\n                            <i class="fas fa-plus"></i>\n                        </button>\n                        <button class="btn btn-small-icon btn-danger delete-alias-btn" title="Delete Alias">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </div>\n                </div>\n                <div class="alias-description">\n                    ${t.description||"No description"}\n                </div>\n                <div class="alias-commands">\n                    <code>${a}</code>\n                </div>\n                <div class="alias-usage">\n                    Usage: <code>${e}</code>\n                </div>\n            </div>\n        `}showEditAliasModal(e=null){const t=document.getElementById("editAliasTitle"),a=document.getElementById("aliasName"),i=document.getElementById("aliasDescription"),n=document.getElementById("aliasCommands");if(e){const o=app.getCurrentProfile().aliases[e];t&&(t.textContent=H.t("edit_alias")),a&&(a.value=e,a.disabled=!0),i&&(i.value=o.description||""),n&&(n.value=o.commands),this.currentAlias=e}else t&&(t.textContent=H.t("new_alias")),a&&(a.value="",a.disabled=!1),i&&(i.value=""),n&&(n.value=""),this.currentAlias=null;this.updateAliasPreview(),modalManager.hide("aliasManagerModal"),modalManager.show("editAliasModal")}editAlias(e){this.showEditAliasModal(e)}async confirmDeleteAlias(e){await stoUI.confirm(H.t("confirm_delete_alias",{aliasName:e}),H.t("delete_alias"),"danger")&&this.deleteAlias(e)}deleteAlias(e){const t=app.getCurrentProfile();t&&t.aliases&&t.aliases[e]&&(delete t.aliases[e],app.saveProfile(),app.setModified(!0),this.renderAliasList(),this.updateCommandLibrary(),stoUI.showToast(H.t("alias_deleted",{alias:e}),"success"))}useAlias(e){if(!Q.selectedKey)return void stoUI.showToast(H.t("please_select_a_key_first"),"warning");const t={command:e,type:"alias",icon:"🎭",text:`Alias: ${e}`,id:app.generateCommandId()};app.addCommand(Q.selectedKey,t),modalManager.hide("aliasManagerModal"),stoUI.showToast(H.t("alias_added_to_key",{alias:e,key:Q.selectedKey}),"success")}saveAlias(){const e=document.getElementById("aliasName"),t=document.getElementById("aliasDescription"),a=document.getElementById("aliasCommands");if(!e||!a)return;const i=e.value.trim(),n=t?.value.trim()||"",o=a.value.trim();if(!this.validateAlias(i,o).valid)return void stoUI.showToast(H.t("validation_error"),"error");const r=app.getCurrentProfile();if(!r)return void stoUI.showToast(H.t("no_active_profile"),"error");if(r.aliases||(r.aliases={}),!this.currentAlias&&r.aliases[i])return stoUI.showToast(H.t("alias_exists"),"error"),void e.focus();r.aliases[i]={name:i,description:n,commands:o,created:this.currentAlias?r.aliases[i]?.created:(new Date).toISOString(),lastModified:(new Date).toISOString()},app.saveProfile(),app.setModified(!0),this.updateCommandLibrary();const s=this.currentAlias?"updated":"created";stoUI.showToast(H.t(`alias_${s}`,{alias:i}),"success"),modalManager.hide("editAliasModal"),this.showAliasManager()}validateAlias(e,t){if(!e)return{valid:!1,error:"Alias name is required"};if(!STO_DATA.validation.aliasNamePattern.test(e))return{valid:!1,error:"Invalid alias name. Use only letters, numbers, and underscores. Must start with a letter."};if(e.length>30)return{valid:!1,error:"Alias name is too long (max 30 characters)"};if(["alias","bind","unbind","bind_load_file","bind_save_file"].includes(e.toLowerCase()))return{valid:!1,error:"This is a reserved command name"};if(!t)return{valid:!1,error:"Commands are required"};if(t.length>500)return{valid:!1,error:"Command sequence is too long (max 500 characters)"};if("undefined"!=typeof app&&app.getCurrentProfile){const a=app.getCurrentProfile();if(a&&a.aliases&&Object.keys(a.aliases).some(a=>t.includes(a)&&a!==e))return{valid:!1,error:"Potential circular reference detected"}}return{valid:!0}}updateAliasPreview(){const e=document.getElementById("aliasPreview"),t=document.getElementById("aliasName"),a=document.getElementById("aliasCommands");if(!e||!t||!a)return;const i=t.value.trim()||"AliasName",n=a.value.trim()||"command sequence";e.textContent=`alias ${i} <& ${n} &>`}updateCommandLibrary(){const e=app.getCurrentProfile();if(!e||!e.aliases)return;const t=document.getElementById("commandCategories");if(!t)return;const a=t.querySelector('[data-category="aliases"]');a&&a.remove();const i=t.querySelector('[data-category="vertigo-aliases"]');i&&i.remove();const n=Object.entries(e.aliases),o=n.filter(([e,t])=>!e.startsWith("dynFxSetFXExlusionList_")),r=n.filter(([e,t])=>e.startsWith("dynFxSetFXExlusionList_"));if(o.length>0){const e=this.createAliasCategoryElement(o,"aliases","command_aliases","fas fa-mask");t.appendChild(e)}if(r.length>0){const e=this.createAliasCategoryElement(r,"vertigo-aliases","vfx_aliases","fas fa-eye-slash");t.appendChild(e)}}createAliasCategoryElement(e,t="aliases",a="command_aliases",i="fas fa-mask"){const n=document.createElement("div");n.className="category",n.dataset.category=t;const o=`commandCategory_${t}_collapsed`,r="true"===localStorage.getItem(o),s="vertigo-aliases"===t,c=s?"👁️":"🎭",l=s?"command-item vertigo-alias-item":"command-item alias-item";return n.innerHTML=`\n            <h4 class="${r?"collapsed":""}" data-category="${t}">\n                <i class="fas fa-chevron-right category-chevron"></i>\n                <i class="${i}"></i> \n                ${H.t(a)}\n                <span class="command-count">(${e.length})</span>\n            </h4>\n            <div class="category-commands ${r?"collapsed":""}">\n                ${e.map(([e,t])=>`\n                    <div class="${l}" data-alias="${e}" title="${t.description||t.commands}">\n                        ${c} ${e}\n                    </div>\n                `).join("")}\n            </div>\n        `,n.querySelector("h4").addEventListener("click",()=>{this.toggleAliasCategory(t,n)}),n.addEventListener("click",e=>{if(e.target.classList.contains("alias-item")||e.target.classList.contains("vertigo-alias-item")){const t=e.target.dataset.alias;this.addAliasToKey(t)}}),n}toggleAliasCategory(e,t){const a=t.querySelector("h4"),i=t.querySelector(".category-commands"),n=a.querySelector(".category-chevron"),o=`commandCategory_${e}_collapsed`;i.classList.contains("collapsed")?(i.classList.remove("collapsed"),a.classList.remove("collapsed"),n.style.transform="rotate(90deg)",localStorage.setItem(o,"false")):(i.classList.add("collapsed"),a.classList.add("collapsed"),n.style.transform="rotate(0deg)",localStorage.setItem(o,"true"))}addAliasToKey(e){if(!Q.selectedKey)return void stoUI.showToast(H.t("please_select_a_key_first"),"warning");const t=app.getCurrentProfile().aliases[e];if(!t)return void stoUI.showToast(H.t("alias_not_found"),"error");const a={command:e,type:"alias",icon:"🎭",text:`Alias: ${e}`,description:t.description,id:app.generateCommandId()};app.addCommand(Q.selectedKey,a)}getAliasTemplates(){return{space_combat:{name:"Space Combat",description:"Aliases for space combat scenarios",templates:{AttackRun:{name:"AttackRun",description:"Full attack sequence with targeting",commands:"target_nearest_enemy $$ +STOTrayExecByTray 0 0 $$ +STOTrayExecByTray 0 1"},DefensiveMode:{name:"DefensiveMode",description:"Defensive abilities and shield management",commands:"target_self $$ +power_exec Distribute_Shields $$ +STOTrayExecByTray 2 0 $$ +STOTrayExecByTray 2 1"},HealSelf:{name:"HealSelf",description:"Self-healing sequence",commands:"target_self $$ +STOTrayExecByTray 3 0 $$ +STOTrayExecByTray 3 1"}}},ground_combat:{name:"Ground Combat",description:"Aliases for ground combat scenarios",templates:{GroundAttack:{name:"GroundAttack",description:"Basic ground combat sequence",commands:"target_nearest_enemy $$ +STOTrayExecByTray 0 0 $$ +STOTrayExecByTray 0 1"},GroundHeal:{name:"GroundHeal",description:"Ground healing sequence",commands:"target_self $$ +STOTrayExecByTray 1 0 $$ +STOTrayExecByTray 1 1"}}},communication:{name:"Communication",description:"Aliases for team communication",templates:{TeamReady:{name:"TeamReady",description:"Announce ready status to team",commands:"team Ready!"},NeedHealing:{name:"NeedHealing",description:"Request healing from team",commands:"team Need healing!"},Incoming:{name:"Incoming",description:"Warn team of incoming enemies",commands:"team Incoming enemies!"}}}}}createAliasFromTemplate(e,t){const a=this.getAliasTemplates(),i=a[e]?.templates?.[t];if(!i)return void stoUI.showToast(H.t("template_not_found"),"error");const n=app.getCurrentProfile();n.aliases&&n.aliases[i.name]?stoUI.showToast(H.t("alias_template_exists",{alias:i.name}),"warning"):(n.aliases||(n.aliases={}),n.aliases[i.name]={...i,created:(new Date).toISOString(),lastModified:(new Date).toISOString()},app.saveProfile(),app.setModified(!0),this.updateCommandLibrary(),this.renderAliasList(),stoUI.showToast(H.t("alias_created_from_template",{alias:i.name}),"success"))}getAliasUsage(e){const t=app.getCurrentProfile();if(!t)return[];const a=[];return Object.entries(t.keys).forEach(([t,i])=>{i.forEach((i,n)=>{(i.command===e||i.command.includes(e))&&a.push({type:"keybind",key:t,position:n+1,context:`Key "${t}", command ${n+1}`})})}),Object.entries(t.aliases||{}).forEach(([t,i])=>{t!==e&&i.commands.includes(e)&&a.push({type:"alias",alias:t,context:`Alias "${t}"`})}),a}insertTargetVariable(e){const t=e.selectionStart,a=e.value,i=a.slice(0,t)+"$Target"+a.slice(t);e.value=i,e.setSelectionRange(t+7,t+7),e.focus(),e.dispatchEvent(new Event("input",{bubbles:!0}))}},Se=new class{constructor(){this.exportFormats=null}init(){this.exportFormats={sto_keybind:H.t("sto_keybind_file_txt"),json_profile:H.t("json_profile_json"),json_project:H.t("complete_project_json"),csv_data:H.t("csv_data_csv"),html_report:H.t("html_report_html"),alias_file:H.t("alias_file_txt")},this.setupEventListeners()}setupEventListeners(){i.onDom("exportKeybindsBtn","click","exportKeybinds",()=>{this.showExportOptions()}),i.onDom("confirmExportBtn","click","export-confirm",()=>{this.performExport()}),i.onDom("copyPreviewBtn","click","copyPreview",()=>{this.copyCommandPreview()})}async showExportOptions(){app.getCurrentProfile()?stoUI.showModal("exportModal"):stoUI.showToast(H.t("no_profile_selected_to_export"),"warning")}populateExportModal(){const e=document.getElementById("exportModal");e&&"function"==typeof window.applyTranslations&&window.applyTranslations(e)}performExport(){const e=app.getCurrentProfile();if(!e)return void stoUI.showToast(H.t("no_profile_selected_to_export"),"warning");const t=document.getElementById("exportFormat"),a=t?t.value:"sto_keybind",i=document.getElementById("exportEnvironment"),n=i&&i.value?i.value:e.currentEnvironment||"space";switch(a){case"sto_keybind":this.exportSTOKeybindFile(e,n);break;case"json_profile":this.exportJSONProfile(e,n);break;case"json_project":this.exportCompleteProject();break;case"csv_data":this.exportCSVData(e,n);break;case"html_report":this.exportHTMLReport(e,n);break;case"alias_file":this.exportAliases(e)}stoUI.hideModal("exportModal")}exportSTOKeybindFile(e,t=e.currentEnvironment||"space"){try{const a=this.generateSTOKeybindFile(e,{environment:t});this.downloadFile(a,this.generateFileName(e,"txt",t),"text/plain"),stoUI.showToast(H.t("keybind_file_exported"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_keybind_file",{error:e.message}),"error")}}generateSTOKeybindFile(e,t={}){let a="";return a+=this.generateFileHeader(e,t.syncFilename),a+=this.generateKeybindSection(e.keys,{...t,profile:e,environment:t.environment||e.currentEnvironment||"space"}),a+=this.generateFileFooter(),a}generateFileHeader(e,t=null){const a=(new Date).toLocaleString();let i;"undefined"!=typeof stoKeybinds&&stoKeybinds.getProfileStats?i=stoKeybinds.getProfileStats(e):(i={totalKeys:Object.keys(e.keys||{}).length,totalCommands:0},Object.values(e.keys||{}).forEach(e=>{i.totalCommands+=e.length}));const n=t||this.generateFileName(e,"txt");return`; ================================================================\n; ${e.name} - STO Keybind Configuration\n; ================================================================\n; Mode: ${(e.currentEnvironment||"space").toUpperCase()}\n; Generated: ${a}\n; Created by: STO Tools Keybind Manager v${STO_DATA.settings.version}\n;\n; Keybind Statistics:\n; - Keys bound: ${i.totalKeys}\n; - Total commands: ${i.totalCommands}\n;\n; Note: Aliases are exported separately\n; To use this file in Star Trek Online:\n; 1. Save this file to your STO Live folder\n; 2. In game, type: /bind_load_file ${n}\n; ================================================================\n\n`}generateAliasSection(e){if(!e||0===Object.keys(e).length)return"";let t="; Command Aliases\n; ================================================================\n; Aliases allow you to create custom commands that execute\n; multiple commands in sequence. Use them in keybinds like any\n; other command.\n; ================================================================\n\n";return Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,a])=>{a.description&&(t+=`; ${a.description}\n`),t+=`alias ${e} <& ${a.commands} &>\n\n`}),t}generateKeybindSection(e,t={}){if(!e||0===Object.keys(e).length)return"; No keybinds defined\n\n";let a,i="; Keybind Commands\n; ================================================================\n; Each line binds a key to one or more commands.\n; Multiple commands are separated by $$";t.stabilizeExecutionOrder&&(i+="\n; EXECUTION ORDER STABILIZATION: ON\n; Commands are mirrored to ensure consistent execution order\n; Phase 1: left-to-right, Phase 2: right-to-left"),i+="\n; ================================================================\n\n",a="undefined"!=typeof stoKeybinds&&stoKeybinds.compareKeys?Object.keys(e).sort(stoKeybinds.compareKeys.bind(stoKeybinds)):Object.keys(e).sort(this.compareKeys.bind(this));const n=this.groupKeysByType(a,e);return Object.entries(n).forEach(([a,n])=>{0!==n.length&&(i+=`; ${a}\n`,i+=`; ${"-".repeat(a.length)}\n`,n.forEach(a=>{const n=e[a];if(n&&n.length>0){let e;const o=t.stabilizeExecutionOrder;let r=!1;if(t.profile&&t.profile.keybindMetadata&&t.environment&&t.profile.keybindMetadata[t.environment]){const e=t.profile.keybindMetadata[t.environment];r=!!(e&&e[a]&&e[a].stabilizeExecutionOrder)}e=(o||r)&&n.length>1&&stoKeybinds?stoKeybinds.generateMirroredCommandString(n):n.map(e=>e.command).join(" $$ "),i+=`${a} "${e}"\n`}}),i+="\n")}),i}compareKeys(e,t){const a=e.match(/^F(\d+)$/),i=t.match(/^F(\d+)$/);if(a&&i)return parseInt(a[1])-parseInt(i[1]);if(a&&!i)return-1;if(!a&&i)return 1;const n=/^\d+$/.test(e),o=/^\d+$/.test(t);if(n&&o)return parseInt(e)-parseInt(t);if(n&&!o)return-1;if(!n&&o)return 1;const r=/^[A-Z]$/.test(e),s=/^[A-Z]$/.test(t);if(r&&s)return e.localeCompare(t);if(r&&!s)return-1;if(!r&&s)return 1;const c=["Space","Tab","Enter","Escape"],l=c.indexOf(e),d=c.indexOf(t);return-1!==l&&-1!==d?l-d:-1!==l&&-1===d?-1:-1===l&&-1!==d?1:e.localeCompare(t)}groupKeysByType(e,t){const a={"Function Keys":[],"Number Keys":[],"Letter Keys":[],"Special Keys":[],"Modifier Combinations":[]};return e.forEach(e=>{/^F\d+$/.test(e)?a["Function Keys"].push(e):/^\d+$/.test(e)?a["Number Keys"].push(e):/^[A-Z]$/.test(e)?a["Letter Keys"].push(e):e.includes("+")?a["Modifier Combinations"].push(e):a["Special Keys"].push(e)}),a}generateFileFooter(){return"; ================================================================\n; End of keybind file\n; ================================================================\n; \n; Additional STO Commands Reference:\n; \n; Targeting:\n;   target_nearest_enemy    - Target closest hostile\n;   target_nearest_friend   - Target closest friendly\n;   target_self            - Target your own ship\n; \n; Combat:\n;   FireAll               - Fire all weapons\n;   FirePhasers          - Fire beam weapons only\n;   FireTorps            - Fire torpedo weapons only\n; \n; Shield Management:\n;   +power_exec <ability> - Execute bridge officer ability\n;   Examples: +power_exec Distribute_Shields \n; \n; Tray Execution:\n;   +STOTrayExecByTray <tray> <slot> - Execute ability from tray\n;   Example: +STOTrayExecByTray 0 0  (Tray 1, Slot 1)\n; \n; For more commands and help, visit the STO Wiki or community forums.\n; ================================================================\n"}exportJSONProfile(e,t=e.currentEnvironment||"space"){try{const a={version:STO_DATA.settings.version,exported:(new Date).toISOString(),type:"profile",profile:this.sanitizeProfileForExport(e)},i=JSON.stringify(a,null,2);this.downloadFile(i,this.generateFileName(e,"json",t),"application/json"),stoUI.showToast(H.t("profile_exported_json"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_profile",{error:e.message}),"error")}}exportCompleteProject(){try{const e=stoStorage.getAllData(),t={version:STO_DATA.settings.version,exported:(new Date).toISOString(),type:"project",data:e},a=JSON.stringify(t,null,2),i=`STO_Tools_Keybinds_Project_${(new Date).toISOString().split("T")[0]}.json`;this.downloadFile(a,i,"application/json"),stoUI.showToast(H.t("complete_project_exported"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_project",{error:e.message}),"error")}}exportCSVData(e,t=e.currentEnvironment||"space"){try{const a=this.generateCSVData(e);this.downloadFile(a,this.generateFileName(e,"csv",t),"text/csv"),stoUI.showToast(H.t("data_exported_csv"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_csv",{error:e.message}),"error")}}generateCSVData(e){let t=H.t("csv_header")+"\n";return Object.entries(e.keys).forEach(([e,a])=>{a.forEach((a,i)=>{const n=[this.escapeCSV(e),this.escapeCSV(a.command),this.escapeCSV(a.type),this.escapeCSV(a.text||""),i+1].join(",");t+=n+"\n"})}),t}escapeCSV(e){return"string"!=typeof e&&(e=String(e)),e.includes(",")||e.includes('"')||e.includes("\n")?'"'+e.replace(/"/g,'""')+'"':e}exportHTMLReport(e,t=e.currentEnvironment||"space"){try{const a=this.generateHTMLReport(e);this.downloadFile(a,this.generateFileName(e,"html",t),"text/html"),stoUI.showToast(H.t("html_report_exported"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_html_report",{error:e.message}),"error")}}generateHTMLReport(e){const t=stoKeybinds.getProfileStats(e),a=(new Date).toLocaleString();return`<!DOCTYPE html>\n<html lang="${H.language}">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>${e.name} - ${H.t("sto_keybind_report")}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }\n        .header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\n        .stats { background: #f5f5f5; padding: 20px; border-radius: 5px; margin-bottom: 30px; }\n        .keybind-group { margin-bottom: 30px; }\n        .keybind-group h3 { color: #333; border-bottom: 1px solid #ccc; padding-bottom: 5px; }\n        .keybind { margin-bottom: 15px; padding: 10px; background: #fafafa; border-left: 4px solid #007acc; }\n        .key { font-weight: bold; color: #007acc; }\n        .commands { margin-top: 5px; }\n        .command { display: inline-block; margin: 2px 5px 2px 0; padding: 2px 8px; background: #e0e0e0; border-radius: 3px; font-size: 0.9em; }\n        .command.targeting { background: #d4edda; }\n        .command.combat { background: #f8d7da; }\n        .command.tray { background: #cce5ff; }\n        .command.power { background: #fff3cd; }\n        .command.alias { background: #e2e3e5; }\n        .aliases { margin-top: 30px; }\n        .alias { margin-bottom: 15px; padding: 10px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 5px; }\n        .alias-name { font-weight: bold; color: #495057; }\n        .alias-commands { font-family: monospace; background: #e9ecef; padding: 5px; margin-top: 5px; border-radius: 3px; }\n    </style>\n</head>\n<body>\n    <div class="header">\n        <h1>${e.name}</h1>\n        <p><strong>${H.t("mode")}</strong> ${(e.currentEnvironment||"space").toUpperCase()}</p>\n        <p><strong>${H.t("generated")}</strong> ${a}</p>\n        <p><strong>${H.t("created_by")}</strong> STO Tools Keybind Manager v${STO_DATA.settings.version}</p>\n    </div>\n\n    <div class="stats">\n        <h2>${H.t("statistics")}</h2>\n        <ul>\n            <li><strong>${H.t("keys_bound")}</strong> ${t.totalKeys}</li>\n            <li><strong>${H.t("total_commands")}</strong> ${t.totalCommands}</li>\n            <li><strong>${H.t("aliases_defined")}</strong> ${t.totalAliases}</li>\n        </ul>\n    </div>\n\n    ${this.generateHTMLKeybindSection(e.keys)}\n    ${this.generateHTMLAliasSection(e.aliases)}\n\n    <div style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #ccc; color: #666; font-size: 0.9em;">\n        <p>${H.t("report_footer")}</p>\n    </div>\n</body>\n</html>`}generateHTMLKeybindSection(e){if(!e||0===Object.keys(e).length)return`<div class="keybind-group"><h2>${H.t("keybinds")}</h2><p>${H.t("no_keybinds_defined")}</p></div>`;const t=Object.keys(e).sort(stoKeybinds.compareKeys.bind(stoKeybinds)),a=this.groupKeysByType(t,e);let i=`<div class="keybind-group"><h2>${H.t("keybinds")}</h2>`;return Object.entries(a).forEach(([t,a])=>{0!==a.length&&(i+=`<h3>${t}</h3>`,a.forEach(t=>{const a=e[t];a&&a.length>0&&(i+=`<div class="keybind">\n                        <div class="key">${t}</div>\n                        <div class="commands">\n                            ${a.map(e=>`<span class="command ${e.type}">${e.text||e.command}</span>`).join("")}\n                        </div>\n                    </div>`)}))}),i+="</div>",i}generateHTMLAliasSection(e){if(!e||0===Object.keys(e).length)return"";let t=`<div class="aliases"><h2>${H.t("command_aliases")}</h2>`;return Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,a])=>{t+=`<div class="alias">\n                <div class="alias-name">${e}</div>\n                ${a.description?`<div>${a.description}</div>`:""}\n                <div class="alias-commands">${a.commands}</div>\n            </div>`}),t+="</div>",t}copyCommandPreview(){const e=document.getElementById("commandPreview");e&&e.textContent.trim()?stoUI.copyToClipboard(e.textContent):stoUI.showToast(H.t("no_command_to_copy"),"warning")}generateFileName(e,t,a=e.currentEnvironment||"space"){const i=a||e.currentEnvironment||"space";return`${e.name.replace(/[^a-zA-Z0-9\-_]/g,"_")}_${i}_${(new Date).toISOString().split("T")[0]}.${t}`}downloadFile(e,t,a){const i=new Blob([e],{type:a}),n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)}sanitizeProfileForExport(e){const t=JSON.parse(JSON.stringify(e));return t.keys&&Object.values(t.keys).forEach(e=>{e.forEach(e=>{delete e.id})}),t}exportAllProfiles(){const e=stoStorage.getAllData().profiles;e&&0!==Object.keys(e).length?(Object.entries(e).forEach(([e,t])=>{setTimeout(()=>{this.exportSTOKeybindFile(t)},100)}),stoUI.showToast(H.t("exporting_profiles",{count:Object.keys(e).length}),"info")):stoUI.showToast(H.t("no_profiles_to_export"),"warning")}async importFromFile(e){return new Promise((t,a)=>{const i=new FileReader;i.onload=i=>{try{const n=i.target.result;switch(e.name.split(".").pop().toLowerCase()){case"txt":t(stoKeybinds.importKeybindFile(n));break;case"json":t(this.importJSONFile(n));break;default:a(new Error("Unsupported file format"))}}catch(e){a(e)}},i.onerror=()=>a(new Error("Failed to read file")),i.readAsText(e)})}importJSONFile(e){try{const t=JSON.parse(e);if("profile"===t.type&&t.profile)return stoProfiles.importProfile(e);if("project"===t.type&&t.data)return stoStorage.importData(JSON.stringify(t.data));throw new Error("Unknown JSON file format")}catch(e){throw new Error("Invalid JSON file: "+e.message)}}exportAliases(e){try{const t=this.generateAliasFile(e);this.downloadFile(t,this.generateAliasFileName(e,"txt"),"text/plain"),stoUI.showToast(H.t("aliases_exported_successfully"),"success")}catch(e){stoUI.showToast(H.t("failed_to_export_aliases",{error:e.message}),"error")}}generateAliasFile(e){let t="";const a=(new Date).toLocaleString(),i=Object.keys(e.aliases||{}).length;return t+=`; ================================================================\n; ${e.name} - STO Alias Configuration\n; ================================================================\n; Mode: ${(e.currentEnvironment||"space").toUpperCase()}\n; Generated: ${a}\n; Created by: STO Tools Keybind Manager v${STO_DATA.settings.version}\n;\n; Alias Statistics:\n; - Total aliases: ${i}\n;\n; To use these aliases in Star Trek Online:\n; 1. Save this file as "CommandAliases.txt" (exactly, without quotes)\n; 2. Place it in your STO directory:\n;    [STO Install]\\Star Trek Online\\Live\\localdata\\CommandAliases.txt\n; 3. The aliases will be available when you start the game\n;\n; Alternative: You can append these aliases to an existing CommandAliases.txt\n; file if you already have one with other aliases.\n;\n; Common STO installation paths:\n; - Steam: C:\\Program Files (x86)\\Steam\\steamapps\\common\\Star Trek Online\n; - Epic: C:\\Program Files\\Epic Games\\Star Trek Online  \n; - Arc: C:\\Program Files (x86)\\Perfect World Entertainment\\Arc Games\\Star Trek Online\n; ================================================================\n\n`,e.aliases&&Object.keys(e.aliases).length>0?t+=this.generateAliasSection(e.aliases):t+=`; ${H.t("no_aliases_defined")}\n\n`,t}generateAliasFileName(e,t){return`${e.name.replace(/[^a-zA-Z0-9\-_]/g,"_")}_aliases_${(new Date).toISOString().split("T")[0]}.${t}`}async syncToFolder(e){const t=stoStorage.getAllData(),a={version:STO_DATA.settings.version,exported:(new Date).toISOString(),type:"project",data:t};await ie(e,"project.json",JSON.stringify(a,null,2));const i=t.profiles||{};for(const t of Object.values(i)){const a=t.name.replace(/[^a-zA-Z0-9\-_]/g,"_");if(t.builds?.space){const i={name:t.name,currentEnvironment:"space",keys:t.builds.space.keys||{},keybindMetadata:t.keybindMetadata||{}},n=`${a}_space.txt`,o=this.generateSTOKeybindFile(i,{environment:"space",syncFilename:n,profile:i});await ie(e,`${a}/${n}`,o)}if(t.builds?.ground){const i={name:t.name,currentEnvironment:"ground",keys:t.builds.ground.keys||{},keybindMetadata:t.keybindMetadata||{}},n=`${a}_ground.txt`,o=this.generateSTOKeybindFile(i,{environment:"ground",syncFilename:n,profile:i});await ie(e,`${a}/${n}`,o)}const i=t.aliases||{},n={name:t.name,currentEnvironment:t.currentEnvironment||"space",aliases:i},o=this.generateAliasFile(n);await ie(e,`${a}/${a}_aliases.txt`,o)}}},we=new class{constructor(){this.overlayId="modalOverlay",this.regenerateCallbacks={},this.registerAllModalCallbacks(),window.modalManager=this,window.i18next&&window.i18next.on("languageChanged",()=>{const e=document.querySelector(".modal.active");if(e){const t=e.id;this.regenerateCallbacks&&this.regenerateCallbacks[t]?this.regenerateCallbacks[t]():"function"==typeof window.applyTranslations&&window.applyTranslations(e)}})}getOverlay(){return document.getElementById(this.overlayId)}show(e){const t="string"==typeof e?document.getElementById(e):e,a=this.getOverlay();if(a&&t){a.classList.add("active"),t.classList.add("active"),document.body.classList.add("modal-open"),"function"==typeof window.applyTranslations&&window.applyTranslations(t);const e=t.querySelector("input, textarea, select");return e&&setTimeout(()=>e.focus(),100),!0}return!1}hide(e){const t="string"==typeof e?document.getElementById(e):e,a=this.getOverlay();return!(!a||!t||(t.classList.remove("active"),document.querySelector(".modal.active")||(a.classList.remove("active"),document.body.classList.remove("modal-open")),0))}registerRegenerateCallback(e,t){this.regenerateCallbacks[e]=t}unregisterRegenerateCallback(e){delete this.regenerateCallbacks[e]}registerAllModalCallbacks(){this.registerRegenerateCallback("addCommandModal",()=>{window.stoCommands&&"function"==typeof window.stoCommands.regenerateModalContent&&window.stoCommands.regenerateModalContent()}),this.registerRegenerateCallback("parameterModal",()=>{if(window.app&&"function"==typeof window.app.populateParameterModal){const e=document.getElementById("parameterModal");if(e){const t=e.getAttribute("data-command-def");if(t)try{const e=JSON.parse(t);window.app.populateParameterModal(e)}catch(e){console.warn("Could not parse command definition for parameter modal regeneration")}}}}),this.registerRegenerateCallback("aliasCreationModal",()=>{if(window.app&&"function"==typeof window.app.createAliasCreationModal){const e=document.getElementById("aliasCreationModal");if(e){const t=window.app.createAliasCreationModal();e.innerHTML=t.innerHTML,"function"==typeof window.applyTranslations&&window.applyTranslations(e)}}}),this.registerRegenerateCallback("aliasManagerModal",()=>{window.stoAliases&&"function"==typeof window.stoAliases.renderAliasList&&window.stoAliases.renderAliasList()}),this.registerRegenerateCallback("editAliasModal",()=>{if(window.stoAliases&&"function"==typeof window.stoAliases.populateEditForm){const e=document.getElementById("editAliasModal");if(e){const t=e.getAttribute("data-alias-name");t&&window.stoAliases.populateEditForm(t)}}}),this.registerRegenerateCallback("keySelectionModal",()=>{if(window.app&&"function"==typeof window.app.populateKeyTab){const e=document.getElementById("keySelectionModal");if(e){const t=e.querySelector(".tab-content .tab-pane.active");if(t){const e=t.id.replace("Tab","");window.app.populateKeyTab(e)}}}}),this.registerRegenerateCallback("vertigoModal",()=>{window.app&&"function"==typeof window.app.populateVertigoModal&&window.app.populateVertigoModal()}),this.registerRegenerateCallback("profileModal",()=>{if(window.stoProfiles&&"function"==typeof window.stoProfiles.populateProfileForm){const e=document.getElementById("profileModal");if(e){const t=e.getAttribute("data-mode");window.stoProfiles.populateProfileForm(t)}}}),this.registerRegenerateCallback("preferencesModal",()=>{window.app&&window.app.preferencesManager&&"function"==typeof window.app.preferencesManager.populatePreferencesModal&&window.app.preferencesManager.populatePreferencesModal()}),this.registerRegenerateCallback("fileExplorerModal",()=>{window.stoFileExplorer&&"function"==typeof window.stoFileExplorer.refreshFileList&&window.stoFileExplorer.refreshFileList()}),this.registerRegenerateCallback("exportModal",()=>{window.stoExport&&"function"==typeof window.stoExport.populateExportModal&&window.stoExport.populateExportModal()}),this.registerRegenerateCallback("aboutModal",()=>{const e=document.getElementById("aboutModal");e&&"function"==typeof window.applyTranslations&&window.applyTranslations(e)}),this.registerRegenerateCallback("addKeyModal",()=>{window.app&&"function"==typeof window.app.setupKeyCaptureModal&&window.app.setupKeyCaptureModal()})}},Te=new class{constructor(){this.toastQueue=[],this.dragState={isDragging:!1,dragElement:null,dragData:null},this.init()}init(){this.setupGlobalEventListeners(),this.setupTooltips()}showToast(e,t="info",a=3e3){const i=this.createToast(e,t,a),n=document.getElementById("toastContainer");n&&(n.appendChild(i),requestAnimationFrame(()=>{i.classList.add("show")}),setTimeout(()=>{this.removeToast(i)},a))}createToast(e,t,a){const i=document.createElement("div");i.className=`toast toast-${t}`;const n={success:"fa-check-circle",error:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"};return i.innerHTML=`\n            <div class="toast-content">\n                <i class="fas ${n[t]||n.info}"></i>\n                <span class="toast-message">${e}</span>\n                <button class="toast-close">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n        `,i.querySelector(".toast-close").addEventListener("click",()=>{this.removeToast(i)}),i}hideToast(e){e&&e.parentNode&&this.removeToast(e)}removeToast(e){e.classList.add("removing"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}showModal(e,t=null){return document.getElementById(e),!!modalManager.show(e)&&(t&&this.populateModalData(e,t),!0)}hideModal(e){return document.getElementById(e),!!modalManager.hide(e)&&(this.clearModalData(e),!0)}hideAllModals(){document.querySelectorAll(".modal.active").forEach(e=>{modalManager.hide(e.id)})}populateModalData(e,t){const a=document.getElementById(e);a&&Object.entries(t).forEach(([e,t])=>{const i=a.querySelector(`[data-field="${e}"], #${e}`);i&&("checkbox"===i.type?i.checked=t:i.value=t)})}clearModalData(e){const t=document.getElementById(e);t&&t.querySelectorAll("input, textarea, select").forEach(e=>{"checkbox"===e.type?e.checked=!1:e.value=""})}showLoading(e,t="Loading..."){if("string"==typeof e&&(e=document.getElementById(e)),e){e.classList.add("loading");const a=e.innerHTML;e.dataset.originalContent=a,e.innerHTML=`\n                <div class="loading-spinner">\n                    <i class="fas fa-spinner fa-spin"></i>\n                    <span>${t}</span>\n                </div>\n            `,e.disabled=!0}}hideLoading(e){"string"==typeof e&&(e=document.getElementById(e)),e&&e.classList.contains("loading")&&(e.classList.remove("loading"),e.innerHTML=e.dataset.originalContent||"",e.disabled=!1,delete e.dataset.originalContent)}async confirm(e,t="Confirm",a="warning"){return new Promise(i=>{const n=this.createConfirmModal(e,t,a),o="confirmModal";n.id=o,document.body.appendChild(n);const r=e=>{modalManager.hide(o),document.body.removeChild(n),i(e)};n.querySelector(".confirm-yes").addEventListener("click",()=>{r(!0)}),n.querySelector(".confirm-no").addEventListener("click",()=>{r(!1)}),requestAnimationFrame(()=>{modalManager.show(o)})})}createConfirmModal(e,t,a){const i=document.createElement("div");i.className="modal confirm-modal";const n={warning:"fa-exclamation-triangle",danger:"fa-exclamation-circle",info:"fa-info-circle"};return i.innerHTML=`\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h3>\n                        <i class="fas ${n[a]||n.warning}"></i>\n                        ${t}\n                    </h3>\n                </div>\n                <div class="modal-body">\n                    <p>${e}</p>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary confirm-yes">${"undefined"!=typeof i18next?i18next.t("yes"):"Yes"}</button>\n                    <button class="btn btn-secondary confirm-no">${"undefined"!=typeof i18next?i18next.t("no"):"No"}</button>\n                </div>\n            </div>\n        `,i}initDragAndDrop(e,t={}){const{dragSelector:a=".draggable",dropZoneSelector:i=".drop-zone",onDragStart:n=null,onDragEnd:o=null,onDrop:r=null}=t;e.addEventListener("dragstart",e=>{e.target.matches(a)&&(this.dragState.isDragging=!0,this.dragState.dragElement=e.target,this.dragState.dragData=e.target.dataset,e.target.classList.add("dragging"),e.dataTransfer.effectAllowed="move",n&&n(e,this.dragState))}),e.addEventListener("dragend",e=>{e.target.matches(a)&&(e.target.classList.remove("dragging"),this.dragState.isDragging=!1,this.dragState.dragElement=null,this.dragState.dragData=null,o&&o(e))}),e.addEventListener("dragover",e=>{e.preventDefault();const t=e.target.closest(i);t&&t.classList.add("drag-over")}),e.addEventListener("dragleave",e=>{const t=e.target.closest(i);t&&t.classList.remove("drag-over")}),e.addEventListener("drop",e=>{e.preventDefault();const t=e.target.closest(i);t&&(t.classList.remove("drag-over"),r&&r(e,this.dragState,t))})}validateForm(e){const t=[];return e.querySelectorAll("input[required], textarea[required], select[required]").forEach(e=>{const a=e.value.trim(),i=e.dataset.fieldName||e.name||e.id;a?(e.classList.remove("error"),"email"!==e.type||this.isValidEmail(a)||(t.push(`${i} must be a valid email`),e.classList.add("error"))):(t.push(`${i} is required`),e.classList.add("error"))}),{isValid:0===t.length,errors:t}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async copyToClipboard(e){try{return await navigator.clipboard.writeText(e),this.showToast(i18next.t("content_copied_to_clipboard"),"success"),!0}catch(t){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select();try{return document.execCommand("copy"),this.showToast(i18next.t("content_copied_to_clipboard"),"success"),!0}catch(e){return this.showToast(i18next.t("failed_to_copy_to_clipboard"),"error"),!1}finally{document.body.removeChild(a)}}}fadeIn(e,t=300){e.style.opacity="0",e.style.display="block";let a=null;const i=n=>{a||(a=n);const o=n-a,r=Math.min(o/t,1);e.style.opacity=r,o<t&&requestAnimationFrame(i)};requestAnimationFrame(i)}fadeOut(e,t=300){let a=null;const i=n=>{a||(a=n);const o=n-a,r=Math.max(1-o/t,0);e.style.opacity=r,o<t?requestAnimationFrame(i):e.style.display="none"};requestAnimationFrame(i)}debounce(e,t){let a;return function(...i){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),e(...i)},t)}}throttle(e,t){let a;return function(){const i=arguments;a||(e.apply(this,i),a=!0,setTimeout(()=>a=!1,t))}}setupGlobalEventListeners(){document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideAllModals()}),document.addEventListener("click",e=>{e.target.classList.contains("modal-overlay")&&this.hideAllModals()})}setupTooltips(){document.addEventListener("mouseenter",e=>{e.target&&"function"==typeof e.target.hasAttribute&&e.target.hasAttribute("title")&&e.target.getAttribute("title").trim()&&this.showTooltip(e.target,e.target.getAttribute("title"))},!0),document.addEventListener("mouseleave",e=>{e.target&&"function"==typeof e.target.hasAttribute&&e.target.hasAttribute("title")&&this.hideTooltip()},!0)}showTooltip(e,t){this.hideTooltip();const a=document.createElement("div");a.className="tooltip",a.textContent=t,a.id="active-tooltip",document.body.appendChild(a);const i=e.getBoundingClientRect(),n=a.getBoundingClientRect();let o=i.left+i.width/2-n.width/2,r=i.top-n.height-8;o<8&&(o=8),o+n.width>window.innerWidth-8&&(o=window.innerWidth-n.width-8),r<8&&(r=i.bottom+8,a.classList.add("tooltip-bottom")),a.style.left=o+"px",a.style.top=r+"px",requestAnimationFrame(()=>{a.classList.add("show")})}hideTooltip(){const e=document.getElementById("active-tooltip");e&&e.remove()}},Ce=new class{constructor(){this.currentCommand=null,this.commandBuilders=new Map,this.init()}init(){this.setupCommandBuilders(),this.setupEventListeners()}setupCommandBuilders(){this.commandBuilders.set("targeting",{build:(e,t={})=>{const a=STO_DATA.commands.targeting.commands[e];return a?{command:a.command,type:"targeting",icon:a.icon,text:a.name,description:a.description}:null},getUI:()=>this.createTargetingUI()}),this.commandBuilders.set("combat",{build:(e,t={})=>{const a=STO_DATA.commands.combat.commands[e];if(!a)return null;if(a.customizable&&a.parameters){let i=a.command;if(Object.entries(a.parameters).forEach(([e,a])=>{const n=t[e]||a.default||"",o=`{{${e}}}`;i=i.replace(o,n)}),"setactivecostume"===e){const e=t.modifier1||"modifier1",a=t.modifier2||"modifier2";i=`setactivecostume ${e} ${a}`}return{command:i,type:"combat",icon:a.icon,text:a.name,description:a.description,environment:a.environment,parameters:t}}return{command:a.command,type:"combat",icon:a.icon,text:a.name,description:a.description,environment:a.environment}},getUI:()=>this.createCombatUI()}),this.commandBuilders.set("cosmetic",{build:(e,t={})=>{const a=STO_DATA.commands.cosmetic.commands[e];if(!a)return null;if(a.customizable&&a.parameters){let i=a.command;if(Object.entries(a.parameters).forEach(([e,a])=>{const n=t[e]||a.default||"",o=`{{${e}}}`;i=i.replace(o,n)}),"setactivecostume"===e){const e=t.modifier1||"modifier1",a=t.modifier2||"modifier2";i=`setactivecostume ${e} ${a}`}return{command:i,type:"cosmetic",icon:a.icon,text:a.name,description:a.description,environment:a.environment,parameters:t}}return{command:a.command,type:"cosmetic",icon:a.icon,text:a.name,description:a.description,environment:a.environment}},getUI:()=>this.createCosmeticUI()}),this.commandBuilders.set("tray",{build:(e,t={})=>{const a=t.tray||0,i=t.slot||0;if("tray_with_backup"===e){const e=t.backup_tray||0,n=t.backup_slot||0,o=t.active||"on";return{command:`TrayExecByTrayWithBackup ${a} ${i} ${e} ${n} ${"on"===o?1:0}`,type:"tray",icon:"⚡",text:`Execute Tray ${a+1} Slot ${i+1} (with backup)`,description:`Execute ability in tray ${a+1}, slot ${i+1} with backup in tray ${e+1}, slot ${n+1}`,parameters:{tray:a,slot:i,backup_tray:e,backup_slot:n,active:o}}}if("tray_range"===e){const e=t.start_tray||0,a=t.start_slot||0,i=t.end_tray||0,n=t.end_slot||0,o=t.command_type||"STOTrayExecByTray";return this.generateTrayRangeCommands(e,a,i,n,o).map((t,r)=>({command:t,type:"tray",icon:"⚡",text:0===r?`Execute Range: Tray ${e+1} Slot ${a+1} to Tray ${i+1} Slot ${n+1}`:t,description:0===r?`Execute abilities from tray ${e+1} slot ${a+1} to tray ${i+1} slot ${n+1}`:t,parameters:0===r?{start_tray:e,start_slot:a,end_tray:i,end_slot:n,command_type:o}:void 0}))}if("tray_range_with_backup"===e){const e=t.active||1,a=t.start_tray||0,i=t.start_slot||0,n=t.end_tray||0,o=t.end_slot||0,r=t.backup_start_tray||0,s=t.backup_start_slot||0,c=t.backup_end_tray||0,l=t.backup_end_slot||0;return this.generateTrayRangeWithBackupCommands(e,a,i,n,o,r,s,c,l).map((t,d)=>({command:t,type:"tray",icon:"⚡",text:0===d?`Execute Range with Backup: Tray ${a+1}-${n+1}`:t,description:0===d?`Execute abilities from tray ${a+1} to ${n+1} with backup range`:t,parameters:0===d?{active:e,start_tray:a,start_slot:i,end_tray:n,end_slot:o,backup_start_tray:r,backup_start_slot:s,backup_end_tray:c,backup_end_slot:l}:void 0}))}if("whole_tray"===e){const e=t.command_type||"STOTrayExecByTray";return this.generateWholeTrayCommands(a,e).map((t,i)=>({command:t,type:"tray",icon:"⚡",text:0===i?`Execute Whole Tray ${a+1}`:t,description:0===i?`Execute all abilities in tray ${a+1}`:t,parameters:0===i?{tray:a,command_type:e}:void 0}))}if("whole_tray_with_backup"===e){const e=t.active||1,i=t.backup_tray||0;return this.generateWholeTrayWithBackupCommands(e,a,i).map((t,n)=>({command:t,type:"tray",icon:"⚡",text:0===n?`Execute Whole Tray ${a+1} (with backup Tray ${i+1})`:t,description:0===n?`Execute all abilities in tray ${a+1} with backup from tray ${i+1}`:t,parameters:0===n?{active:e,tray:a,backup_tray:i}:void 0}))}const n=t.command_type||"STOTrayExecByTray";return{command:`+${n} ${a} ${i}`,type:"tray",icon:"⚡",text:`Execute Tray ${a+1} Slot ${i+1}`,description:`Execute ability in tray ${a+1}, slot ${i+1}`,parameters:{tray:a,slot:i,command_type:n}}},getUI:()=>this.createTrayUI()}),this.commandBuilders.set("power",{build:(e,t={})=>{const a=STO_DATA.commands.power.commands[e];return a?{command:a.command,type:"power",icon:a.icon,text:a.name,description:a.description}:null},getUI:()=>this.createPowerUI()}),this.commandBuilders.set("movement",{build:(e,t={})=>{const a=STO_DATA.commands.movement.commands[e];if(!a)return null;let i=a.command;return a.customizable&&t&&("throttle_adjust"===e&&void 0!==t.amount?i=`${a.command} ${t.amount}`:"throttle_set"===e&&void 0!==t.position&&(i=`${a.command} ${t.position}`)),{command:i,type:"movement",icon:a.icon,text:a.name,description:a.description}},getUI:()=>this.createMovementUI()}),this.commandBuilders.set("camera",{build:(e,t={})=>{const a=STO_DATA.commands.camera.commands[e];if(!a)return null;let i=a.command;return a.customizable&&t&&"cam_distance"===e&&void 0!==t.distance&&(i=`${a.command} ${t.distance}`),{command:i,type:"camera",icon:a.icon,text:a.name,description:a.description}},getUI:()=>this.createCameraUI()}),this.commandBuilders.set("communication",{build:(e,t={})=>{const a=STO_DATA.commands.communication.commands[e];if(!a)return null;const i=t.message||"Message text here";return{command:`${a.command} ${i}`,type:"communication",icon:a.icon,text:`${a.name}: ${i}`,description:a.description,parameters:{message:i}}},getUI:()=>this.createCommunicationUI()}),this.commandBuilders.set("system",{build:(e,t={})=>{const a=STO_DATA.commands.system.commands[e];if(!a)return null;let i=a.command;return a.customizable&&t&&("bind_save_file"!==e&&"bind_load_file"!==e&&"ui_load_file"!==e&&"ui_save_file"!==e||!t.filename?"combat_log"!==e&&"chat_log"!==e&&"remember_ui_lists"!==e&&"ui_remember_positions"!==e&&"safe_login"!==e&&"net_timing_graph"!==e&&"net_timing_graph_paused"!==e&&"netgraph"!==e||void 0===t.state?"ui_tooltip_delay"===e&&void 0!==t.seconds?i=`${a.command} ${t.seconds}`:"net_timing_graph_alpha"===e&&void 0!==t.alpha&&(i=`${a.command} ${t.alpha}`):i=`${a.command} ${t.state}`:i=`${a.command} ${t.filename}`),{command:i,type:"system",icon:a.icon,text:a.name,description:a.description}},getUI:()=>this.createSystemUI()}),this.commandBuilders.set("alias",{build:(e,t={})=>{const a=t.alias_name||"";return a.trim()?{command:a,type:"alias",icon:"📝",text:`Alias: ${a}`,description:"Execute custom alias",parameters:{alias_name:a}}:null},getUI:()=>this.createAliasUI()}),this.commandBuilders.set("custom",{build:(e,t={})=>{const a=t.command||"",i=t.text||"Custom Command";return{command:a,type:"custom",icon:"⚙️",text:i,description:"Custom command",parameters:{command:a,text:i}}},getUI:()=>this.createCustomUI()}),this.commandBuilders.set("bridge_officer",{build:(e,t={})=>{const a=STO_DATA.commands.bridge_officer.commands[e];if(!a)return null;if(a.customizable&&a.parameters){let i=a.command;if(Object.entries(a.parameters).forEach(([e,a])=>{const n=t[e]||a.default||"",o=`{{${e}}}`;i=i.replace(o,n)}),"assist"===e){const e=t.name||"";i=e?`Assist ${e}`:"Assist"}return{command:i,type:"bridge_officer",icon:a.icon,text:a.name,description:a.description,environment:a.environment,parameters:t}}return{command:a.command,type:"bridge_officer",icon:a.icon,text:a.name,description:a.description,environment:a.environment}},getUI:()=>this.createBridgeOfficerUI()})}createTargetingUI(){const e=STO_DATA.commands.targeting.commands;return`\n            <div class="command-selector">\n                <label for="targetingCommand">${i18next.t("targeting_command")}</label>\n                <select id="targetingCommand">\n                    <option value="">${i18next.t("select_targeting_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n            </div>\n        `}createCombatUI(){const e=STO_DATA.commands.combat.commands;return`\n            <div class="command-selector">\n                <label for="combatCommand">${i18next.t("combat_command")}:</label>\n                <select id="combatCommand">\n                    <option value="">${i18next.t("select_combat_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n                <div id="combatCommandWarning" class="command-warning" style="display: none;">\n                    <i class="fas fa-exclamation-triangle"></i>\n                    <span id="combatWarningText"></span>\n                </div>\n            </div>\n        `}createCosmeticUI(){const e=STO_DATA.commands.cosmetic.commands;return`\n            <div class="command-selector">\n                <label for="cosmeticCommand">${i18next.t("cosmetic_command")}:</label>\n                <select id="cosmeticCommand">\n                    <option value="">${i18next.t("select_cosmetic_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n            </div>\n            \n            \x3c!-- Parameter Configuration for Customizable Commands --\x3e\n            <div id="cosmeticParamsConfig" class="params-config-section" style="display: none;">\n                <h4>${i18next.t("parameter_configuration")}</h4>\n                \n                \x3c!-- setactivecostume parameters --\x3e\n                <div id="setactivecostumeParams" class="param-group" style="display: none;">\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="modifier1">${i18next.t("modifier_1")}:</label>\n                            <input type="text" id="modifier1" placeholder="${i18next.t("first_modifier")}" value="modifier1">\n                        </div>\n                        <div class="form-group">\n                            <label for="modifier2">${i18next.t("modifier_2")}:</label>\n                            <input type="text" id="modifier2" placeholder="${i18next.t("second_modifier")}" value="modifier2">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `}createTrayUI(){return`\n            <div class="tray-builder">\n                <div class="form-group">\n                    <label for="trayCommandType">${i18next.t("command_type")}:</label>\n                    <select id="trayCommandType">\n                        <option value="custom_tray">${i18next.t("single_tray_slot")}</option>\n                        <option value="tray_with_backup">${i18next.t("single_tray_with_backup")}</option>\n                        <option value="tray_range">${i18next.t("tray_range")}</option>\n                        <option value="tray_range_with_backup">${i18next.t("tray_range_with_backup")}</option>\n                        <option value="whole_tray">${i18next.t("whole_tray")}</option>\n                        <option value="whole_tray_with_backup">${i18next.t("whole_tray_with_backup")}</option>\n                    </select>\n                </div>\n                \n                \x3c!-- Single Tray Configuration --\x3e\n                <div id="singleTrayConfig" class="tray-config-section">\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="trayNumber">${i18next.t("tray_number")}:</label>\n                            <select id="trayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="slotNumber">${i18next.t("slot_number")}:</label>\n                            <select id="slotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Backup Configuration --\x3e\n                <div id="backupConfig" class="tray-config-section" style="display: none;">\n                    <h4>${i18next.t("backup_configuration")}</h4>\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="backupTrayNumber">${i18next.t("backup_tray")}:</label>\n                            <select id="backupTrayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="backupSlotNumber">${i18next.t("backup_slot")}:</label>\n                            <select id="backupSlotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label for="activeState">${i18next.t("active_state")}:</label>\n                        <select id="activeState">\n                            <option value="1">${i18next.t("active")}</option>\n                            <option value="0">${i18next.t("inactive")}</option>\n                        </select>\n                    </div>\n                </div>\n                \n                \x3c!-- Range Configuration --\x3e\n                <div id="rangeConfig" class="tray-config-section" style="display: none;">\n                    <h4>${i18next.t("range_configuration")}</h4>\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="startTrayNumber">${i18next.t("start_tray")}:</label>\n                            <select id="startTrayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="startSlotNumber">${i18next.t("start_slot")}:</label>\n                            <select id="startSlotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="endTrayNumber">${i18next.t("end_tray")}:</label>\n                            <select id="endTrayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="endSlotNumber">${i18next.t("end_slot")}:</label>\n                            <select id="endSlotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Backup Range Configuration --\x3e\n                <div id="backupRangeConfig" class="tray-config-section" style="display: none;">\n                    <h4>${i18next.t("backup_range_configuration")}</h4>\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="backupStartTrayNumber">${i18next.t("backup_start_tray")}:</label>\n                            <select id="backupStartTrayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="backupStartSlotNumber">${i18next.t("backup_start_slot")}:</label>\n                            <select id="backupStartSlotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group">\n                            <label for="backupEndTrayNumber">${i18next.t("backup_end_tray")}:</label>\n                            <select id="backupEndTrayNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="backupEndSlotNumber">${i18next.t("backup_end_slot")}:</label>\n                            <select id="backupEndSlotNumber">\n                                ${Array.from({length:10},(e,t)=>`<option value="${t}">${t+1}</option>`).join("")}\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Command Type Selection --\x3e\n                <div id="commandTypeConfig" class="tray-config-section" style="display: none;">\n                    <div class="form-group">\n                        <label for="trayCommandVariant">${i18next.t("command_variant")}:</label>\n                        <select id="trayCommandVariant">\n                            <option value="STOTrayExecByTray">${i18next.t("stotrayexecbytray_description")}</option>\n                            <option value="TrayExecByTray">${i18next.t("trayexecbytray_description")}</option>\n                        </select>\n                    </div>\n                </div>\n                \n                <div class="tray-visual" id="trayVisual">\n                    \x3c!-- Visual tray representation will be generated here --\x3e\n                </div>\n            </div>\n        `}createPowerUI(){const e=STO_DATA.commands.power.commands;return`\n            <div class="command-selector">\n                <label for="powerCommand">${i18next.t("shield_command")}:</label>\n                <select id="powerCommand">\n                    <option value="">${i18next.t("select_shield_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n                <div id="powerCommandWarning" class="command-warning" style="display: none;">\n                    <i class="fas fa-exclamation-triangle"></i>\n                    <span id="powerWarningText"></span>\n                </div>\n            </div>\n        `}createMovementUI(){const e=STO_DATA.commands.movement.commands;return`\n            <div class="command-selector">\n                <label for="movementCommand">${i18next.t("movement_command")}:</label>\n                <select id="movementCommand">\n                    <option value="">${i18next.t("select_movement_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n                <div id="movementParams" style="display: none;">\n                    <div class="form-group">\n                        <label for="movementAmount">${i18next.t("amount")}: (-1 to 1)</label>\n                        <input type="number" id="movementAmount" min="-1" max="1" step="0.05" value="0.25">\n                    </div>\n                    <div class="form-group">\n                        <label for="movementPosition">${i18next.t("position")}: (-1 to 1)</label>\n                        <input type="number" id="movementPosition" min="-1" max="1" step="0.1" value="1">\n                    </div>\n                </div>\n            </div>\n        `}createCommunicationUI(){const e=STO_DATA.commands.communication.commands;return`\n            <div class="communication-builder">\n                <div class="form-group">\n                    <label for="commCommand">${i18next.t("communication_type")}:</label>\n                    <select id="commCommand">\n                        <option value="">${i18next.t("select_communication_type")}</option>\n                        ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                    </select>\n                </div>\n                <div class="form-group">\n                    <label for="commMessage">${i18next.t("message")}:</label>\n                    <div class="input-with-button">\n                        <input type="text" id="commMessage" placeholder="${i18next.t("enter_your_message")}" maxlength="100">\n                        <button type="button" class="btn btn-small insert-target-btn" title="${i18next.t("insert_target_variable")}">\n                            <i class="fas fa-crosshairs"></i> $Target\n                        </button>\n                    </div>\n                    <small>${i18next.t("maximum_100_characters")}</small>\n                </div>\n                <div class="variable-help">\n                    <h4><i class="fas fa-info-circle"></i> ${i18next.t("sto_variables")}</h4>\n                    <div class="variable-info">\n                        <strong>$Target</strong> - ${i18next.t("replaced_with_your_current_targets_name")}<br>\n                        <em>${i18next.t("example")}:</em> <code>team Attacking [$Target]</code> → <code>team Attacking [Borg Cube]</code>\n                    </div>\n                </div>\n            </div>\n        `}createCameraUI(){const e=STO_DATA.commands.camera.commands;return`\n            <div class="command-selector">\n                <label for="cameraCommand">${i18next.t("camera_command")}:</label>\n                <select id="cameraCommand">\n                    <option value="">${i18next.t("select_camera_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n                <div id="cameraParams" style="display: none;">\n                    <div class="form-group">\n                        <label for="cameraDistance">${i18next.t("distance")}:</label>\n                        <input type="number" id="cameraDistance" min="1" max="500" value="50">\n                    </div>\n                </div>\n            </div>\n        `}createSystemUI(){const e=STO_DATA.commands.system.commands;return`\n            <div class="command-selector">\n                <label for="systemCommand">${i18next.t("system_command")}:</label>\n                <select id="systemCommand">\n                    <option value="">${i18next.t("select_system_command")}</option>\n                    ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n                </select>\n                <div id="systemParams" style="display: none;">\n                    \x3c!-- File-based parameters --\x3e\n                    <div id="systemFileParams" class="form-group" style="display: none;">\n                        <label for="systemFilename">${i18next.t("filename")}:</label>\n                        <input type="text" id="systemFilename" value="my_binds.txt">\n                    </div>\n                    \x3c!-- State-based parameters (0/1) --\x3e\n                    <div id="systemStateParams" class="form-group" style="display: none;">\n                        <label for="systemState">${i18next.t("state")}: (0/1)</label>\n                        <select id="systemState">\n                            <option value="1">${i18next.t("on")}</option>\n                            <option value="0">${i18next.t("off")}</option>\n                        </select>\n                    </div>\n                    \x3c!-- Tooltip delay parameter --\x3e\n                    <div id="systemTooltipParams" class="form-group" style="display: none;">\n                        <label for="systemTooltipDelay">${i18next.t("delay_seconds")}:</label>\n                        <input type="number" id="systemTooltipDelay" min="0" max="10" step="0.1" value="0.5">\n                    </div>\n                    \x3c!-- Net graph alpha parameter --\x3e\n                    <div id="systemAlphaParams" class="form-group" style="display: none;">\n                        <label for="systemAlpha">${i18next.t("transparency_level")}:</label>\n                        <input type="number" id="systemAlpha" min="50" max="255" value="255">\n                        <small>50 = highest transparency, 255 = no transparency</small>\n                    </div>\n                </div>\n            </div>\n        `}createAliasUI(){const e=app?.getCurrentProfile(),t=e?.aliases||{},a=Object.entries(t);return 0===a.length?`\n                <div class="alias-builder">\n                    <div class="empty-state">\n                        <i class="fas fa-mask"></i>\n                        <h4>${i18next.t("no_aliases_available")}</h4>\n                        <p>${i18next.t("create_aliases_in_the_alias_manager_first")}</p>\n                        <button type="button" class="btn btn-primary" id="openAliasManager">\n                            <i class="fas fa-plus"></i> ${i18next.t("create_alias")}\n                        </button>\n                    </div>\n                </div>\n            `:`\n            <div class="alias-builder">\n                <div class="form-group">\n                    <div class="form-check form-switch mb-3">\n                        <input class="form-check-input" type="checkbox" id="aliasToggleMode" />\n                        <label class="form-check-label" for="aliasToggleMode">\n                            Toggle Mode\n                            <i class="fas fa-question-circle ms-1" \n                               data-bs-toggle="tooltip" \n                               title="When enabled, the alias will automatically toggle between its on/off states">\n\n                            </i>\n                        </label>\n                    </div>\n                    \n\n                    <label for="aliasSelect">${i18next.t("available_aliases")}:</label>\n                    <select id="aliasSelect" class="form-select">\n                        <option value="">${i18next.t("select_an_alias")}</option>\n\n                        ${a.map(([e,t])=>`<option value="${e}">${e}${t.description?" - "+t.description:""}</option>`).join("")}\n                    </select>\n                </div>\n                <div id="aliasPreviewSection" style="display: none;">\n                    <div class="alias-info">\n                        <label>${i18next.t("alias_commands")}:</label>\n                        <div class="command-preview" id="selectedAliasPreview"></div>\n                    </div>\n                </div>\n                <div id="toggleAliasInfo" class="alert alert-info mt-3" style="display: none;">\n                    <i class="fas fa-info-circle me-2"></i>\n\n                    ${i18next.t("this_alias_will_automatically_toggle_between_its_onoff_states_when_executed")}\n\n                </div>\n            </div>\n        `}createCustomUI(){return`\n            <div class="custom-builder">\n                <div class="form-group">\n                    <label for="customCommand">${i18next.t("command")}:</label>\n                    <div class="input-with-button">\n                        <input type="text" id="customCommand" placeholder="${i18next.t("enter_sto_command")}" autocomplete="off">\n                        <button type="button" class="btn btn-small insert-target-btn" title="${i18next.t("insert_target_variable")}">\n                            <i class="fas fa-crosshairs"></i> $Target\n                        </button>\n                    </div>\n                    <small>${i18next.t("enter_the_exact_sto_command_syntax")}</small>\n                </div>\n                <div class="form-group">\n                    <label for="customText">${i18next.t("display_text")}:</label>\n                    <input type="text" id="customText" placeholder="${i18next.t("descriptive_name_for_this_command")}" autocomplete="off">\n                </div>\n                <div class="command-help">\n                    <h4>${i18next.t("common_commands")}:</h4>\n                    <div class="command-examples">\n                        <button type="button" class="example-cmd" data-cmd="target_nearest_enemy">target_nearest_enemy</button>\n                        <button type="button" class="example-cmd" data-cmd="FireAll">FireAll</button>\n                        <button type="button" class="example-cmd" data-cmd="+power_exec Distribute_Shields">+power_exec Distribute_Shields</button>\n                        <button type="button" class="example-cmd" data-cmd="+STOTrayExecByTray 0 0">+STOTrayExecByTray 0 0</button>\n                        <button type="button" class="example-cmd" data-cmd='team Attacking [$Target]'>team Attacking [$Target]</button>\n                    </div>\n                </div>\n                <div class="variable-help">\n                    <h4><i class="fas fa-info-circle"></i> ${i18next.t("sto_variables")}</h4>\n                    <div class="variable-info">\n                        <strong>$Target</strong> - ${i18next.t("replaced_with_your_current_targets_name")}<br>\n                        <em>${i18next.t("example")}:</em> <code>team Focus fire on [$Target]</code>\n                    </div>\n                </div>\n            </div>\n        `}setupEventListeners(){document.addEventListener("change",e=>{"commandType"===e.target.id&&this.handleCommandTypeChange(e.target.value)}),document.addEventListener("change",e=>{"trayNumber"!==e.target.id&&"slotNumber"!==e.target.id||(this.updateTrayVisual(),this.updateCommandPreview())}),document.addEventListener("input",e=>{"commMessage"===e.target.id&&this.updateCommandPreview()}),document.addEventListener("input",e=>{"customCommand"!==e.target.id&&"customText"!==e.target.id||this.updateCommandPreview()}),document.addEventListener("click",e=>{if(e.target.classList.contains("example-cmd")){const t=e.target.dataset.cmd,a=document.getElementById("customCommand");a&&(a.value=t,this.updateCommandPreview())}}),document.addEventListener("click",e=>{if(e.target.classList.contains("insert-target-btn")||e.target.closest(".insert-target-btn")){e.preventDefault();const t=(e.target.classList.contains("insert-target-btn")?e.target:e.target.closest(".insert-target-btn")).closest(".input-with-button"),a=t?t.querySelector("input"):null;a&&this.insertTargetVariable(a)}}),document.addEventListener("change",e=>{["targetingCommand","combatCommand","powerCommand","movementCommand","cameraCommand","systemCommand","commCommand","aliasSelect"].includes(e.target.id)&&this.updateCommandPreview()}),window.i18next&&window.i18next.on("languageChanged",()=>{this.regenerateModalContent()})}handleCommandTypeChange(e){const t=document.getElementById("commandBuilder"),a=document.getElementById("modalCommandPreview"),i=document.getElementById("saveCommandBtn");if(t)if(e&&this.commandBuilders.has(e)){const a=this.commandBuilders.get(e).getUI();t.innerHTML=a,this.setupTypeSpecificListeners(e),i&&(i.disabled=!1),this.updateCommandPreview()}else t.innerHTML=`<p class="text-muted">${i18next.t("select_a_command_type_to_see_preview")}</p>`,a&&(a.textContent=i18next.t("select_a_command_type_to_see_preview")),i&&(i.disabled=!0)}setupTypeSpecificListeners(e){if("tray"===e){this.updateTrayVisual();const e=document.getElementById("trayCommandType");e&&(e.addEventListener("change",()=>{this.updateTrayConfigSections(e.value),this.updateCommandPreview()}),this.updateTrayConfigSections(e.value)),["trayNumber","slotNumber","backupTrayNumber","backupSlotNumber","activeState","startTrayNumber","startSlotNumber","endTrayNumber","endSlotNumber","backupStartTrayNumber","backupStartSlotNumber","backupEndTrayNumber","backupEndSlotNumber","trayCommandVariant"].forEach(e=>{const t=document.getElementById(e);t&&t.addEventListener("change",()=>{this.updateTrayVisual(),this.updateCommandPreview()})})}else if("power"===e){const e=document.getElementById("powerCommand");e&&e.addEventListener("change",()=>{this.showPowerWarning(e.value)})}else if("combat"===e){const e=document.getElementById("combatCommand");e&&e.addEventListener("change",()=>{this.showCombatWarning(e.value),this.updateCombatParams(e.value),this.updateCommandPreview()}),["modifier1","modifier2"].forEach(e=>{const t=document.getElementById(e);t&&(t.addEventListener("change",()=>{this.updateCommandPreview()}),t.addEventListener("input",()=>{this.updateCommandPreview()}))})}else if("cosmetic"===e){const e=document.getElementById("cosmeticCommand");e&&e.addEventListener("change",()=>{this.updateCosmeticParams(e.value),this.updateCommandPreview()}),["modifier1","modifier2"].forEach(e=>{const t=document.getElementById(e);t&&(t.addEventListener("change",()=>{this.updateCommandPreview()}),t.addEventListener("input",()=>{this.updateCommandPreview()}))})}else if("bridge_officer"===e){const e=document.getElementById("bridgeOfficerCommand");e&&e.addEventListener("change",()=>{this.updateBridgeOfficerParams(e.value),this.updateCommandPreview()}),["assistName"].forEach(e=>{const t=document.getElementById(e);t&&(t.addEventListener("change",()=>{this.updateCommandPreview()}),t.addEventListener("input",()=>{this.updateCommandPreview()}))})}else if("alias"===e){const e=document.getElementById("aliasSelect");e&&e.addEventListener("change",()=>{this.updateAliasPreview(e.value),this.updateCommandPreview()});const t=document.getElementById("aliasToggleMode");t&&(t.addEventListener("change",()=>{const e=document.getElementById("toggleAliasInfo");e&&(e.style.display=t.checked?"block":"none"),this.updateCommandPreview()}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(e=>new bootstrap.Tooltip(e)));const a=document.getElementById("openAliasManager");a&&a.addEventListener("click",()=>{"undefined"!=typeof stoAliases&&stoAliases.showAliasManager?stoAliases.showAliasManager():(stoUI.hideModal("addCommandModal"),stoUI.showModal("aliasManagerModal"))})}else if("system"===e){const e=document.getElementById("systemCommand");e&&e.addEventListener("change",()=>{this.updateSystemParams(e.value),this.updateCommandPreview()}),["systemFilename","systemState","systemTooltipDelay"].forEach(e=>{const t=document.getElementById(e);t&&(t.addEventListener("change",()=>{this.updateCommandPreview()}),t.addEventListener("input",()=>{this.updateCommandPreview()}))})}}updateTrayConfigSections(e){const t={singleTrayConfig:document.getElementById("singleTrayConfig"),backupConfig:document.getElementById("backupConfig"),rangeConfig:document.getElementById("rangeConfig"),backupRangeConfig:document.getElementById("backupRangeConfig"),commandTypeConfig:document.getElementById("commandTypeConfig")};switch(Object.values(t).forEach(e=>{e&&(e.style.display="none")}),e){case"custom_tray":case"whole_tray":t.singleTrayConfig&&(t.singleTrayConfig.style.display="block"),t.commandTypeConfig&&(t.commandTypeConfig.style.display="block");break;case"tray_with_backup":case"whole_tray_with_backup":t.singleTrayConfig&&(t.singleTrayConfig.style.display="block"),t.backupConfig&&(t.backupConfig.style.display="block");break;case"tray_range":t.rangeConfig&&(t.rangeConfig.style.display="block"),t.commandTypeConfig&&(t.commandTypeConfig.style.display="block");break;case"tray_range_with_backup":t.rangeConfig&&(t.rangeConfig.style.display="block"),t.backupRangeConfig&&(t.backupRangeConfig.style.display="block"),t.backupConfig&&(t.backupConfig.style.display="block")}}showPowerWarning(e){const t=document.getElementById("powerCommandWarning"),a=document.getElementById("powerWarningText");if(t&&a){if(e&&STO_DATA.commands.power.commands[e]){const i=STO_DATA.commands.power.commands[e];if(i.warning)return a.textContent=i.warning,void(t.style.display="block")}t.style.display="none"}}showCombatWarning(e){const t=document.getElementById("combatCommandWarning"),a=document.getElementById("combatWarningText");if(t&&a){if(e&&STO_DATA.commands.combat.commands[e]){const i=STO_DATA.commands.combat.commands[e];if(i.warning)return a.textContent=i.warning,void(t.style.display="block")}t.style.display="none"}}updateAliasPreview(e){const t=document.getElementById("aliasPreviewSection"),a=document.getElementById("selectedAliasPreview");if(t&&a)if(e){const i=app?.getCurrentProfile(),n=i?.aliases?.[e];n?(a.textContent=n.commands,t.style.display="block"):t.style.display="none"}else t.style.display="none"}updateCommandPreview(){const e=document.getElementById("modalCommandPreview");if(!e)return;const t=this.buildCurrentCommand();if(t){if(Array.isArray(t)){const a=t.map(e=>e.command);e.textContent=a.join(" $$ ")}else e.textContent=t.command;e.className="command-preview valid"}else console.log("DEBUG: No command returned, showing default message"),e.textContent=i18next.t("configure_command_options_to_see_preview"),e.className="command-preview"}buildCurrentCommand(){const e=document.getElementById("commandType");if(!e||!e.value)return null;const t=e.value,a=this.commandBuilders.get(t);if(!a)return null;let i=null,n={};switch(t){case"targeting":i=document.getElementById("targetingCommand")?.value;break;case"combat":i=document.getElementById("combatCommand")?.value,"setactivecostume"===i&&(n={modifier1:document.getElementById("modifier1")?.value||"modifier1",modifier2:document.getElementById("modifier2")?.value||"modifier2"});break;case"cosmetic":i=document.getElementById("cosmeticCommand")?.value,"setactivecostume"===i&&(n={modifier1:document.getElementById("modifier1")?.value||"modifier1",modifier2:document.getElementById("modifier2")?.value||"modifier2"});break;case"tray":switch(i=document.getElementById("trayCommandType")?.value||"custom_tray",i){case"custom_tray":n={tray:parseInt(document.getElementById("trayNumber")?.value||0),slot:parseInt(document.getElementById("slotNumber")?.value||0),command_type:document.getElementById("trayCommandVariant")?.value||"STOTrayExecByTray"};break;case"tray_with_backup":n={tray:parseInt(document.getElementById("trayNumber")?.value||0),slot:parseInt(document.getElementById("slotNumber")?.value||0),backup_tray:parseInt(document.getElementById("backupTrayNumber")?.value||0),backup_slot:parseInt(document.getElementById("backupSlotNumber")?.value||0),active:parseInt(document.getElementById("activeState")?.value||1)};break;case"tray_range":n={start_tray:parseInt(document.getElementById("startTrayNumber")?.value||0),start_slot:parseInt(document.getElementById("startSlotNumber")?.value||0),end_tray:parseInt(document.getElementById("endTrayNumber")?.value||0),end_slot:parseInt(document.getElementById("endSlotNumber")?.value||0),command_type:document.getElementById("trayCommandVariant")?.value||"STOTrayExecByTray"};break;case"tray_range_with_backup":n={active:parseInt(document.getElementById("activeState")?.value||1),start_tray:parseInt(document.getElementById("startTrayNumber")?.value||0),start_slot:parseInt(document.getElementById("startSlotNumber")?.value||0),end_tray:parseInt(document.getElementById("endTrayNumber")?.value||0),end_slot:parseInt(document.getElementById("endSlotNumber")?.value||0),backup_start_tray:parseInt(document.getElementById("backupStartTrayNumber")?.value||0),backup_start_slot:parseInt(document.getElementById("backupStartSlotNumber")?.value||0),backup_end_tray:parseInt(document.getElementById("backupEndTrayNumber")?.value||0),backup_end_slot:parseInt(document.getElementById("backupEndSlotNumber")?.value||0)};break;case"whole_tray":n={tray:parseInt(document.getElementById("trayNumber")?.value||0),command_type:document.getElementById("trayCommandVariant")?.value||"STOTrayExecByTray"};break;case"whole_tray_with_backup":n={active:parseInt(document.getElementById("activeState")?.value||1),tray:parseInt(document.getElementById("trayNumber")?.value||0),backup_tray:parseInt(document.getElementById("backupTrayNumber")?.value||0)}}break;case"power":i=document.getElementById("powerCommand")?.value;break;case"movement":i=document.getElementById("movementCommand")?.value,"throttle_adjust"===i?n.amount=parseFloat(document.getElementById("movementAmount")?.value||.25):"throttle_set"===i&&(n.position=parseFloat(document.getElementById("movementPosition")?.value||1));break;case"camera":i=document.getElementById("cameraCommand")?.value,"cam_distance"===i&&(n.distance=parseInt(document.getElementById("cameraDistance")?.value||50));break;case"communication":i=document.getElementById("commCommand")?.value,n={message:document.getElementById("commMessage")?.value||"Message text here"};break;case"system":i=document.getElementById("systemCommand")?.value,"bind_save_file"===i||"bind_load_file"===i||"ui_load_file"===i||"ui_save_file"===i?n.filename=document.getElementById("systemFilename")?.value||"my_binds.txt":"combat_log"===i||"chat_log"===i||"remember_ui_lists"===i||"ui_remember_positions"===i||"safe_login"===i||"net_timing_graph"===i||"net_timing_graph_paused"===i||"netgraph"===i?n.state=parseInt(document.getElementById("systemState")?.value||1):"ui_tooltip_delay"===i?n.seconds=parseFloat(document.getElementById("systemTooltipDelay")?.value||.5):"net_timing_graph_alpha"===i&&(n.alpha=parseInt(document.getElementById("systemAlpha")?.value||255));break;case"alias":i="alias",n={alias_name:document.getElementById("aliasSelect")?.value||""};break;case"custom":i="custom",n={command:document.getElementById("customCommand")?.value||"",text:document.getElementById("customText")?.value||"Custom Command"};break;case"bridge_officer":i=document.getElementById("bridgeOfficerCommand")?.value,"assist"===i&&(n={name:document.getElementById("assistName")?.value||""})}return i||"custom"===t?a.build(i,n):null}updateTrayVisual(){const e=document.getElementById("trayVisual"),t=document.getElementById("trayNumber")?.value||0,a=document.getElementById("slotNumber")?.value||0;e&&(e.innerHTML=`\n            <div class="tray-grid">\n                <div class="tray-label">Tray ${parseInt(t)+1}</div>\n                <div class="slot-grid">\n                    ${Array.from({length:10},(e,t)=>`\n                        <div class="slot ${t==a?"selected":""}" data-slot="${t}">\n                            ${t+1}\n                        </div>\n                    `).join("")}\n                </div>\n            </div>\n        `,e.querySelectorAll(".slot").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("slotNumber");t&&(t.value=e.dataset.slot,this.updateTrayVisual(),this.updateCommandPreview())})}))}generateTrayRangeCommands(e,t,a,i,n){const o=[],r="STOTrayExecByTray"===n?"+":"";if(e===a)for(let a=t;a<=i;a++)o.push(`${r}${n} ${e} ${a}`);else{for(let a=t;a<=9;a++)o.push(`${r}${n} ${e} ${a}`);for(let t=e+1;t<a;t++)for(let e=0;e<=9;e++)o.push(`${r}${n} ${t} ${e}`);if(a>e)for(let e=0;e<=i;e++)o.push(`${r}${n} ${a} ${e}`)}return o}generateTrayRangeWithBackupCommands(e,t,a,i,n,o,r,s,c){const l=[],d=this.generateTraySlotList(t,a,i,n),m=this.generateTraySlotList(o,r,s,c);for(let t=0;t<Math.max(d.length,m.length);t++){const a=d[t]||d[d.length-1],i=m[t]||m[m.length-1];l.push(`TrayExecByTrayWithBackup ${e} ${a.tray} ${a.slot} ${i.tray} ${i.slot}`)}return l}generateWholeTrayCommands(e,t){const a=[],i="STOTrayExecByTray"===t?"+":"";for(let n=0;n<=9;n++)a.push(`${i}${t} ${e} ${n}`);return a}generateWholeTrayWithBackupCommands(e,t,a){const i=[];for(let n=0;n<=9;n++)i.push(`TrayExecByTrayWithBackup ${e} ${t} ${n} ${a} ${n}`);return i}generateTraySlotList(e,t,a,i){const n=[];if(e===a)for(let a=t;a<=i;a++)n.push({tray:e,slot:a});else{for(let a=t;a<=9;a++)n.push({tray:e,slot:a});for(let t=e+1;t<a;t++)for(let e=0;e<=9;e++)n.push({tray:t,slot:e});if(a>e)for(let e=0;e<=i;e++)n.push({tray:a,slot:e})}return n}getCurrentCommand(){return this.buildCurrentCommand()}validateCommand(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){const a=this.validateCommand(e[t]);if(!a.valid)return{valid:!1,error:`Command ${t+1}: ${a.error}`}}return{valid:!0}}let t;if("string"==typeof e)t=e;else{if(!e||!e.command)return{valid:!1,error:"No command provided"};t=e.command}if(!t||0===t.trim().length)return{valid:!1,error:"Command cannot be empty"};const a=t.trim();return["quit","exit","shutdown"].some(e=>a.toLowerCase().includes(e))?{valid:!1,error:"Dangerous command not allowed"}:this.hasUnquotedPipeCharacter(a)?{valid:!1,error:"Invalid characters in command (|)"}:{valid:!0}}hasUnquotedPipeCharacter(e){let t=!1,a=null;for(let i=0;i<e.length;i++){const n=e[i];if(t||'"'!==n&&"'"!==n){if(t&&n===a){let n=0;for(let t=i-1;t>=0&&"\\"===e[t];t--)n++;n%2==0&&(t=!1,a=null)}else if(!t&&"|"===n)return!0}else t=!0,a=n}return!1}getTemplateCommands(e){if(!STO_DATA.templates)return[];const t=[];return Object.entries(STO_DATA.templates).forEach(([a,i])=>{Object.entries(i).forEach(([i,n])=>{n.commands.some(t=>this.detectCommandType(t)===e)&&t.push({id:`${a}_${i}`,name:n.name,description:n.description,scenario:a,commands:n.commands.map(e=>({command:e,type:this.detectCommandType(e),icon:this.getCommandIcon(e),text:this.getCommandText(e)}))})})}),t}detectCommandType(e){if(!e||"string"!=typeof e)return"custom";const t=e.toLowerCase().trim();return t.includes("+stotrayexecbytray")?"tray":t.startsWith("say ")||t.startsWith("team ")||t.startsWith("zone ")||t.startsWith("tell ")||t.includes('"')?"communication":t.includes("+power_exec")||t.includes("distribute_shields")||t.includes("reroute_shields")?"power":t.includes("+fullimpulse")||t.includes("+reverse")||t.includes("throttle")||t.includes("+turn")||t.includes("+up")||t.includes("+down")||t.includes("+left")||t.includes("+right")||t.includes("+forward")||t.includes("+backward")||t.includes("follow")?"movement":t.includes("cam")||t.includes("look")||t.includes("zoom")?"camera":t.includes("fire")||t.includes("attack")||"fireall"===t||"firephasers"===t||"firetorps"===t||"firephaserstorps"===t?"combat":t.includes("target")||"target_enemy_near"===t||"target_self"===t||"target_friend_near"===t||"target_clear"===t?"targeting":t.includes("+gentoggle")||"screenshot"===t||t.includes("hud")||"interactwindow"===t?"system":"custom"}getCommandIcon(e){return{targeting:"🎯",combat:"🔥",tray:"⚡",power:"🔋",communication:"💬",movement:"🚀",camera:"📹",system:"⚙️"}[this.detectCommandType(e)]||"⚙️"}getCommandText(e){if(e.includes("+STOTrayExecByTray")){const t=e.match(/\+STOTrayExecByTray\s+(\d+)\s+(\d+)/);if(t)return`Execute Tray ${parseInt(t[1])+1} Slot ${parseInt(t[2])+1}`}for(const[t,a]of Object.entries(STO_DATA.commands))for(const[t,i]of Object.entries(a.commands))if(i.command===e)return i.name;return e.replace(/[_+]/g," ").replace(/([A-Z])/g," $1").trim()}insertTargetVariable(e){const t=e.selectionStart,a=e.value,i=a.slice(0,t)+"$Target"+a.slice(t);e.value=i,e.setSelectionRange(t+7,t+7),e.focus(),e.dispatchEvent(new Event("input",{bubbles:!0}))}regenerateModalContent(){const e=document.getElementById("addCommandModal");if(!e||"none"===e.style.display)return;const t=document.getElementById("commandType");if(!t)return;const a=t.value;if(a&&this.commandBuilders.has(a)){const e=document.getElementById("commandBuilder");if(e){const t=this.commandBuilders.get(a).getUI();e.innerHTML=t,this.setupTypeSpecificListeners(a),this.updateCommandPreview()}}}updateSystemParams(e){const t=document.getElementById("systemParams"),a=document.getElementById("systemFileParams"),i=document.getElementById("systemStateParams"),n=document.getElementById("systemTooltipParams"),o=document.getElementById("systemAlphaParams");if(t)if(a&&(a.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="none"),o&&(o.style.display="none"),e){const r=STO_DATA.commands.system.commands[e];r&&r.customizable?(t.style.display="block","bind_save_file"===e||"bind_load_file"===e||"ui_load_file"===e||"ui_save_file"===e?a&&(a.style.display="block"):"combat_log"===e||"chat_log"===e||"remember_ui_lists"===e||"ui_remember_positions"===e||"safe_login"===e||"net_timing_graph"===e||"net_timing_graph_paused"===e||"netgraph"===e?i&&(i.style.display="block"):"ui_tooltip_delay"===e?n&&(n.style.display="block"):"net_timing_graph_alpha"===e&&o&&(o.style.display="block")):t.style.display="none"}else t.style.display="none"}updateCombatParams(e){const t=document.getElementById("combatParamsConfig"),a=document.getElementById("setactivecostumeParams");if(t)if(a&&(a.style.display="none"),e){const i=STO_DATA.commands.combat.commands[e];i&&i.customizable?(t.style.display="block","setactivecostume"===e&&a&&(a.style.display="block")):t.style.display="none"}else t.style.display="none"}updateCosmeticParams(e){const t=document.getElementById("cosmeticParamsConfig"),a=document.getElementById("setactivecostumeParams");if(t)if(a&&(a.style.display="none"),e){const i=STO_DATA.commands.cosmetic.commands[e];i&&i.customizable?(t.style.display="block","setactivecostume"===e&&a&&(a.style.display="block")):t.style.display="none"}else t.style.display="none"}createBridgeOfficerUI(){const e=STO_DATA.commands.bridge_officer.commands;return`\n      <div class="command-selector">\n        <label for="bridgeOfficerCommand">${i18next.t("bridge_officer_command")}:</label>\n        <select id="bridgeOfficerCommand">\n          <option value="">${i18next.t("select_bridge_officer_command")}</option>\n          ${Object.entries(e).map(([e,t])=>`<option value="${e}">${t.name}</option>`).join("")}\n        </select>\n      </div>\n      <div id="bridgeOfficerParamsConfig" class="params-config-section" style="display: none;">\n        <h4>${i18next.t("parameter_configuration")}</h4>\n        <div id="assistParams" class="param-group" style="display: none;">\n          <div class="form-row">\n            <div class="form-group">\n              <label for="assistName">${i18next.t("entity_name_optional")}:</label>\n              <input type="text" id="assistName" placeholder="${i18next.t("entity_name_optional_placeholder")}">\n            </div>\n          </div>\n        </div>\n      </div>\n    `}updateBridgeOfficerParams(e){const t=document.getElementById("bridgeOfficerParamsConfig"),a=document.getElementById("assistParams");if(t)if(a&&(a.style.display="none"),e){const i=STO_DATA.commands.bridge_officer.commands[e];i&&i.customizable?(t.style.display="block","assist"===e&&a&&(a.style.display="block")):t.style.display="none"}else t.style.display="none"}},Ae=new class{constructor(){this.modalId="fileExplorerModal",this.treeId="fileTree",this.contentId="fileContent",this.selectedNode=null}init(){this.setupEventListeners()}setupEventListeners(){i.onDom("fileExplorerBtn","click","fileExplorer-open",()=>{this.openExplorer()}),i.onDom(this.treeId,"click","fileExplorer-tree-click",e=>{const t=e.target.closest(".tree-node");t&&this.selectNode(t)}),i.onDom("copyFileContentBtn","click","copyFileContent",()=>{const e=document.getElementById(this.contentId);if(!e)return;const t=e.textContent||"";t.trim()?(stoUI.copyToClipboard(t),stoUI.showToast(i18next.t("content_copied_to_clipboard"),"success")):stoUI.showToast(i18next.t("nothing_to_copy"),"warning")}),i.onDom("downloadFileBtn","click","download-file",()=>{if(!this.selectedNode)return;const{type:e,profileId:t,environment:a}=this.selectedNode,i=document.getElementById(this.contentId);if(!i)return;const n=i.textContent||"";if(!n.trim())return;let o=i18next.t("default_export_filename");const r=stoStorage.getProfile(t);"build"===e?o=stoExport.generateFileName(r,"txt",a):"aliases"===e&&(o=stoExport.generateAliasFileName(r,"txt")),stoExport.downloadFile(n,o,"text/plain")})}openExplorer(){this.buildTree();const e=document.getElementById(this.contentId);e&&(e.textContent=i18next.t("select_an_item_on_the_left_to_preview_export")),stoUI.showModal(this.modalId)}buildTree(){const e=document.getElementById(this.treeId);if(!e)return;e.innerHTML="";const t=stoStorage.getAllData().profiles||{};Object.entries(t).forEach(([t,a])=>{const i=this.createNode("profile",a.name,{profileId:t}),n=document.createElement("div");if(n.className="tree-children",a.builds&&a.builds.space){const e=this.createNode("build","Space Build",{profileId:t,environment:"space"});n.appendChild(e)}if(a.builds&&a.builds.ground){const e=this.createNode("build","Ground Build",{profileId:t,environment:"ground"});n.appendChild(e)}const o=this.createNode("aliases","Aliases",{profileId:t});n.appendChild(o),i.appendChild(n),e.appendChild(i)})}createNode(e,t,a={}){const i=document.createElement("div");return i.className=`tree-node ${e}`,i.textContent=t,i.dataset.type=e,Object.entries(a).forEach(([e,t])=>{i.setAttribute(`data-${e}`,t)}),i}selectNode(e){const t=document.querySelector(".tree-node.selected");t&&t.classList.remove("selected"),e.classList.add("selected");const a=e.dataset.type||e.getAttribute("data-type"),i=e.getAttribute("data-profileid"),n=e.getAttribute("data-environment");if(this.selectedNode={type:a,profileId:i,environment:n},i)try{let e="";e="build"===a?this.generateBuildExport(i,n):"aliases"===a?this.generateAliasExport(i):i18next.t("select_a_space_ground_build_or_aliases_to_preview_export");const t=document.getElementById(this.contentId);t&&(t.textContent=e||"No content available.")}catch(e){console.error("Failed to generate export content:",e),stoUI.showToast(i18next.t("failed_to_generate_export"),"error")}}generateBuildExport(e,t){const a=stoStorage.getProfile(e);if(!a||!a.builds||!a.builds[t])return"";const i=a.builds[t],n={name:`${a.name} ${t}`,mode:t,keys:i.keys||{},keybindMetadata:a.keybindMetadata||{},aliases:i.aliases||{}};return stoExport.generateSTOKeybindFile(n,{environment:t})}generateAliasExport(e){const t=stoStorage.getProfile(e);if(!t)return"";const a={...t.aliases||{},...t.builds?.space?.aliases||{},...t.builds?.ground?.aliases||{}},i={name:t.name,mode:t.currentEnvironment||"space",aliases:a};return stoExport.generateAliasFile(i)}},$e=new class{constructor(){this.selectedEffects={space:new Set,ground:new Set},this.showPlayerSay=!1}generateAlias(e){if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);const t=Array.from(this.selectedEffects[e]);if(0===t.length)return"";let a=`alias dynFxSetFXExlusionList_${e.charAt(0).toUpperCase()+e.slice(1)} <& dynFxSetFXExlusionList ${t.join(",")}`;return this.showPlayerSay&&(a+=" $$ PlayerSay VFX Supression Loaded"),a+=" &>",a}getSelectedEffects(e){if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);return Array.from(this.selectedEffects[e])}toggleEffect(e,t){if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);if(!t)throw new InvalidEffectError(t,e);this.selectedEffects[e].has(t)?this.selectedEffects[e].delete(t):this.selectedEffects[e].add(t)}clearAllEffects(){this.selectedEffects.space.clear(),this.selectedEffects.ground.clear()}selectAllEffects(e){if(!ne[e])throw new InvalidEnvironmentError(e);if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);ne[e].forEach(t=>{this.selectedEffects[e].add(t.effect)})}getEffectCount(e){if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);return this.selectedEffects[e].size}isEffectSelected(e,t){if(!this.selectedEffects[e])throw new InvalidEnvironmentError(e);return this.selectedEffects[e].has(t)}saveState(e){e.vertigoSettings||(e.vertigoSettings={}),e.vertigoSettings={selectedEffects:{space:Array.from(this.selectedEffects.space),ground:Array.from(this.selectedEffects.ground)},showPlayerSay:this.showPlayerSay}}loadState(e){if(e&&e.vertigoSettings){const t=e.vertigoSettings;this.selectedEffects.space=new Set(t.selectedEffects?.space||[]),this.selectedEffects.ground=new Set(t.selectedEffects?.ground||[]),this.showPlayerSay=t.showPlayerSay||!1}else this.selectedEffects.space.clear(),this.selectedEffects.ground.clear(),this.showPlayerSay=!1}},Ee=new class{constructor(e=null){this.storage=e}async setSyncFolder(e=!1){try{const t=await window.showDirectoryPicker();await async function(e,t){const a=await te(),i=a.transaction(ee,"readwrite");i.objectStore(ee).put(t,e),await new Promise((e,t)=>{i.oncomplete=()=>e(),i.onerror=()=>t(i.error),i.onabort=()=>t(i.error)}),a.close()}(ae,t);const a=t.name;if(this.storage){const t=this.storage.getSettings();t.syncFolderName=a,t.syncFolderPath=`Selected folder: ${a}`,t.autoSync=e,this.storage.saveSettings(t)}return stoUI.showToast(H.t("sync_folder_set"),"success"),t}catch(e){return e&&"AbortError"!==e.name&&stoUI.showToast(H.t("failed_to_set_sync_folder",{error:e.message}),"error"),null}}async getSyncFolderHandle(){try{return await async function(e){const t=await te(),a=t.transaction(ee,"readonly").objectStore(ee).get(e),i=await new Promise((e,t)=>{a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)});return t.close(),i||null}(ae)}catch(e){return console.error("Failed to retrieve directory handle",e),null}}async ensurePermission(e){if(!e)return!1;try{const t={mode:"readwrite"};return"granted"===await e.queryPermission(t)||"granted"===await e.requestPermission(t)}catch(e){return console.error("Permission request failed",e),!1}}async syncProject(){const e=await this.getSyncFolderHandle();if(e)if(await this.ensurePermission(e))try{await stoExport.syncToFolder(e);const t=app?.autoSyncManager?.isEnabled,a="change"===app?.autoSyncManager?.interval;t&&a||stoUI.showToast(H.t("project_synced_successfully"),"success"),i.emit("project-synced")}catch(e){stoUI.showToast(H.t("failed_to_sync_project",{error:e.message}),"error")}else stoUI.showToast(H.t("permission_denied_to_folder"),"error");else stoUI.showToast(H.t("no_sync_folder_selected"),"warning")}}(ge);Object.assign(window,{stoStorage:ge,stoProfiles:ve,stoKeybinds:ke,stoAliases:xe,stoExport:Se,modalManager:we,stoUI:Te,stoCommands:Ce,stoFileExplorer:Ae,vertigoManager:$e,stoSync:Ee,VFX_EFFECTS:ne});const Be=new ye;window.app=Be,i.on("sto-app-ready",()=>{ve.init(),ke.init(),xe.init(),Se.init(),Ae.init()});
//# sourceMappingURL=bundle.js.map
